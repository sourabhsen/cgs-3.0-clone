<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for dist/apollo-angular-resume-builder.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">dist/</a> apollo-angular-resume-builder.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">13.42% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>31/231</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">2.78% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>6/216</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">10.14% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>14/138</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>1/1</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2</td><td class="line-coverage quiet"><span class="cline-any cline-yes">36Ã—</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";angular.module("rte-angular",[]).directive("rte",["$sce",<span class="fstat-no" title="function not covered" >function(e){<span class="fstat-no" title="function not covered" ></span>function t(t,r,n,s){<span class="fstat-no" title="function not covered" ></span>function i(e,t){<span class="cstat-no" title="statement not covered" ></span>var r=!1;<span class="cstat-no" title="statement not covered" >i</span>f(f&amp;&amp;"insertUnorderedList"===e){<span class="cstat-no" title="statement not covered" >var n=p.find("br").length;<span class="cstat-no" title="statement not covered" >i</span>f(2&gt;n){<span class="cstat-no" title="statement not covered" >r=!0;<span class="cstat-no" title="statement not covered" >f</span>or(var s=n;2&gt;s;s++)<span class="cstat-no" title="statement not covered" >p.append('&lt;br class="mozBrPatch"&gt;')}</span></span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(document.execCommand(e,!1,t||null),r){<span class="cstat-no" title="statement not covered" >var i=p.find("br");<span class="cstat-no" title="statement not covered" >a</span>ngular.forEach(i,<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var t=angular.element(e);<span class="cstat-no" title="statement not covered" >t</span>.hasClass("mozBrPatch")&amp;&amp;t.remove()}</span>)}</span>}<span class="fstat-no" title="function not covered" ></span>function o(e){<span class="cstat-no" title="statement not covered" ></span>d=e}<span class="fstat-no" title="function not covered" ></span>function a(e){<span class="cstat-no" title="statement not covered" ></span>i(e),m()}<span class="fstat-no" title="function not covered" ></span>function l(e){<span class="cstat-no" title="statement not covered" ></span>return d?document.queryCommandState(e):!1}<span class="fstat-no" title="function not covered" ></span>function u(e){<span class="cstat-no" title="statement not covered" ></span>a(e.cmd)}<span class="fstat-no" title="function not covered" ></span>function c(){<span class="cstat-no" title="statement not covered" ></span>angular.forEach(t.formatFontStyleBtns,<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>l(e.cmd)}</span>)}<span class="fstat-no" title="function not covered" ></span>function m(){<span class="cstat-no" title="statement not covered" ></span>var e=p.html();<span class="cstat-no" title="statement not covered" >(</span>"&lt;br&gt;"===e||"&lt;div&gt;&lt;br&gt;&lt;/div&gt;"===e)&amp;&amp;(e=""),s.$setViewValue(e)}<span class="cstat-no" title="statement not covered" ></span>var d,p=r.find(".rte-content"),f=window.navigator.userAgent.indexOf("Firefox")&gt;-1;<span class="cstat-no" title="statement not covered" >t</span>.formatFontStyleBtns=[{idx:1,cmd:"bold",icon:e.trustAsHtml('&lt;i class="fa fa-bold"&gt;&lt;span class="sr-only"&gt;Bold&lt;/span&gt;&lt;/i&gt;')},{idx:2,cmd:"italic",icon:e.trustAsHtml('&lt;i class="fa fa-italic"&gt;&lt;span class="sr-only"&gt;Italic&lt;/span&gt;&lt;/i&gt;')},{idx:3,cmd:"underline",icon:e.trustAsHtml('&lt;i class="fa fa-underline"&gt;&lt;span class="sr-only"&gt;Underline&lt;/span&gt;&lt;/i&gt;')}],t.formatListBtns=[{idx:1,cmd:"insertUnorderedList",icon:e.trustAsHtml('&lt;i class="fa fa-list-ul"&gt;&lt;span class="sr-only"&gt;Unordered list&lt;/span&gt;&lt;/i&gt;')}],t.setFormat=u,t.getFormatState=l,t.setFocused=o,s.$render=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>p.html(e.getTrustedHtml(s.$viewValue||""))}</span>,p.on("mouseup keyup",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>t.$apply(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>m(),c()}</span>)}</span>),p.on("input",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>t.$eval(n.onInput)}</span>)}<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",require:"ngModel",templateUrl:"/rb/templates/rte.html",link:t}}</span>]),angular.module("apollo-modal-sample-button",["ui.bootstrap"]).directive("apModalSampleButton",["$modal",function(){return{restrict:"AE",replace:!0,scope:{buttonText:"@",modalPath:"@",modalSize:"@"},template:'&lt;div class="col button-col"&gt;&lt;a role="button" href class="cta sample" ng-click="viewSample();"&gt;{{buttonText}}&lt;/a&gt;&lt;/div&gt;',controller:["$scope","$modal",function(e,t){e.viewSample=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>t.open({templateUrl:e.modalPath,size:e.modalSize||"lg"})}</span>}]}}]),function(e){e.module("apollo-sample-resumes",["resume-builder-tpls","apollo-modal-sample-button"]).directive("apSampleResumes",function(){return{restrict:"E",replace:!0,scope:{numCols:"="},templateUrl:"/rb/templates/sample-resumes.html",controller:["$cacheFactory",function(e){var t=[{path:"/rb/samples/modern-accountant-resume.html",name:"Accountant"},{path:"/rb/samples/modern-executiveassistent-resume.html",name:"Executive Assistant"},{path:"/rb/samples/modern-financial-analyst-resume.html",name:"Financial Analyst"},{path:"/rb/samples/classic-itmanagement-resume.html",name:"IT Manager"},{path:"/rb/samples/alternate-managment-professional-resume.html",name:"Management Professional"},{path:"/rb/samples/classic-counseling-resume.html",name:"Mental Health / Behavioral Counselor"},{path:"/rb/samples/alternate-nurse-resume.html",name:"Nurse"},{path:"/rb/samples/classic-security-professional-resume.html",name:"Security Professional"},{path:"/rb/samples/alterante-teacher-resume.html",name:"Teacher"}],r=function(t,r){<span class="missing-if-branch" title="else path not taken" >E</span>if(t){var n,s,i,o=JSON.stringify(t);<span class="missing-if-branch" title="if path not taken" >I</span>if(n=e.get("rbpartition"),n||(n=e("rbpartition")),s=n.get(o+r),JSON.stringify(s)===o)<span class="cstat-no" title="statement not covered" >return s;i</span>=[];for(var a=0;a&lt;t.length;a+=r)i.push(t.slice(a,a+r));return n.put(o+r,i),i}},n=this,s=n.numCols||3;n.samples=r(t,s),n.colClass="col-md-"+Math.floor(12/Math.ceil(t.length/s))}],controllerAs:"srCtrl",bindToController:!0}})}(angular),function(e){e.module("apollo-preview-resume",["resume-model","apolloAngularResumeServices.config"]).directive("apPreviewResume",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:!0,scope:{profileId:"=pid",hideEdit:"=",edit:"&amp;onEdit",cta:"="},templateUrl:"/rb/templates/preview-resume.html",controller:["resumeModel","apolloAngularResumeServices.config",<span class="fstat-no" title="function not covered" >function(e,t){<span class="cstat-no" title="statement not covered" ></span>var r=this;<span class="cstat-no" title="statement not covered" >r</span>.resume=e.resume.resumeObj.resume,r.templates=e.templates,r.preferences=e.preferences,r.docId=e.resume.meta.id,r.tenant=t.tenant;<span class="cstat-no" title="statement not covered" >v</span>ar n=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>r.template=e.resume.preferences.resumeTemplatePreference||"classic",r.templateUrl="/rb/templates/"+r.template.toLowerCase()+"-preview.html"}</span>;<span class="cstat-no" title="statement not covered" >n</span>(),r.updatePreference=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return e.resume.preferences.resumeTemplatePreference=t,e.setPreference(e.resume.meta.id,{resumeTemplatePreference:t}).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>n()}</span>)}</span>}</span>],controllerAs:"pvCtrl",bindToController:!0}}</span>)}(angular),function(e){e.module("apollo-list-resumes",["resume-model","ui.bootstrap","resume-builder-tpls","resume-utils"]).directive("apListResumes",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:!0,scope:{profileId:"=pid",mini:"=",edit:"&amp;onEdit",preview:"&amp;onPreview",size:"&amp;",complete:"&amp;onComplete",isKnown:"&amp;",authenticate:"&amp;"},templateUrl:"/rb/templates/list-resumes.html",controller:["$templateCache","resumeModel","$modal","$q","$scope","resume-utils",<span class="fstat-no" title="function not covered" >function(t,r,n,s,i,o){<span class="cstat-no" title="statement not covered" ></span>var a=this;<span class="cstat-no" title="statement not covered" >a</span>.edit=a.edit||e.noop,a.preview=a.preview||e.noop,a.complete=a.complete||e.noop,i.model=r,i.hasMaxed=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return r.resumeList.length&gt;=25}</span>,a.init=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var t;<span class="cstat-no" title="statement not covered" >a</span>.view=a.mini?"mini":"",t=s.when(e.isFunction(a.isKnown)&amp;&amp;a.isKnown()?[]:r.init(a.profileId)).finally(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>i.$watchCollection("model",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>a.resumeList=r.resumeList,a.size({size:r.resumeList?r.resumeList.length:0}),a.known=a.isKnown()}</span>)}</span>),a.complete({promise:t})}</span>,a.viewEditor=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>var n,i=[];<span class="cstat-no" title="statement not covered" >r</span>eturn e.isFunction(a.isKnown)&amp;&amp;a.isKnown()?((a.authenticate||e.noop)({callback:o.closureFunction(a.viewEditor,[t])}),void 0):(i.push(r.get(t)),i.push(r.getPreferences(t.id)),n=s.all(i),a.edit({promise:n}),void 0)}</span>,a.createDuplicate=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>var s,l;<span class="cstat-no" title="statement not covered" >r</span>eturn e.isFunction(a.isKnown)&amp;&amp;a.isKnown()?((a.authenticate||e.noop)({callback:o.closureFunction(a.createDuplicate,[t])}),void 0):(l=i.$new(),l.submit=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>e?(l.inValid=!1,r.createDuplicate(t.id,e).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>s.close()}</span>).catch(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>l.inValid=!0,l.error=400===e.status?e.data.fieldErrors[0].errorMessage:"Oops..something went wrong. Please reload the page and try again."}</span>)):(l.error="Resume title cannot be left empty",l.inValid=!0)}</span>,s=n.open({templateUrl:"/rb/templates/new-resume-confirmation.html",backdrop:!0,scope:l}),a.complete({promise:s.result}),void 0)}</span>,a.confirm=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>if(e.isFunction(a.isKnown)&amp;&amp;a.isKnown())<span class="cstat-no" title="statement not covered" >return(a.authenticate||e.noop)({callback:o.closureFunction(a.confirm,[t])}),void 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar s=i.$new();<span class="cstat-no" title="statement not covered" >s</span>.question="Do you really want to delete the resume and start over?";<span class="cstat-no" title="statement not covered" >v</span>ar l=n.open({templateUrl:"/rb/templates/delete-resume-confirm.html",size:"sm",backdrop:!0,scope:s}).result.then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>return e?r.delete(t.id):void 0}</span>);<span class="cstat-no" title="statement not covered" >a</span>.complete({promise:l})}</span>,a.viewPreview=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>var n,i=[];<span class="cstat-no" title="statement not covered" >r</span>eturn e.isFunction(a.isKnown)&amp;&amp;a.isKnown()?((a.authenticate||e.noop)({callback:o.closureFunction(a.viewPreview,[t])}),void 0):(i.push(r.get(t)),i.push(r.getPreferences(t.id)),n=s.all(i),a.preview({promise:n}),void 0)}</span>,a.publish=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>if(e.isFunction(a.isKnown)&amp;&amp;a.isKnown())<span class="cstat-no" title="statement not covered" >return(a.authenticate||e.noop)({callback:o.closureFunction(a.publish,[t])}),void 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar n=r.setPreference(t.id,{searchable:"PRIVATE"===t.privacySetting}).then(r.getMetaInfo).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>a.resumeList=r.resumeList}</span>);<span class="cstat-no" title="statement not covered" >a</span>.complete({promise:n})}</span>}</span>],controllerAs:"lrCtrl",bindToController:!0}}</span>)}(angular),function(e){e.module("apollo-resume-editor",["ui.bootstrap","resume-builder-tpls","resume-model","rte-angular","ngDragDrop"]).directive("apResumeEditor",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:!0,scope:{profileId:"=pid","delete":"&amp;onDelete",preview:"&amp;onPreview",save:"&amp;onSave",fail:"&amp;onFail"},templateUrl:"/rb/templates/editor.html",controller:["$scope","resumeModel","$log","$modal","apolloAngularResumeBuilder.config","$document","$parse","$timeout","$q","$interval","$filter","$rootScope","$state",<span class="fstat-no" title="function not covered" >function(t,r,n,s,i,o,a,l,u,c,m,d,p){<span class="cstat-no" title="statement not covered" ></span>var f,v,h=this,b={summary:"summary",experience:"experience",education:"education",skills:"additional info"},g={skills:"skills",awards:"awards",certifications:"certifications",languages:"languages",personalHobbies:"hobbies",volunteerWork:"volunteer"};<span class="cstat-no" title="statement not covered" >h</span>.trans={skills_subsection:"skills",skills:"skills",awards:"awards",certifications:"certifications",languages:"languages",hobbies:"personalHobbies",volunteer:"volunteerWork"},h.isReady=e.isObject(r.resume),h.isDirty=!1,f=e.copy(r.resume),h.init=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>h.resumeMeta=f.resumeObj,h.resume=f.resumeObj.resume,h.skills=e.copy(g);<span class="cstat-no" title="statement not covered" >v</span>ar n=h.resume.skills;<span class="cstat-no" title="statement not covered" >f</span>or(var s in n)<span class="cstat-no" title="statement not covered" >e.isArray(n[s])||(n[s]=n[s].length&gt;0?n[s].split(","):[]);<span class="cstat-no" title="statement not covered" >h</span></span>.sections=e.copy(b);<span class="cstat-no" title="statement not covered" >v</span>ar i,o,a=h.resume.sections;<span class="cstat-no" title="statement not covered" >a</span>.forEach(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>i=e.type.toLowerCase(),b[i]&amp;&amp;(delete h.sections[i],"skills"===i.toLowerCase()&amp;&amp;e.subSections.forEach(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>o=e.type.toLowerCase(),g[h.trans[o]]&amp;&amp;delete h.skills[h.trans[o]]}</span>))}</span>),h.transformAllDates(h.resume,!1),t.autoSave(),t.$on("$destroy",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>c.cancel(v),u()}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar l=!1,u=d.$on("$stateChangeStart",<span class="fstat-no" title="function not covered" >function(n,s,i,o,a){<span class="cstat-no" title="statement not covered" ></span>var u=e.copy(f);<span class="cstat-no" title="statement not covered" >t</span>.transformSkillsArray2Str(u.resumeObj.resume.skills),h.transformAllDates(u.resumeObj.resume,!1,!0),r.resume.resumeObj&amp;&amp;h.isDirty&amp;&amp;!l&amp;&amp;"resumeBuilder"===a.toolId&amp;&amp;"editor"===a.viewId&amp;&amp;(n.preventDefault(),h.saveResume().then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>l=!0,p.go(s,i)}</span>))}</span>)}</span>,h.transformAllDates=<span class="fstat-no" title="function not covered" >function(e,t){<span class="cstat-no" title="statement not covered" ></span>a("experience.jobs")(e)&amp;&amp;h.transformDate(e.experience.jobs,"startDate","endDate",t),a("education.schools")(e)&amp;&amp;h.transformDate(e.education.schools,"startDate","completionDate",t)}</span>,h.transformDate=<span class="fstat-no" title="function not covered" >function(e,t,r,n){<span class="cstat-no" title="statement not covered" ></span>e.forEach(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var s;<span class="cstat-no" title="statement not covered" >e</span>[t]&amp;&amp;(n?e[t]=e[t].toISOString():(s=new Date(e[t]),s.setTime(s.getTime()+6e4*s.getTimezoneOffset()),e[t]=s)),e[r]&amp;&amp;(n?e[r]=e[r]?e[r].toISOString():e[r]:(s=new Date(e[r]),s.setTime(s.getTime()+6e4*s.getTimezoneOffset()),e[r]=s))}</span>)}</span>,h.confirmation=<span class="fstat-no" title="function not covered" >function(e,r,n){<span class="cstat-no" title="statement not covered" ></span>var i="Do you really want to delete {{?}} from resume?";<span class="cstat-no" title="statement not covered" >i</span>=i.replace("{{?}}",n);<span class="cstat-no" title="statement not covered" >v</span>ar o=t.$new();<span class="cstat-no" title="statement not covered" >o</span>.question=i,s.open({templateUrl:"/rb/templates/delete-resume-confirm.html",size:"sm",backdrop:!0,scope:o}).result.then(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return t?e.apply(h,r):void 0}</span>)}</span>,h.markDirty=<span class="fstat-no" title="function not covered" >function(e,t){<span class="cstat-no" title="statement not covered" ></span>var n=a(r.resume);<span class="cstat-no" title="statement not covered" >r</span>eturn h.isDirty||void 0!==t&amp;&amp;n(t)===e||(h.isDirty=!0),!0}</span>,h.deleteSection=<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>h.sections[t]=b[t],"skills"!==t?h.resume[t][r]=[]:(Object.keys(h.resume[t]).map(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>h.resume[t][e]=[]}</span>),h.skills=e.copy(g)),h.resume.sections=h.resume.sections.filter(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>return e.type.toLowerCase()!==t}</span>),h.isDirty=!0}</span>,h.addSection=t.addSection=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>t.resumeValidated=!1,t.formStatus="",delete h.sections[e],h.resume.sections.push({type:e.toUpperCase(),subSections:[]})}</span>,h.deleteCustomSection=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>h.resume.additionalSections=h.resume.additionalSections.filter(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return t.id!==e}</span>),h.resume.sections=h.resume.sections.filter(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return t.type.toLowerCase()!==e}</span>),h.isDirty=!0}</span>,h.addCustomSection=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var t=h.resume.sections.length;<span class="cstat-no" title="statement not covered" >h</span>.resume.sections.push({type:"CUSTOM_SECTION",id:t}),e.isUndefined(h.resume.additionalSections)&amp;&amp;(h.resume.additionalSections=[]),h.resume.additionalSections.push({id:t,section:"CUSTOM SECTION",content:""})}</span>,h.addSubSection=<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>var n,s={jobs:{employer:"",address:{city:"",state:""},startDate:"",endDate:"",isCurrent:!1,title:"",description:"",id:void 0},schools:{details:"",isAttending:!1,completionDate:"",startDate:"",gpa:{max:4,value:""},major:"",qualification:"",address:{city:"",state:""},institution:"",id:void 0}};<span class="cstat-no" title="statement not covered" >e</span>.isUndefined(h.resume[t][r])&amp;&amp;(h.resume[t][r]=[]),n=h.resume[t][r],n.push(e.copy(s[r])),n[n.length-1].id=n.length,h.resume.sections=h.resume.sections.map(<span class="fstat-no" title="function not covered" >function(r){<span class="cstat-no" title="statement not covered" ></span>return r.type.toLowerCase()===t&amp;&amp;(e.isArray(r.subSections)||(r.subSections=[]),r.subSections.push({type:r.type.toUpperCase()+"_SUBSECTION",id:n.length})),r}</span>)}</span>,h.deleteSubSection=<span class="fstat-no" title="function not covered" >function(e,t,r){<span class="cstat-no" title="statement not covered" ></span>h.resume[e][t].splice(r,1),h.isDirty=!0}</span>,h.addSkillsSubSection=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>delete h.skills[h.trans[e]],h.resume.sections=h.resume.sections.map(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return"skills"===t.type.toLowerCase()&amp;&amp;t.subSections.push({type:"skills"===e?e.toUpperCase()+"_SUBSECTION":e.toUpperCase()}),t}</span>),h.resume.skills[h.trans[e]]=[]}</span>,h.deleteSkillsSubSection=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>e=e.toLowerCase(),h.skills[e]=g[e],h.resume.skills[h.trans[e]]=[],h.resume.sections.every(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return"skills"===t.type.toLowerCase()?(t.subSections=t.subSections.filter(<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return t.type.toLowerCase()!==e}</span>),!1):!0}</span>),h.isDirty=!0}</span>,h.deleteSkillInput=<span class="fstat-no" title="function not covered" >function(e,t){<span class="cstat-no" title="statement not covered" ></span>return h.isDirty=!0,e.splice(t,1)}</span>,t.addInfoObj={},h.addSkillInput=<span class="fstat-no" title="function not covered" >function(e,r,n,s){<span class="cstat-no" title="statement not covered" ></span>""===e||13!==s.keyCode&amp;&amp;9!==s.keyCode||(r.push(e),t.addInfoObj[n]="",h.isDirty=!0)}</span>,h.download=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>h.preview({promise:void 0,hideEdit:!0,cta:e})}</span>,t.isSaved=!0,h.saveResume=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var n,s;<span class="cstat-no" title="statement not covered" >r</span>eturn r.resume=e.copy(f),t.transformSkillsArray2Str(r.resume.resumeObj.resume.skills),h.transformAllDates(r.resume.resumeObj.resume,!0),s=u.defer(),c.cancel(v),n=r.update(),n.then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>t.saveConfirmMsg="Resume saved at "+m("date")(new Date,"shortTime")}</span>).catch(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>t.isSaved=!0,t.validationError="Sorry, there was problem saving your resume at this time please try again later."}</span>).finally(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>h.transformAllDates(r.resume.resumeObj.resume),t.autoSave(),s.resolve()}</span>),h.save({promise:n}),s.promise}</span>,t.autoSave=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>v=c(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(h.isDirty||t.resumeEditor.$dirty){<span class="cstat-no" title="statement not covered" >var n=e.copy(f);<span class="cstat-no" title="statement not covered" >t</span>.transformSkillsArray2Str(n.resumeObj.resume.skills),r.resume=n,h.transformAllDates(r.resume.resumeObj.resume,!0),c.cancel(v),r.update().then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>h.isDirty=!1,t.saveConfirmMsg="Resume saved at "+m("date")(new Date,"shortTime"),h.transformAllDates(r.resume.resumeObj.resume),t.autoSave()}</span>)}</span>}</span>,1e4)}</span>,t.transformSkillsArray2Str=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var t;<span class="cstat-no" title="statement not covered" >f</span>or(t in e)<span class="cstat-no" title="statement not covered" >"skills"!==t&amp;&amp;(e[t]=e[t].join(","))}</span></span>,h.updateDate=<span class="fstat-no" title="function not covered" >function(e,t,r){<span class="cstat-no" title="statement not covered" ></span>e&amp;&amp;(t[r]="")}</span>,t.dateConfig={today:new Date,dateOptions:{startingDay:1,showWeeks:!1,minMode:"month"}},h.validateDate=<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>var n,s,i=new Date;<span class="cstat-no" title="statement not covered" >i</span>f(n=t.start,s=t.end,!e.isDate(n)||!e.isDate(s)&amp;&amp;!t.isCurrent)<span class="cstat-no" title="statement not covered" >return"Please enter the date in specified format";<span class="cstat-no" title="statement not covered" >i</span></span>f(e.isDate(n)&amp;&amp;n.getTime()&gt;i.getTime())<span class="cstat-no" title="statement not covered" >return"You cannot pick a date in future";<span class="cstat-no" title="statement not covered" >i</span></span>f(!t.isCurrent){<span class="cstat-no" title="statement not covered" >if(e.isDate(s)&amp;&amp;s.getTime()&gt;i.getTime())<span class="cstat-no" title="statement not covered" >return"You cannot pick a date in future";<span class="cstat-no" title="statement not covered" >i</span></span>f(e.isDate(s)&amp;&amp;e.isDate(n)&amp;&amp;s.getTime()&lt;=n.getTime())<span class="cstat-no" title="statement not covered" >return"End date cannot fall before start date"}<span class="cstat-no" title="statement not covered" ></span></span>r</span>&amp;&amp;(h.isDirty=!0)}</span>,h.isValidGPA=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>return e?/^\d{1}\.\d{1}$/.test(e)?(e=parseFloat(e),e&gt;4?"GPA cannot exceed 4.0":(h.isDirty=!0,void 0)):"Invalid GPA":void 0}</span>,h.deleteResume=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var e;<span class="cstat-no" title="statement not covered" >e</span>=r.delete(r.resume.meta.id).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>h.isDirty=!1}</span>),h.delete({promise:e})}</span>,h.isDisabled=<span class="fstat-no" title="function not covered" >function(e,t){<span class="cstat-no" title="statement not covered" ></span>return e&amp;&amp;!!e[t]}</span>,h.isReady?h.init():(h.fail||e.noop)()}</span>],controllerAs:"editorCtrl",bindToController:!0}}</span>)}(angular),function(e){e.module("apollo-create-resume",["apolloAngularResumeBuilder.config","resume-model","ui.bootstrap","resume-builder-tpls","ngFileUpload"]).directive("apCreateResume",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{restrict:"E",replace:!0,scope:{profileId:"=pid",complete:"&amp;onComplete",isKnown:"&amp;",authenticate:"&amp;"},templateUrl:"/rb/templates/create-resume.html",controller:["resumeModel","$modal","$scope","$filter","$q","$parse","resume-utils",<span class="fstat-no" title="function not covered" >function(t,r,n,s,i,o,a){<span class="fstat-no" title="function not covered" ></span>function l(e){<span class="cstat-no" title="statement not covered" ></span>var r=[],n=s("filter")(t.resumeList,{label:e});<span class="cstat-no" title="statement not covered" >r</span>eturn n.length?(n=n[0],r.push(t.get(n)),r.push(t.getPreferences(n.id)),i.all(r)):!1}<span class="cstat-no" title="statement not covered" ></span>var u=this;<span class="cstat-no" title="statement not covered" >u</span>.complete=u.complete||e.noop,t.init(u.profileId),u.fromScratch=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(e.isFunction(u.isKnown)&amp;&amp;u.isKnown())<span class="cstat-no" title="statement not covered" >return(u.authenticate||e.noop)({callback:u.fromScratch}),void 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar s,i;<span class="cstat-no" title="statement not covered" >i</span>=n.$new(),i.submit=<span class="fstat-no" title="function not covered" >function(e,r){<span class="cstat-no" title="statement not covered" ></span>e.stopImmediatePropagation(),r?(i.inValid=!1,t.save({type:"new",name:r}).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return l(r)}</span>).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>s.close(t.resume.meta.id?"Success":"Fail")}</span>).catch(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>i.inValid=!0,i.error=400===e.status?e.data.fieldErrors[0].errorMessage:"Oops..something went wrong. Please reload the page and try again."}</span>)):(i.error="Resume title is required.",i.inValid=!0)}</span>,s=r.open({templateUrl:"/rb/templates/new-resume-confirmation.html",backdrop:!0,scope:i}),u.complete({promise:s.result})}</span>,u.fromFS=<span class="fstat-no" title="function not covered" >function(r){<span class="cstat-no" title="statement not covered" ></span>if(e.isFunction(u.isKnown)&amp;&amp;u.isKnown())<span class="cstat-no" title="statement not covered" >return(u.authenticate||e.noop)({callback:a.closureFunction(u.fromScratch,[r])}),void 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar s;<span class="cstat-no" title="statement not covered" >n</span>.uploadError=void 0,r&amp;&amp;r.length&amp;&amp;(s=t.save({type:"upload",data:r}).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return l(o("name")(r))}</span>).then(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return"success"}</span>).catch(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>n.uploadError=e.data.fieldErrors[0].errorMessage}</span>),u.complete({promise:s}))}</span>,u.fromLinkedIn=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return t.save({type:"import"})}</span>}</span>],controllerAs:"crCtrl",bindToController:!0}}</span>)}(angular),function(e){e.module("resume-utils",[]).factory("resume-utils",[<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{closureFunction:<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>e.isArray(r)&amp;&amp;r.length?t.apply({},r):t()}</span>}</span>}}</span>])}(angular),function(e){e.module("resume-model",["apolloAngularResumeServices.resume"]).factory("resumeModel",["$resumeservice","$q","$parse","$sce","$window",<span class="fstat-no" title="function not covered" >function(e,t,r,n,s){<span class="cstat-no" title="statement not covered" ></span>var i,o,a={},l=!1;<span class="cstat-no" title="statement not covered" >r</span>eturn a.init=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>return l?o:(i=e,l=!0,o=a.getMetaInfo().finally(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>l=!1}</span>))}</span>,a.getMetaInfo=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return e.list(i).then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>a.resumeList=r("data.items")(e)}</span>)}</span>,a.get=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return a.resume={meta:t},e.get({profileId:i,docId:a.resume.meta.id}).then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>a.resume.resumeObj=e.data}</span>)}</span>,a.getPreferences=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>return e.getPreferences({profileId:i,docId:t}).then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>a.resume.preferences=e.data}</span>)}</span>,a.setPreference=<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>return e.setPreference({profileId:i,docId:t,payload:r})}</span>,a.getTemplates=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var t=this;<span class="cstat-no" title="statement not covered" >r</span>eturn e.getTemplates().then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>t.templates=e.data.items}</span>)}</span>,a.setTemplate=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.setPreference(a.resume.meta,{resumeTemplatePreference:this.preferences.resumeTemplatePreference})}</span>,a.save=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>var r,n;<span class="cstat-no" title="statement not covered" >r</span>eturn n=this,r="upload"===t.type?e.upload(i,t.data):"import"===t.type?e.importLinkedIn(i):e.create(i,{name:t.name}),r.then(a.getMetaInfo)}</span>,a.delete=<span class="fstat-no" title="function not covered" >function(r){<span class="cstat-no" title="statement not covered" ></span>return r?e.delete({profileId:i,docId:r}).then(a.getMetaInfo):t.reject("Document id required to delete resume!")}</span>,a.update=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var t=this;<span class="cstat-no" title="statement not covered" >r</span>eturn e.update({profileId:i,docId:this.resume.meta.id,data:this.resume.resumeObj}).then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>t.resume.resumeObj=e.data}</span>)}</span>,a.updateResumeTitle=<span class="fstat-no" title="function not covered" >function(t){<span class="cstat-no" title="statement not covered" ></span>var r=this;<span class="cstat-no" title="statement not covered" >r</span>eturn e.update({profileId:i,docId:this.resume.meta.id,data:{name:t,resume:{},primaryInd:"Y",status:"COMPLETE"}}).then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>r.resume.resumeObj=e.data}</span>).then(a.getMetaInfo)}</span>,a.getPreviewUrl=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.preferences.previewUrl=e.previewUrl({profileId:i,docId:this.resume.meta.id,template:this.resume.preferences.resumeTemplatePreference})}</span>,a.getPreview=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var t,r;<span class="cstat-no" title="statement not covered" >r</span>=this,t=e.preview({profileId:i,dociId:this.meta.id,data:this.preferences.resumeTemplatePreference}),t.then(<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var t;<span class="cstat-no" title="statement not covered" >t</span>=s.document.createElement("html"),t.innerHTML=e.data,r.content=t.querySelector("body").innerHTML,r.content=r.content.replace(/\s+(&lt;)/g,"$1").replace(/(&gt;)\s+/g,"$1").replace(/\s+â€“\s+/g," - "),r.content=n.trustAsHtml(r.content)}</span>)}</span>,a.getTemplates(),a.createDuplicate=<span class="fstat-no" title="function not covered" >function(t,r){<span class="cstat-no" title="statement not covered" ></span>return e.duplicate({profileId:i,docId:t,data:{name:r,primaryInd:"N"}}).then(a.getMetaInfo)}</span>,a.reset=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>delete a.resumeList,delete a.resume}</span>,a}</span>])}(angular),function(e){e.module("apolloAngularResumeBuilder.config",[]).value("apolloAngularResumeBuilder.config",{debug:!0,editorLayout:!1}),e.module("apolloAngularResumeBuilder",["apolloAngularResumeBuilder.config","apollo-sample-resumes","apollo-create-resume","apollo-list-resumes","apollo-resume-editor","apollo-preview-resume","cgBusy"]).run(["$templateCache",function(e){e.put("/rb/templates/dup-resume-confirm.html",'&lt;div class="container-fluid resume-builder-modal" role="dialog"&gt;&lt;div class="row"&gt;&lt;form class="col-md-12" ng-submit="submit(rlabel)"&gt;&lt;div class="form-group"&gt;&lt;label for="dup-resume-title"&gt;Please enter resume title&lt;/label&gt;&lt;input id="dup-resume-title" type="text" class="form-control" ng-model="rlabel" maxlength="75"&gt;&lt;/div&gt;&lt;div role="alert" class="form-group"&gt;&lt;small class="col-md-12 alert alert-danger" ng-show="inValid"&gt;{{error}}&lt;/small&gt;&lt;/div&gt;&lt;div class="form-group"&gt;&lt;div class="col-md-6 text-right"&gt;&lt;button class="btn btn-primary" ng-click="$close();"&gt;Cancel&lt;/button&gt;&lt;/div&gt;&lt;div class="col-md-6 text-left"&gt;&lt;button class="btn btn-primary" ng-click="submit(rlabel)"&gt;Create&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;/div&gt;'),e.put("/rb/templates/delete-resume-confirm.html",'&lt;div class="container-fluid resume-builder-modal" id="delete-resume-confirmation" role="alertdialog" tabindex="0"&gt;&lt;div class="row"&gt;&lt;div class="col-md-12 text-center"&gt;&lt;p&gt;{{question}}&lt;/p&gt;&lt;div class="row"&gt;&lt;div class="col-md-6 text-center"&gt;&lt;button class="btn btn-primary" ng-click="$close(false);"&gt;Cancel&lt;/button&gt;&lt;/div&gt;&lt;div class="col-md-6 text-center"&gt;&lt;button class="btn btn-primary" ng-click="$close(true);"&gt;Yes&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'),e.put("/rb/templates/new-resume-confirmation.html",'&lt;div class="container-fluid resume-builder-modal" id="new-resume-modal" role="dialog" aria-label="New resume title" tabindex="0&gt;&lt;div class="row"&gt;&lt;form class="col-md-12" ng-submit="submit($event, rlabel)"&gt;&lt;div class="form-group"&gt;&lt;label for="resume-title" tabindex="-1"&gt;Please enter resume title&lt;/label&gt;&lt;input id="resume-title" type="text" class="form-control" ng-model="rlabel" maxlength="75"&gt;&lt;/div&gt;&lt;div role="alert" class="form-group"&gt;&lt;small class="col-md-12 alert alert-danger" ng-show="inValid"&gt;{{error}}&lt;/small&gt;&lt;/div&gt;&lt;/form&gt;&lt;div class="form-group"&gt;&lt;div class="col-md-6 text-right"&gt;&lt;button class="btn btn-primary" ng-click="$close();"&gt;Cancel&lt;/button&gt;&lt;/div&gt;&lt;div class="col-md-6 text-left"&gt;&lt;button class="btn btn-primary" ng-click="submit($event, rlabel)"&gt;Create&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'),e.put("/rb/templates/confirm-navigation-away.html",'&lt;div class="container-fluid resume-builder-modal" role="alertdialog" tabindex="0"&gt;&lt;div class="row"&gt;&lt;div class="col-md-12 text-center"&gt;&lt;p&gt;You are about to leave resume builder, make sure you have saved your work.&lt;/p&gt;&lt;p&gt;Are you sure you want to leave this page?&lt;/p&gt;&lt;div class="row"&gt;&lt;div class="col-md-6 text-right"&gt;&lt;button class="btn btn-primary" ng-click="$close(true);"&gt;Stay on this Page&lt;/button&gt;&lt;/div&gt;&lt;div class="col-md-6 text-left"&gt;&lt;button class="btn btn-primary" ng-click="$close(false);"&gt;Leave this Page&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;')}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwb2xsby1hbmd1bGFyLXJlc3VtZS1idWlsZGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkc2NlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImV4ZWNDb21tYW5kIiwiY21kIiwib3B0Iiwic2hvdWxkUmVtb3ZlQnIiLCJpc0ZpcmVmb3giLCJickxlbmd0aCIsInJ0ZUNvbnRlbnQiLCJmaW5kIiwibGVuZ3RoIiwiaSIsImFwcGVuZCIsImRvY3VtZW50IiwiJGJycyIsImZvckVhY2giLCJiciIsIiRiciIsImhhc0NsYXNzIiwicmVtb3ZlIiwic2V0Rm9jdXNlZCIsImZvY3VzIiwiaGFzRm9jdXMiLCJmb3JtYXQiLCJzZXROZ01vZGVsIiwiZ2V0Rm9ybWF0U3RhdGUiLCJxdWVyeUNvbW1hbmRTdGF0ZSIsInNldEZvcm1hdCIsImJ0biIsImNoZWNrRm9udFN0eWxlU3RhdGVzIiwiZm9ybWF0Rm9udFN0eWxlQnRucyIsImh0bWwiLCIkc2V0Vmlld1ZhbHVlIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImlkeCIsImljb24iLCJ0cnVzdEFzSHRtbCIsImZvcm1hdExpc3RCdG5zIiwiJHJlbmRlciIsImdldFRydXN0ZWRIdG1sIiwiJHZpZXdWYWx1ZSIsIm9uIiwiJGFwcGx5IiwiJGV2YWwiLCJvbklucHV0IiwicmVzdHJpY3QiLCJyZXF1aXJlIiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwiYnV0dG9uVGV4dCIsIm1vZGFsUGF0aCIsIm1vZGFsU2l6ZSIsInRlbXBsYXRlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRtb2RhbCIsInZpZXdTYW1wbGUiLCJvcGVuIiwic2l6ZSIsIm51bUNvbHMiLCIkY2FjaGVGYWN0b3J5Iiwic2FtcGxlcyIsInBhdGgiLCJuYW1lIiwiZmlsdGVyIiwiYXJyIiwiYXJyYXlDYWNoZSIsImNhY2hlZFBhcnRzIiwibmV3QXJyIiwiYXJyU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldCIsInB1c2giLCJzbGljZSIsInB1dCIsIl9fIiwidGhpcyIsImNvbENsYXNzIiwiTWF0aCIsImZsb29yIiwiY2VpbCIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJwcm9maWxlSWQiLCJoaWRlRWRpdCIsImVkaXQiLCJjdGEiLCJyZXN1bWVNb2RlbCIsInJlc3VtZVNlcnZpY2VDb25maWciLCJyZXN1bWUiLCJyZXN1bWVPYmoiLCJ0ZW1wbGF0ZXMiLCJwcmVmZXJlbmNlcyIsImRvY0lkIiwibWV0YSIsImlkIiwidGVuYW50Iiwic2V0VGVtcGxhdGUiLCJyZXN1bWVUZW1wbGF0ZVByZWZlcmVuY2UiLCJ0b0xvd2VyQ2FzZSIsInVwZGF0ZVByZWZlcmVuY2UiLCJ0cGxOYW1lIiwic2V0UHJlZmVyZW5jZSIsInRoZW4iLCJtaW5pIiwicHJldmlldyIsImNvbXBsZXRlIiwiaXNLbm93biIsImF1dGhlbnRpY2F0ZSIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHEiLCJ1dGlscyIsIm5vb3AiLCJtb2RlbCIsImhhc01heGVkIiwicmVzdW1lTGlzdCIsImluaXQiLCJyZXNwIiwidmlldyIsIndoZW4iLCJpc0Z1bmN0aW9uIiwiZmluYWxseSIsIiR3YXRjaENvbGxlY3Rpb24iLCJrbm93biIsInByb21pc2UiLCJ2aWV3RWRpdG9yIiwibWV0YUluZm8iLCJwcm9taXNlcyIsImNhbGxiYWNrIiwiY2xvc3VyZUZ1bmN0aW9uIiwiZ2V0UHJlZmVyZW5jZXMiLCJhbGwiLCJjcmVhdGVEdXBsaWNhdGUiLCJtb2RhbEluc3RhbmNlIiwibVNjb3BlIiwiJG5ldyIsInN1Ym1pdCIsImxhYmVsIiwiaW5WYWxpZCIsImNsb3NlIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInN0YXR1cyIsImRhdGEiLCJmaWVsZEVycm9ycyIsImVycm9yTWVzc2FnZSIsImJhY2tkcm9wIiwicmVzdWx0IiwiY29uZmlybSIsInRtcFNjb3BlIiwicXVlc3Rpb24iLCJib2wiLCJkZWxldGUiLCJ2aWV3UHJldmlldyIsInAiLCJwdWJsaXNoIiwic2VhcmNoYWJsZSIsInByaXZhY3lTZXR0aW5nIiwiZ2V0TWV0YUluZm8iLCJzYXZlIiwiZmFpbCIsIiRsb2ciLCJyYkNvbmZpZyIsIiRkb2N1bWVudCIsIiRwYXJzZSIsIiR0aW1lb3V0IiwiJGludGVydmFsIiwiJGZpbHRlciIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCJfbW9kZWwiLCJhdXRvU2F2ZVByb21pc2UiLCJzZWxmIiwiX3NlY3Rpb25zIiwic3VtbWFyeSIsImV4cGVyaWVuY2UiLCJlZHVjYXRpb24iLCJza2lsbHMiLCJfc2tpbGxzIiwiYXdhcmRzIiwiY2VydGlmaWNhdGlvbnMiLCJsYW5ndWFnZXMiLCJwZXJzb25hbEhvYmJpZXMiLCJ2b2x1bnRlZXJXb3JrIiwidHJhbnMiLCJza2lsbHNfc3Vic2VjdGlvbiIsImhvYmJpZXMiLCJ2b2x1bnRlZXIiLCJpc1JlYWR5IiwiaXNPYmplY3QiLCJpc0RpcnR5IiwiY29weSIsInJlc3VtZU1ldGEiLCJza2lsbCIsImlzQXJyYXkiLCJzcGxpdCIsInNlY3Rpb25zIiwiblR5cGUiLCJuc1R5cGUiLCJzZWMiLCJ0eXBlIiwic3ViU2VjdGlvbnMiLCJzcyIsInRyYW5zZm9ybUFsbERhdGVzIiwiYXV0b1NhdmUiLCIkb24iLCJjYW5jZWwiLCJzdGF0ZUNoYW5nZUxpc3RlbmVyIiwibGVhdmVQYWdlIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwidG1wTW9kZWwiLCJ0cmFuc2Zvcm1Ta2lsbHNBcnJheTJTdHIiLCJ0b29sSWQiLCJ2aWV3SWQiLCJwcmV2ZW50RGVmYXVsdCIsInNhdmVSZXN1bWUiLCJnbyIsIm9iaiIsImNvbnZlcnRUb1N0ciIsInRyYW5zZm9ybURhdGUiLCJqb2JzIiwic2Nob29scyIsImxpc3QiLCJwcm9wMSIsInByb3AyIiwibGlzdEl0ZW0iLCJ0bXBEYXRlIiwidG9JU09TdHJpbmciLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldCIsImNvbmZpcm1hdGlvbiIsImZuIiwiYXJyUGFyYW1zIiwic3RyIiwiYXBwbHkiLCJtYXJrRGlydHkiLCJuZXdWYWwiLCJwcm9wUGF0aCIsIiRyZXN1bWVQYXJzZXIiLCJ1bmRlZmluZWQiLCJkZWxldGVTZWN0aW9uIiwibm9kZSIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJrZXkiLCJzZWN0aW9uIiwiYWRkU2VjdGlvbiIsInJlc3VtZVZhbGlkYXRlZCIsImZvcm1TdGF0dXMiLCJ0b1VwcGVyQ2FzZSIsImRlbGV0ZUN1c3RvbVNlY3Rpb24iLCJhZGRpdGlvbmFsU2VjdGlvbnMiLCJhZGRDdXN0b21TZWN0aW9uIiwic2VjdGlvbklkIiwiaXNVbmRlZmluZWQiLCJjb250ZW50IiwiYWRkU3ViU2VjdGlvbiIsIm9ialJlZiIsInRwbCIsImVtcGxveWVyIiwiYWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJpc0N1cnJlbnQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZGV0YWlscyIsImlzQXR0ZW5kaW5nIiwiY29tcGxldGlvbkRhdGUiLCJncGEiLCJtYXgiLCJ2YWx1ZSIsIm1ham9yIiwicXVhbGlmaWNhdGlvbiIsImluc3RpdHV0aW9uIiwiZGVsZXRlU3ViU2VjdGlvbiIsInBvcyIsInNwbGljZSIsImFkZFNraWxsc1N1YlNlY3Rpb24iLCJkZWxldGVTa2lsbHNTdWJTZWN0aW9uIiwiZXZlcnkiLCJkZWxldGVTa2lsbElucHV0IiwiaW5kZXgiLCJhZGRJbmZvT2JqIiwiYWRkU2tpbGxJbnB1dCIsIiRldmVudCIsImtleUNvZGUiLCJkb3dubG9hZCIsImlzU2F2ZWQiLCJkZWZlcnJlZCIsImRlZmVyIiwidXBkYXRlIiwic2F2ZUNvbmZpcm1Nc2ciLCJ2YWxpZGF0aW9uRXJyb3IiLCJyZXNvbHZlIiwicmVzdW1lRWRpdG9yIiwiJGRpcnR5Iiwiam9pbiIsInVwZGF0ZURhdGUiLCJwcm9wIiwiZGF0ZUNvbmZpZyIsInRvZGF5IiwiZGF0ZU9wdGlvbnMiLCJzdGFydGluZ0RheSIsInNob3dXZWVrcyIsIm1pbk1vZGUiLCJ2YWxpZGF0ZURhdGUiLCJkYXRlIiwic3RhcnQiLCJlbmQiLCJpc0RhdGUiLCJpc1ZhbGlkR1BBIiwidGVzdCIsInBhcnNlRmxvYXQiLCJkZWxldGVSZXN1bWUiLCJpc0Rpc2FibGVkIiwibG9hZE1ldGFJbmZvIiwiZnJvbVNjcmF0Y2giLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJmcm9tRlMiLCJ1cGxvYWRFcnJvciIsImZyb21MaW5rZWRJbiIsImZhY3RvcnkiLCJmdW5jIiwiYXJncyIsIiRyZXN1bWUiLCIkd2luZG93IiwiaW5pdFByb21pc2UiLCJpbml0TG9hZGluZyIsInJlcyIsInBheWxvYWQiLCJnZXRUZW1wbGF0ZXMiLCJ0aGF0IiwiaXRlbXMiLCJ1cGxvYWQiLCJpbXBvcnRMaW5rZWRJbiIsImNyZWF0ZSIsInJlamVjdCIsInVwZGF0ZVJlc3VtZVRpdGxlIiwicHJpbWFyeUluZCIsImdldFByZXZpZXdVcmwiLCJwcmV2aWV3VXJsIiwiZ2V0UHJldmlldyIsImRvY2lJZCIsImh0bWxFbGVtIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3IiLCJkdXBsaWNhdGUiLCJyZXNldCIsImRlYnVnIiwiZWRpdG9yTGF5b3V0IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFHQSxZQU1BQSxTQUFRQyxPQUFPLGtCQUNaQyxVQUFVLE9BQVEsT0FDakIsU0FBU0MsR0FDUCxRQUFTQyxHQUFLQyxFQUFPQyxFQUFTQyxFQUFPQyxHQXlIbkMsUUFBU0MsR0FBWUMsRUFBS0MsR0FDeEIsR0FBSUMsSUFBaUIsQ0FPckIsSUFBSUMsR0FBcUIsd0JBQVJILEVBQStCLENBQzlDLEdBQUlJLEdBQVdDLEVBQVdDLEtBQUssTUFBTUMsTUFDckMsSUFBZSxFQUFYSCxFQUFjLENBQ2hCRixHQUFpQixDQUNqQixLQUFLLEdBQUlNLEdBQUlKLEVBQWMsRUFBSkksRUFBT0EsSUFDNUJI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QVdsQixFQUFRdlUsU0FBUzBWLGNBQWMsUUFDMUNELEVBQVNFLFVBQVlqQixFQUFJbk0sS0FFekJzTSxFQUFLL0UsUUFBVTJGLEVBQVNHLGNBQWMsUUFBUUQsVUFFOUNkLEVBQUsvRSxRQUFXK0UsRUFBWSxRQUFFdlMsUUFBUSxVQUFXLE1BQzlDQSxRQUFRLFVBQVcsTUFDbkJBLFFBQVEsV0FBWSxPQUN2QnVTLEVBQUsvRSxRQUFVL1EsRUFBSzJDLFlBQVltVCxFQUFLL0UsWUFLekN0SixFQUFNb08sZUFHTnBPLEVBQU1tQixnQkFBa0IsU0FBVXZDLEVBQU8vQixHQUN2QyxNQUFPaVIsR0FBUXVCLFdBQ2JuUixVQUFXQSxFQUNYVSxNQUFPQSxFQUNQbUQsTUFDRWxGLEtBQU1BLEVBQ04rUixXQUFZLE9BSWJ0UCxLQUFLVSxFQUFNOEMsY0FHaEI5QyxFQUFNc1AsTUFBUSxpQkFDTHRQLEdBQU1FLGlCQUNORixHQUFNeEIsUUFHUndCLE1BR1o1SCxTQUtILFNBQVdBLEdBSVRBLEVBQVFDLE9BQU8sd0NBQ1ptUyxNQUFNLHFDQUNMK0UsT0FBTyxFQUNMQyxjQUFjLElBS3BCcFgsRUFBUUMsT0FBTyw4QkFFWCxvQ0FDRSx3QkFDQSx1QkFDQSxzQkFDQSx1QkFDQSx3QkFDQSxXQUdIb1gsS0FBSyxpQkFBa0IsU0FBVTdQLEdBQ2hDQSxFQUFlbkMsSUFBSSx3Q0FBeUMseXNCQW9CNURtQyxFQUFlbkMsSUFBSSwyQ0FBNEMsd2JBVy9EbUMsRUFBZW5DLElBQUksNkNBQThDLCt4QkFzQmpFbUMsRUFBZW5DLElBQUksNkNBQThDLDhoQkFZcEVyRiIsImZpbGUiOiJhcG9sbG8tYW5ndWxhci1yZXN1bWUtYnVpbGRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDT0RFIEFET1BURUQgRlJPTSBodHRwczovL2dpdGh1Yi5jb20vZHJlamtpbS9ydGUtYW5ndWxhclxuLy8gQ3VzdG9taXplZCB0b29sYmFyIGFuZCBhZGRlZCBvbi1pbnB1dFxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIGpzaGludCBsYXRlZGVmOm5vZnVuY1xuLyogZ2xvYmFscyBkb2N1bWVudDogZmFsc2UgKi9cbi8qIGdsb2JhbHMgd2luZG93OiBmYWxzZSAqL1xuXG5hbmd1bGFyLm1vZHVsZSgncnRlLWFuZ3VsYXInLCBbXSlcbiAgLmRpcmVjdGl2ZSgncnRlJywgWyckc2NlJyxcbiAgICBmdW5jdGlvbigkc2NlKSB7XG4gICAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICB2YXIgcnRlQ29udGVudCA9IGVsZW1lbnQuZmluZCgnLnJ0ZS1jb250ZW50JyksXG4gICAgICAgICAgaXNGaXJlZm94ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gLTEsXG4gICAgICAgICAgLy8gdGV4dFNlbGVjdGlvbiwgdGV4dFJhbmdlLFxuICAgICAgICAgIGhhc0ZvY3VzO1xuXG4gICAgICAgIC8vLyBmb3JtYXQgYmxvY2sgaXRlbXNcblxuICAgICAgICAvLyBzY29wZS5mb3JtYXRCbG9ja0l0ZW1zID0gW1xuICAgICAgICAvLyAgIHsgaWR4OiAxLCBvcHQ6ICdkaXYnLCBsYWJlbFBsYWluOiAnTm9ybWFsJywgbGFiZWw6ICRzY2UudHJ1c3RBc0h0bWwoJ05vcm1hbCcpIH0sXG4gICAgICAgIC8vICAgeyBpZHg6IDIsIG9wdDogJ2gxJywgbGFiZWxQbGFpbjogJ0hlYWRpbmcgMScsIGxhYmVsOiAkc2NlLnRydXN0QXNIdG1sKCc8aDE+SGVhZGluZyAxPC9oMT4nKSB9LFxuICAgICAgICAvLyAgIHsgaWR4OiAzLCBvcHQ6ICdoMicsIGxhYmVsUGxhaW46ICdIZWFkaW5nIDInLCBsYWJlbDogJHNjZS50cnVzdEFzSHRtbCgnPGgyPkhlYWRpbmcgMjwvaDI+JykgfSxcbiAgICAgICAgLy8gICB7IGlkeDogNCwgb3B0OiAnaDMnLCBsYWJlbFBsYWluOiAnSGVhZGluZyAzJywgbGFiZWw6ICRzY2UudHJ1c3RBc0h0bWwoJzxoMz5IZWFkaW5nIDM8L2gzPicpIH0sXG4gICAgICAgIC8vICAgeyBpZHg6IDUsIG9wdDogJ2g0JywgbGFiZWxQbGFpbjogJ0hlYWRpbmcgNCcsIGxhYmVsOiAkc2NlLnRydXN0QXNIdG1sKCc8aDQ+SGVhZGluZyA0PC9oND4nKSB9LFxuICAgICAgICAvLyAgIHsgaWR4OiA2LCBvcHQ6ICdoNScsIGxhYmVsUGxhaW46ICdIZWFkaW5nIDUnLCBsYWJlbDogJHNjZS50cnVzdEFzSHRtbCgnPGg1PkhlYWRpbmcgNTwvaDU+JykgfSxcbiAgICAgICAgLy8gICB7IGlkeDogNywgb3B0OiAnaDYnLCBsYWJlbFBsYWluOiAnSGVhZGluZyA2JywgbGFiZWw6ICRzY2UudHJ1c3RBc0h0bWwoJzxoNj5IZWFkaW5nIDY8L2g2PicpIH0sXG4gICAgICAgIC8vICAgeyBpZHg6IDgsIG9wdDogJ2Jsb2NrcXVvdGUnLCBsYWJlbFBsYWluOiAnUXVvdGUnLCBsYWJlbDogJHNjZS50cnVzdEFzSHRtbCgnPGJsb2NrcXVvdGU+UXVvdGU8L2Jsb2NrcXVvdGU+JykgfSxcbiAgICAgICAgLy8gICB7IGlkeDogOSwgb3B0OiAncHJlJywgbGFiZWxQbGFpbjogJ0NvZGUnLCBsYWJlbDogJHNjZS50cnVzdEFzSHRtbCgnPHByZT5Db2RlPC9wcmU+JykgfVxuICAgICAgICAvLyBdO1xuXG4gICAgICAgIC8vIHNjb3BlLmRlZmF1bHRGb3JtYXRCbG9ja0l0ZW0gPSBzY29wZS5mb3JtYXRCbG9ja0l0ZW1zWzBdO1xuICAgICAgICAvLyBzY29wZS5hY3RpdmVGb3JtYXRCbG9ja0l0ZW0gPSBzY29wZS5kZWZhdWx0Rm9ybWF0QmxvY2tJdGVtO1xuICAgICAgICAvLyBzY29wZS5zZXRBY3RpdmVGb3JtYXRCbG9jayA9IHNldEFjdGl2ZUZvcm1hdEJsb2NrO1xuXG4gICAgICAgIC8vLyBmb3JtYXQgYnV0dG9uc1xuXG4gICAgICAgIHNjb3BlLmZvcm1hdEZvbnRTdHlsZUJ0bnMgPSBbe1xuICAgICAgICAgICAgaWR4OiAxLFxuICAgICAgICAgICAgY21kOiAnYm9sZCcsXG4gICAgICAgICAgICBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLWJvbGRcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Cb2xkPC9zcGFuPjwvaT4nKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGlkeDogMixcbiAgICAgICAgICAgIGNtZDogJ2l0YWxpYycsXG4gICAgICAgICAgICBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLWl0YWxpY1wiPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPkl0YWxpYzwvc3Bhbj48L2k+JylcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBpZHg6IDMsXG4gICAgICAgICAgICBjbWQ6ICd1bmRlcmxpbmUnLFxuICAgICAgICAgICAgaWNvbjogJHNjZS50cnVzdEFzSHRtbCgnPGkgY2xhc3M9XCJmYSBmYS11bmRlcmxpbmVcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5VbmRlcmxpbmU8L3NwYW4+PC9pPicpXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB7IGlkeDogNCwgY21kOiAnc3RyaWtldGhyb3VnaCcsIGljb246ICRzY2UudHJ1c3RBc0h0bWwoJzxpIGNsYXNzPVwiZmEgZmEtc3RyaWtldGhyb3VnaFwiPjwvaT4nKSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgc2NvcGUuZm9ybWF0TGlzdEJ0bnMgPSBbe1xuICAgICAgICAgICAgaWR4OiAxLFxuICAgICAgICAgICAgY21kOiAnaW5zZXJ0VW5vcmRlcmVkTGlzdCcsXG4gICAgICAgICAgICBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLWxpc3QtdWxcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Vbm9yZGVyZWQgbGlzdDwvc3Bhbj48L2k+JylcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIHsgaWR4OiAyLCBjbWQ6ICdpbnNlcnRPcmRlcmVkTGlzdCcsIGljb246ICRzY2UudHJ1c3RBc0h0bWwoJzxpIGNsYXNzPVwiZmEgZmEtbGlzdC1vbFwiPjwvaT4nKSB9LFxuICAgICAgICAgIC8vIHsgaWR4OiAzLCBjbWQ6ICdvdXRkZW50JywgaWNvbjogJHNjZS50cnVzdEFzSHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1vdXRkZW50XCI+PC9pPicpIH0sXG4gICAgICAgICAgLy8geyBpZHg6IDQsIGNtZDogJ2luZGVudCcsIGljb246ICRzY2UudHJ1c3RBc0h0bWwoJzxpIGNsYXNzPVwiZmEgZmEtaW5kZW50XCI+PC9pPicpIH1cbiAgICAgICAgXTtcblxuICAgICAgICAvLyBzY29wZS5mb3JtYXRBbGlnbkJ0bnMgPSBbXG4gICAgICAgIC8vICAgeyBpZHg6IDEsIGNtZDogJ2p1c3RpZnlMZWZ0JywgaWNvbjogJHNjZS50cnVzdEFzSHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1hbGlnbi1sZWZ0XCI+PC9pPicpIH0sXG4gICAgICAgIC8vICAgeyBpZHg6IDIsIGNtZDogJ2p1c3RpZnlDZW50ZXInLCBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLWFsaWduLWNlbnRlclwiPjwvaT4nKSB9LFxuICAgICAgICAvLyAgIHsgaWR4OiAzLCBjbWQ6ICdqdXN0aWZ5UmlnaHQnLCBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLWFsaWduLXJpZ2h0XCI+PC9pPicpIH1cbiAgICAgICAgLy8gXTtcblxuICAgICAgICBzY29wZS5zZXRGb3JtYXQgPSBzZXRGb3JtYXQ7XG4gICAgICAgIHNjb3BlLmdldEZvcm1hdFN0YXRlID0gZ2V0Rm9ybWF0U3RhdGU7XG4gICAgICAgIHNjb3BlLnNldEZvY3VzZWQgPSBzZXRGb2N1c2VkO1xuXG4gICAgICAgIC8vLyBsaW5rIGJ1dHRvbnNcblxuICAgICAgICAvLyBzY29wZS5saW5rQnRucyA9IFtcbiAgICAgICAgLy8gICB7XG4gICAgICAgIC8vICAgICBpZHg6IDEsXG4gICAgICAgIC8vICAgICBvcHQ6ICdsaW5rJyxcbiAgICAgICAgLy8gICAgIGljb246ICRzY2UudHJ1c3RBc0h0bWwoJzxpIGNsYXNzPVwiZmEgZmEtbGlua1wiPjwvaT4nKSxcbiAgICAgICAgLy8gICAgIGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgICAgcmV0dXJuICFjaGVja1RleHRTZWxlY3RlZCgpO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIGRpYWxvZzoge1xuICAgICAgICAvLyAgICAgICB1cmw6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgLy8gICAgICAgcG9zaXRpb246IHsgdG9wOiAnMHB4JywgbGVmdDogJzBweCcgfSxcbiAgICAgICAgLy8gICAgICAgYWN0aW9uU3RyOiAnSW5zZXJ0IGxpbmsnLFxuICAgICAgICAvLyAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgICAgICB0ZXh0U2VsZWN0aW9uLmFkZFJhbmdlKHRleHRSYW5nZSk7XG4gICAgICAgIC8vICAgICAgICAgaW5zZXJ0SHRtbCgnPGEgaHJlZj1cIicgKyB0aGlzLnVybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgdGV4dFNlbGVjdGlvbiArICc8L2E+Jyk7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gICAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH0sXG4gICAgICAgIC8vICAge1xuICAgICAgICAvLyAgICAgaWR4OiAyLFxuICAgICAgICAvLyAgICAgb3B0OiAnaW1hZ2UnLFxuICAgICAgICAvLyAgICAgaWNvbjogJHNjZS50cnVzdEFzSHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1pbWFnZVwiPjwvaT4nKSxcbiAgICAgICAgLy8gICAgIGRpYWxvZzoge1xuICAgICAgICAvLyAgICAgICB1cmw6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgLy8gICAgICAgcG9zaXRpb246IHsgdG9wOiAnMHB4JywgbGVmdDogJzBweCcgfSxcbiAgICAgICAgLy8gICAgICAgYWN0aW9uU3RyOiAnSW5zZXJ0IGltYWdlIFVSTCcsXG4gICAgICAgIC8vICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgICAgIHRleHRTZWxlY3Rpb24uYWRkUmFuZ2UodGV4dFJhbmdlKTtcbiAgICAgICAgLy8gICAgICAgICBpbnNlcnRIdG1sKCc8aW1nIHNyYz1cIicgKyB0aGlzLnVybCArICdcIj48L2ltZz4nKTtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgfSxcbiAgICAgICAgLy8gICB7XG4gICAgICAgIC8vICAgICBpZHg6IDMsXG4gICAgICAgIC8vICAgICBvcHQ6ICd2aWRlbycsXG4gICAgICAgIC8vICAgICBpY29uOiAkc2NlLnRydXN0QXNIdG1sKCc8aSBjbGFzcz1cImZhIGZhLXlvdXR1YmUtcGxheVwiPjwvaT4nKSxcbiAgICAgICAgLy8gICAgIGRpYWxvZzoge1xuICAgICAgICAvLyAgICAgICB1cmw6IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgLy8gICAgICAgcG9zaXRpb246IHsgdG9wOiAnMHB4JywgbGVmdDogJzBweCcgfSxcbiAgICAgICAgLy8gICAgICAgYWN0aW9uU3RyOiAnSW5zZXJ0IHZpZGVvIFVSTCcsXG4gICAgICAgIC8vICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgICAgIHRleHRTZWxlY3Rpb24uYWRkUmFuZ2UodGV4dFJhbmdlKTtcbiAgICAgICAgLy8gICAgICAgICBpbnNlcnRIdG1sKCc8aWZyYW1lIHNyYz1cIicgKyB0aGlzLnVybCArICdcIiB3aWR0aD1cIjU2MFwiIGhlaWdodD1cIjMxNVwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nKTtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gXTtcblxuICAgICAgICAvLyBzY29wZS5zaG93RGlhbG9nID0gc2hvd0RpYWxvZztcblxuXG4gICAgICAgIGZ1bmN0aW9uIGV4ZWNDb21tYW5kKGNtZCwgb3B0KSB7XG4gICAgICAgICAgdmFyIHNob3VsZFJlbW92ZUJyID0gZmFsc2U7XG5cbiAgICAgICAgICAvLyBIQUNLIHRvIGZpeCB1bm9yZGVyZWQgbGlzdCBmb3IgRmlyZWZveFxuICAgICAgICAgIC8vIEZpcmVmb3ggZHVwbGljYXRlcyB0aGUgcnRlIGVsZW1lbnQgd2hlbiB0aGVyZSBpcyBsZXNzIHRoYW4gMiA8YnI+IGVsZW1lbnRzXG4gICAgICAgICAgLy8gQ2hlY2tpbmcgdGhpcyBjYXNlLCBpbnNlcnRpbmcgYSB0ZW1wb3JhcnkgPGJyPlxuICAgICAgICAgIC8vIHRoYW4gcmVtb3ZpbmcgdGhlIDxicj4gYWZ0ZXJcbiAgICAgICAgICAvLyBGaXJlZm94IGlzIHJlYWxseSBzdGFydGluZyB0byBzdWNrXG4gICAgICAgICAgaWYgKGlzRmlyZWZveCAmJiBjbWQgPT09ICdpbnNlcnRVbm9yZGVyZWRMaXN0Jykge1xuICAgICAgICAgICAgdmFyIGJyTGVuZ3RoID0gcnRlQ29udGVudC5maW5kKCdicicpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChickxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlQnIgPSB0cnVlO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gYnJMZW5ndGg7IGkgPCAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBydGVDb250ZW50LmFwcGVuZCgnPGJyIGNsYXNzPVwibW96QnJQYXRjaFwiPicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYnIgbGVuZ3RoJywgcnRlQ29udGVudC5maW5kKCdicicpLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIG9wdCB8fCBudWxsKTtcblxuICAgICAgICAgIGlmIChzaG91bGRSZW1vdmVCcikge1xuICAgICAgICAgICAgdmFyICRicnMgPSBydGVDb250ZW50LmZpbmQoJ2JyJyk7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJGJycywgZnVuY3Rpb24oYnIpIHtcbiAgICAgICAgICAgICAgdmFyICRiciA9IGFuZ3VsYXIuZWxlbWVudChicik7XG4gICAgICAgICAgICAgIGlmICgkYnIuaGFzQ2xhc3MoJ21vekJyUGF0Y2gnKSkge1xuICAgICAgICAgICAgICAgICRici5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0Rm9jdXNlZChmb2N1cykge1xuICAgICAgICAgIGhhc0ZvY3VzID0gZm9jdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmdW5jdGlvbnMgZm9yIGZvcm1hdEJsb2NrIGl0ZW1zXG4gICAgICAgIC8vIGZ1bmN0aW9uIGZvcm1hdEJsb2NrKG9wdCkge1xuICAgICAgICAvLyAgIGV4ZWNDb21tYW5kKCdmb3JtYXRCbG9jaycsICc8JyArIG9wdCArICc+Jyk7XG4gICAgICAgIC8vICAgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2Zvcm1hdEJsb2NrJywgZmFsc2UsICc8JyArIG9wdCArICc+Jyk7XG4gICAgICAgIC8vICAgc2V0TmdNb2RlbCgpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gZ2V0Rm9ybWF0QmxvY2tTdGF0ZShvcHQpIHtcbiAgICAgICAgLy8gICByZXR1cm4gZG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUoJ2Zvcm1hdEJsb2NrJykgPT09IG9wdCA/IHRydWU6IGZhbHNlO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gc2V0QWN0aXZlRm9ybWF0QmxvY2soaXRlbSkge1xuICAgICAgICAvLyAgIHNjb3BlLmFjdGl2ZUZvcm1hdEJsb2NrSXRlbSA9IGl0ZW07XG4gICAgICAgIC8vICAgZm9ybWF0QmxvY2soaXRlbS5vcHQpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gY2hlY2tGb3JtYXRCbG9ja1N0YXRlKCkge1xuICAgICAgICAvLyAgIGFuZ3VsYXIuZm9yRWFjaChzY29wZS5mb3JtYXRCbG9ja0l0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyAgICAgaWYoZ2V0Rm9ybWF0QmxvY2tTdGF0ZShpdGVtLm9wdCkpIHtcbiAgICAgICAgLy8gICAgICAgc2NvcGUuYWN0aXZlRm9ybWF0QmxvY2tJdGVtID0gaXRlbTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICB9KTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vLyBmdW5jdGlvbnMgZm9yIGZvcm1hdCBidXR0b25zXG5cbiAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGNtZCkge1xuICAgICAgICAgIC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIG51bGwpO1xuICAgICAgICAgIGV4ZWNDb21tYW5kKGNtZCk7XG4gICAgICAgICAgc2V0TmdNb2RlbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Rm9ybWF0U3RhdGUoY21kKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hhc0ZvY3VzJywgaGFzRm9jdXMpO1xuICAgICAgICAgIHJldHVybiBoYXNGb2N1cyA/IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCkgOiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldEZvcm1hdChidG4pIHtcbiAgICAgICAgICBmb3JtYXQoYnRuLmNtZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjaGVja0ZvbnRTdHlsZVN0YXRlcygpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2NvcGUuZm9ybWF0Rm9udFN0eWxlQnRucywgZnVuY3Rpb24oYnRuKSB7XG4gICAgICAgICAgICBnZXRGb3JtYXRTdGF0ZShidG4uY21kKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vLyBmdW5jdGlvbnMgZm9yIGxpbmsgYnV0dG9uc1xuXG4gICAgICAgIC8vIGZ1bmN0aW9uIGluc2VydEh0bWwobWFya3VwKSB7XG4gICAgICAgIC8vICAgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCBmYWxzZSwgbWFya3VwKTtcbiAgICAgICAgLy8gICBleGVjQ29tbWFuZCgnaW5zZXJ0SFRNTCcsIG1hcmt1cCk7XG4gICAgICAgIC8vICAgc2V0TmdNb2RlbCgpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gY2hlY2tUZXh0U2VsZWN0ZWQoKSB7XG4gICAgICAgIC8vICAgcmV0dXJuIGRvY3VtZW50LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCkgPyB0cnVlOiBmYWxzZTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uIHNob3dEaWFsb2coYnRuKSB7XG4gICAgICAgIC8vICAgYnRuLmRpYWxvZy51cmwgPSAnJztcbiAgICAgICAgLy8gICBzYXZlVGV4dFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIC8vICAgc2V0QWN0aXZlTGlua0J0bihidG4pO1xuICAgICAgICAvLyAgIHBvc2l0aW9uRGlhbG9nKGJ0bik7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBmdW5jdGlvbiBzYXZlVGV4dFNlbGVjdGlvblJhbmdlKCkge1xuICAgICAgICAvLyAgIHRleHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgLy8gICBpZih0ZXh0U2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICAgIC8vICAgICB0ZXh0UmFuZ2UgPSB0ZXh0U2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gZnVuY3Rpb24gc2V0QWN0aXZlTGlua0J0bihidG4pIHtcbiAgICAgICAgLy8gICB2YXIgaXNWaXNpYmxlID0gYnRuLmRpYWxvZy5pc1Zpc2libGU7XG5cbiAgICAgICAgLy8gICBhbmd1bGFyLmZvckVhY2goc2NvcGUubGlua0J0bnMsIGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIC8vICAgICBiLmRpYWxvZy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gICB9KTtcblxuICAgICAgICAvLyAgIGJ0bi5kaWFsb2cuaXNWaXNpYmxlID0gIWlzVmlzaWJsZTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uIHBvc2l0aW9uRGlhbG9nKGJ0bikge1xuICAgICAgICAvLyAgIHZhciBidG5Qb3NpdGlvbiA9IGFuZ3VsYXIuZWxlbWVudCgnI2J0bi0nICsgYnRuLm9wdCkub2Zmc2V0KCk7XG4gICAgICAgIC8vICAgdmFyIGJ0bkhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCgnI2J0bi0nICsgYnRuLm9wdCkub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgLy8gICB2YXIgYnRuV2lkdGggPSBhbmd1bGFyLmVsZW1lbnQoJyNidG4tJyArIGJ0bi5vcHQpLm91dGVyV2lkdGgoKTtcbiAgICAgICAgLy8gICB2YXIgZGlhbG9nQ29udGVudFdpZHRoID0gYW5ndWxhci5lbGVtZW50KCcucnRlLWRpYWxvZycpLm91dGVyV2lkdGgoKTtcblxuICAgICAgICAvLyAgIGJ0bi5kaWFsb2cucG9zaXRpb24gPSB7XG4gICAgICAgIC8vICAgICB0b3A6IChidG5Qb3NpdGlvbi50b3AgLSBhbmd1bGFyLmVsZW1lbnQod2luZG93KS5zY3JvbGxUb3AoKSArIGJ0bkhlaWdodCkudG9TdHJpbmcoKSArICdweCcsXG4gICAgICAgIC8vICAgICBsZWZ0OiAoYnRuUG9zaXRpb24ubGVmdCAtIGRpYWxvZ0NvbnRlbnRXaWR0aCAvIDIgKyBidG5XaWR0aCAvIDIpLnRvU3RyaW5nKCkgKyAncHgnXG4gICAgICAgIC8vICAgfTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vLyAyLXdheSBkYXRhIGJpbmRpbmdcblxuICAgICAgICAvLyB2aWV3IC0tPiBtb2RlbFxuICAgICAgICBmdW5jdGlvbiBzZXROZ01vZGVsKCkge1xuICAgICAgICAgIHZhciBodG1sID0gcnRlQ29udGVudC5odG1sKCk7XG5cbiAgICAgICAgICAvLyBzdHJpcCBvdXQgZXh0cmEgPGJyPiB0YWcgdGhhdCBpcyBsZWZ0IGJlaGluZCB3aGVuIGEgY29udGVudGVkaXRhYmxlIGlzIGNsZWFyZWRcbiAgICAgICAgICBpZiAoaHRtbCA9PT0gJzxicj4nIHx8IGh0bWwgPT09ICc8ZGl2Pjxicj48L2Rpdj4nKSB7XG4gICAgICAgICAgICBodG1sID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGh0bWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW9kZWwgLS0+IHZpZXdcbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcnRlQ29udGVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdXBkYXRlIHN0YXRlc1xuICAgICAgICBydGVDb250ZW50Lm9uKCdtb3VzZXVwIGtleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIG1vZGVsIGZpcnN0Li4uXG4gICAgICAgICAgICBzZXROZ01vZGVsKCk7XG5cbiAgICAgICAgICAgIC8vIGlmKG5nTW9kZWwuJHZpZXdWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIC8vICAgc2V0QWN0aXZlRm9ybWF0QmxvY2soc2NvcGUuZGVmYXVsdEZvcm1hdEJsb2NrSXRlbSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrRm9ybWF0QmxvY2tTdGF0ZSgpO1xuICAgICAgICAgICAgY2hlY2tGb250U3R5bGVTdGF0ZXMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYmluZCBvbklucHV0IHRvIGFueSBpbnB1dFxuICAgICAgICBydGVDb250ZW50Lm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm9uSW5wdXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvcnRlLmh0bWwnLFxuICAgICAgICBsaW5rOiBsaW5rXG4gICAgICB9O1xuICAgIH1cbiAgXSlcbiAgLy8gLmRpcmVjdGl2ZSgncnRlRGlhbG9nJywgZnVuY3Rpb24gKCkge1xuICAvLyAgIHJldHVybiB7XG4gIC8vICAgICByZXN0cmljdDogJ0UnLFxuICAvLyAgICAgc2NvcGU6IHtcbiAgLy8gICAgICAgcG9zaXRpb246ICc9JyxcbiAgLy8gICAgICAgdXJsOiAnPScsXG4gIC8vICAgICAgIGFjdGlvblN0cjogJz0nLFxuICAvLyAgICAgICBhY3Rpb246ICcmJyxcbiAgLy8gICAgICAgY2xvc2U6ICcmJyxcbiAgLy8gICAgIH0sXG4gIC8vICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvcnRlLWRpYWxvZy5odG1sJ1xuICAvLyAgIH07XG4gIC8vIH0pXG5cbjtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNS8xOC8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBvbGxvLW1vZGFsLXNhbXBsZS1idXR0b24nLCBbXG4gICd1aS5ib290c3RyYXAnXG5dKVxuXG4gIC5kaXJlY3RpdmUoJ2FwTW9kYWxTYW1wbGVCdXR0b24nLCBbJyRtb2RhbCcsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgYnV0dG9uVGV4dDogJ0AnLFxuICAgICAgICAgIG1vZGFsUGF0aDogJ0AnLFxuICAgICAgICAgIG1vZGFsU2l6ZTogJ0AnICAvLyBkZWZhdWx0cyB0byBsZ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJjb2wgYnV0dG9uLWNvbFwiPjxhIHJvbGU9XCJidXR0b25cIiBocmVmIGNsYXNzPVwiY3RhIHNhbXBsZVwiIG5nLWNsaWNrPVwidmlld1NhbXBsZSgpO1wiPnt7YnV0dG9uVGV4dH19PC9hPjwvZGl2PicsXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRtb2RhbCcsXG4gICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsKSB7XG5cbiAgICAgICAgICAgICRzY29wZS52aWV3U2FtcGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICRzY29wZS5tb2RhbFBhdGgsXG4gICAgICAgICAgICAgICAgc2l6ZTogJHNjb3BlLm1vZGFsU2l6ZSB8fCAnbGcnXG4gICAgICAgICAgICAgICAgLyogYmFja2Ryb3A6IGZhbHNlICovXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfVxuICBdKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8yLzE1LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tc2FtcGxlLXJlc3VtZXMnLCBbXG4gICAgJ3Jlc3VtZS1idWlsZGVyLXRwbHMnXG4gICAgLCAnYXBvbGxvLW1vZGFsLXNhbXBsZS1idXR0b24nXG4gIF0pXG4gICAgLmRpcmVjdGl2ZSgnYXBTYW1wbGVSZXN1bWVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBudW1Db2xzOiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL3NhbXBsZS1yZXN1bWVzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbiAoJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBzYW1wbGVzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvbW9kZXJuLWFjY291bnRhbnQtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnQWNjb3VudGFudCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICwge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvbW9kZXJuLWV4ZWN1dGl2ZWFzc2lzdGVudC1yZXN1bWUuaHRtbCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdFeGVjdXRpdmUgQXNzaXN0YW50J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9tb2Rlcm4tZmluYW5jaWFsLWFuYWx5c3QtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnRmluYW5jaWFsIEFuYWx5c3QnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2NsYXNzaWMtaXRtYW5hZ2VtZW50LXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ0lUIE1hbmFnZXInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2FsdGVybmF0ZS1tYW5hZ21lbnQtcHJvZmVzc2lvbmFsLXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ01hbmFnZW1lbnQgUHJvZmVzc2lvbmFsJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9jbGFzc2ljLWNvdW5zZWxpbmctcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnTWVudGFsIEhlYWx0aCAvIEJlaGF2aW9yYWwgQ291bnNlbG9yJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9hbHRlcm5hdGUtbnVyc2UtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnTnVyc2UnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2NsYXNzaWMtc2VjdXJpdHktcHJvZmVzc2lvbmFsLXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ1NlY3VyaXR5IFByb2Zlc3Npb25hbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICwge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvYWx0ZXJhbnRlLXRlYWNoZXItcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnVGVhY2hlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIChhcnIsIHNpemUpIHtcbiAgICAgICAgICAgIGlmICghYXJyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFycmF5Q2FjaGVcbiAgICAgICAgICAgICAgLCBjYWNoZWRQYXJ0c1xuICAgICAgICAgICAgICAsIGFyclN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGFycilcbiAgICAgICAgICAgICAgLCBuZXdBcnI7XG5cblxuICAgICAgICAgICAgYXJyYXlDYWNoZSA9ICRjYWNoZUZhY3RvcnkuZ2V0KCdyYnBhcnRpdGlvbicpO1xuICAgICAgICAgICAgaWYgKCFhcnJheUNhY2hlKSB7XG4gICAgICAgICAgICAgIGFycmF5Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdyYnBhcnRpdGlvbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZWRQYXJ0cyA9IGFycmF5Q2FjaGUuZ2V0KGFyclN0cmluZyArIHNpemUpO1xuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGNhY2hlZFBhcnRzKSA9PT0gYXJyU3RyaW5nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZWRQYXJ0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3QXJyID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gc2l6ZSkge1xuICAgICAgICAgICAgICBuZXdBcnIucHVzaChhcnIuc2xpY2UoaSwgaSArIHNpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycmF5Q2FjaGUucHV0KGFyclN0cmluZyArIHNpemUsIG5ld0Fycik7XG4gICAgICAgICAgICByZXR1cm4gbmV3QXJyO1xuICAgICAgICAgIH07XG5cblxuICAgICAgICAgIHZhciBfXyA9IHRoaXM7XG4gICAgICAgICAgdmFyIG51bUNvbHMgPSBfXy5udW1Db2xzIHx8IDM7XG5cbiAgICAgICAgICBfXy5zYW1wbGVzID0gZmlsdGVyKHNhbXBsZXMsIG51bUNvbHMpO1xuICAgICAgICAgIF9fLmNvbENsYXNzID0gJ2NvbC1tZC0nICsgTWF0aC5mbG9vcigxMi9NYXRoLmNlaWwoc2FtcGxlcy5sZW5ndGgvIG51bUNvbHMpKTtcblxuICAgICAgICB9XSxcbiAgICAgICAgY29udHJvbGxlckFzOiAnc3JDdHJsJyxcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgfTtcbiAgICB9KTtcbn0pKGFuZ3VsYXIpO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgeXJnYW50YSBvbiA2LzgvMTUuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2Fwb2xsby1wcmV2aWV3LXJlc3VtZScsIFtcbiAgICAncmVzdW1lLW1vZGVsJ1xuICAgICwgJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVTZXJ2aWNlcy5jb25maWcnXG4gIF0pXG4gICAgLmRpcmVjdGl2ZSgnYXBQcmV2aWV3UmVzdW1lJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBwcm9maWxlSWQ6ICc9cGlkJ1xuICAgICAgICAgICwgaGlkZUVkaXQ6ICc9J1xuICAgICAgICAgICwgZWRpdDogJyZvbkVkaXQnXG4gICAgICAgICAgLCBjdGE6ICc9J1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvcHJldmlldy1yZXN1bWUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IFtcbiAgICAgICAgICAncmVzdW1lTW9kZWwnXG4gICAgICAgICAgLCAnYXBvbGxvQW5ndWxhclJlc3VtZVNlcnZpY2VzLmNvbmZpZydcbiAgICAgICAgICAsIGZ1bmN0aW9uIChyZXN1bWVNb2RlbCwgcmVzdW1lU2VydmljZUNvbmZpZykge1xuICAgICAgICAgICAgdmFyIF9fID0gdGhpcztcblxuICAgICAgICAgICAgLy8gZXhwb3NlIHJlc3VtZSBtb2RlbCB0aHJvdWdoIGNvbnRyb2xsZXIuXG4gICAgICAgICAgICBfXy5yZXN1bWUgPSByZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqLnJlc3VtZTtcbiAgICAgICAgICAgIF9fLnRlbXBsYXRlcyA9IHJlc3VtZU1vZGVsLnRlbXBsYXRlcztcbiAgICAgICAgICAgIF9fLnByZWZlcmVuY2VzID0gcmVzdW1lTW9kZWwucHJlZmVyZW5jZXM7XG4gICAgICAgICAgICBfXy5kb2NJZCA9IHJlc3VtZU1vZGVsLnJlc3VtZS5tZXRhLmlkO1xuICAgICAgICAgICAgX18udGVuYW50ID0gcmVzdW1lU2VydmljZUNvbmZpZy50ZW5hbnQ7XG5cbiAgICAgICAgICAgIHZhciBzZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX18udGVtcGxhdGUgPSByZXN1bWVNb2RlbC5yZXN1bWUucHJlZmVyZW5jZXMucmVzdW1lVGVtcGxhdGVQcmVmZXJlbmNlIHx8ICdjbGFzc2ljJztcbiAgICAgICAgICAgICAgX18udGVtcGxhdGVVcmwgPSAnL3JiL3RlbXBsYXRlcy8nICsgX18udGVtcGxhdGUudG9Mb3dlckNhc2UoKSArICctcHJldmlldy5odG1sJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNldFRlbXBsYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlIHByZWZlcmVuY2VcbiAgICAgICAgICAgIF9fLnVwZGF0ZVByZWZlcmVuY2UgPSBmdW5jdGlvbiAodHBsTmFtZSkge1xuXG4gICAgICAgICAgICAgIHJlc3VtZU1vZGVsLnJlc3VtZS5wcmVmZXJlbmNlcy5yZXN1bWVUZW1wbGF0ZVByZWZlcmVuY2UgPSB0cGxOYW1lO1xuXG4gICAgICAgICAgICAgIHJldHVybiByZXN1bWVNb2RlbC5zZXRQcmVmZXJlbmNlKHJlc3VtZU1vZGVsLnJlc3VtZS5tZXRhLmlkLCB7J3Jlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZSc6IHRwbE5hbWV9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHNldFRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgfV0sXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3B2Q3RybCcsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgIH07XG4gICAgfSk7XG59KShhbmd1bGFyKTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIC8qKlxuICAgKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8zLzE1LlxuICAgKi9cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tbGlzdC1yZXN1bWVzJywgW1xuICAgICdyZXN1bWUtbW9kZWwnXG4gICAgLCAndWkuYm9vdHN0cmFwJ1xuICAgICwgJ3Jlc3VtZS1idWlsZGVyLXRwbHMnXG4gICAgLCAncmVzdW1lLXV0aWxzJ1xuICBdKVxuICAgIC5kaXJlY3RpdmUoJ2FwTGlzdFJlc3VtZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHByb2ZpbGVJZDogJz1waWQnXG4gICAgICAgICAgLCBtaW5pOiAnPSdcbiAgICAgICAgICAsICdlZGl0JzogJyZvbkVkaXQnXG4gICAgICAgICAgLCAncHJldmlldyc6ICcmb25QcmV2aWV3J1xuICAgICAgICAgICwgJ3NpemUnOiAnJidcbiAgICAgICAgICAsICdjb21wbGV0ZSc6ICcmb25Db21wbGV0ZSdcbiAgICAgICAgICAsIGlzS25vd246ICcmJ1xuICAgICAgICAgICwgJ2F1dGhlbnRpY2F0ZSc6ICcmJ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvbGlzdC1yZXN1bWVzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgJyR0ZW1wbGF0ZUNhY2hlJ1xuICAgICAgICAgICwgJ3Jlc3VtZU1vZGVsJ1xuICAgICAgICAgICwgJyRtb2RhbCdcbiAgICAgICAgICAsICckcSdcbiAgICAgICAgICAsICckc2NvcGUnXG4gICAgICAgICAgLCAncmVzdW1lLXV0aWxzJ1xuICAgICAgICAgICwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCByZXN1bWVNb2RlbCwgJG1vZGFsLCAkcSwgJHNjb3BlLCB1dGlscykge1xuXG4gICAgICAgICAgICB2YXIgX18gPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHdpdGggYSBub29wIGZ1bmMgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgICAgICAgIF9fLmVkaXQgPSBfXy5lZGl0IHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgICAgIF9fLnByZXZpZXcgPSBfXy5wcmV2aWV3IHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgICAgIF9fLmNvbXBsZXRlID0gX18uY29tcGxldGUgfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgICAgICAkc2NvcGUubW9kZWwgPSByZXN1bWVNb2RlbDtcbiAgICAgICAgICAgICRzY29wZS5oYXNNYXhlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VtZU1vZGVsLnJlc3VtZUxpc3QubGVuZ3RoID49IDI1O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBtb2RlbCBmb3IgYSBnaXZlbiBwcm9maWxlSWQuXG4gICAgICAgICAgICBfXy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgcmVzcDtcblxuICAgICAgICAgICAgICAvLyBTZXQgdGhlIHZpZXcgdG8gdXNlIHdoaWxlIGRpc3BsYXlpbmcuXG4gICAgICAgICAgICAgIF9fLnZpZXcgPSBfXy5taW5pID8gJ21pbmknIDogJyc7XG5cbiAgICAgICAgICAgICAgLy8gaWYgaW4ga25vd24gc3RhdGUsIHJldHVybiBpbW1lZGlhdGVseSB0byBhdm9pZCBhbnkgc2VydmljZSA0MDMvNDAxIGVycm9yc1xuICAgICAgICAgICAgICByZXNwID0gJHEud2hlbigoYW5ndWxhci5pc0Z1bmN0aW9uKF9fLmlzS25vd24pICYmIF9fLmlzS25vd24oKSkgPyBbXSA6IHJlc3VtZU1vZGVsLmluaXQoX18ucHJvZmlsZUlkKSlcbiAgICAgICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFdhdGNoIHRoZSBtb2RlbCBmb3IgY2hhbmdlcyBhbmQgdXBkYXRlIHRoZSByZWZlcmVuY2VzIG9mIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgIC8vIHRvIG5ldyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ21vZGVsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHBvc2UgdGhlIGxpc3Qgb2YgcmVzdW1lcyByZXRyaWV2ZWQgdG8gRE9NIHRocm91Z2ggY29udHJvbGxlci5cbiAgICAgICAgICAgICAgICAgICAgX18ucmVzdW1lTGlzdCA9IHJlc3VtZU1vZGVsLnJlc3VtZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRXhwb3NlIHRoZSBzaXplIG9mIHJlc3VtZSBsaXN0LlxuICAgICAgICAgICAgICAgICAgICBfXy5zaXplKHtzaXplOiByZXN1bWVNb2RlbC5yZXN1bWVMaXN0ID8gcmVzdW1lTW9kZWwucmVzdW1lTGlzdC5sZW5ndGggOiAwfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHdoZXRoZXIga25vd25cbiAgICAgICAgICAgICAgICAgICAgX18ua25vd24gPSBfXy5pc0tub3duKCk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgYW55IGNhbGxiYWNrIGJvdW5kIHdpdGggdGhlIHByb21pc2VcbiAgICAgICAgICAgICAgICBfXy5jb21wbGV0ZSh7cHJvbWlzZTogcmVzcH0pO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGVkaXRWaWV3IEluaXRpYWxpemVzIHJlc3VtZSBmb3IgdXNlciB0byBlZGl0LlxuICAgICAgICAgICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIGEgcHJvbWlzZSBvYmplY3QuIFRvIGJlIHVzZWQgYnkgdmlld3MgdG9cbiAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgY29tcGxldGUgZm9yIG1vZGVsIGJlZm9yZSBsZXR0aW5nIHVzZXIgaW50ZXJhY3Qgd2l0aCB2aWV3LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfXy52aWV3RWRpdG9yID0gZnVuY3Rpb24gKG1ldGFJbmZvKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdXG4gICAgICAgICAgICAgICAgLCByZXNwO1xuXG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKF9fLmlzS25vd24pICYmIF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgICAgIChfXy5hdXRoZW50aWNhdGUgfHwgYW5ndWxhci5ub29wKSh7Y2FsbGJhY2s6IHV0aWxzLmNsb3N1cmVGdW5jdGlvbihfXy52aWV3RWRpdG9yLCBbbWV0YUluZm9dKX0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVzdW1lTW9kZWwuZ2V0KG1ldGFJbmZvKSk7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVzdW1lTW9kZWwuZ2V0UHJlZmVyZW5jZXMobWV0YUluZm8uaWQpKTtcblxuICAgICAgICAgICAgICByZXNwID0gJHEuYWxsKHByb21pc2VzKTtcblxuXG4gICAgICAgICAgICAgIC8vIEludm9rZSBhbnkgY2FsbGJhY2sgYm91bmQgd2l0aCB0aGUgcHJvbWlzZVxuICAgICAgICAgICAgICBfXy5lZGl0KHtwcm9taXNlOiByZXNwfSk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQ3JlYXRlIGEgZHVwbGljYXRlIG9mIGFuIGV4aXN0aW5nIHJlc3VtZSB3aGVuIHVzZXIgZW50ZXJzIGEgdXNlclxuICAgICAgICAgICAgICogbmFtZSBmb3IgcmVzdW1lLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX18uY3JlYXRlRHVwbGljYXRlID0gZnVuY3Rpb24gKG1ldGFJbmZvKSB7XG4gICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlXG4gICAgICAgICAgICAgICAgLCBtU2NvcGU7XG5cbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oX18uaXNLbm93bikgJiYgX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLmNyZWF0ZUR1cGxpY2F0ZSwgW21ldGFJbmZvXSl9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBtU2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuXG4gICAgICAgICAgICAgIG1TY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgIG1TY29wZS5pblZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIC8vcmVzdW1lTW9kZWwuc2F2ZSh7dHlwZTogJ25ldycsIG5hbWU6IGxhYmVsfSlcbiAgICAgICAgICAgICAgICAgIHJlc3VtZU1vZGVsLmNyZWF0ZUR1cGxpY2F0ZShtZXRhSW5mby5pZCwgbGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBtb2RhbCBvbmNlIHRoZSByZXN1bWUgaXMgc2F2ZWRcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBtU2NvcGUuaW5WYWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtU2NvcGUuZXJyb3IgPSBlcnIuZGF0YS5maWVsZEVycm9yc1swXS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbVNjb3BlLmVycm9yID0gJ09vcHMuLnNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uJztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG1TY29wZS5lcnJvciA9ICdSZXN1bWUgdGl0bGUgY2Fubm90IGJlIGxlZnQgZW1wdHknO1xuICAgICAgICAgICAgICAgICAgbVNjb3BlLmluVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL25ldy1yZXN1bWUtY29uZmlybWF0aW9uLmh0bWwnXG4gICAgICAgICAgICAgICAgLy8sIHNpemU6ICdzbSdcbiAgICAgICAgICAgICAgICAsIGJhY2tkcm9wOiB0cnVlXG4gICAgICAgICAgICAgICAgLCBzY29wZTogbVNjb3BlXG4gICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgX18uY29tcGxldGUoe3Byb21pc2U6IG1vZGFsSW5zdGFuY2UucmVzdWx0fSk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogZGVsZXRlUmVzdW1lIERlbGV0ZXMgY3VycmVudCB1c2VyIHJlc3VtZVxuICAgICAgICAgICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIGEgcHJvbWlzZSBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9fLmNvbmZpcm0gPSBmdW5jdGlvbiAobWV0YUluZm8pIHtcbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oX18uaXNLbm93bikgJiYgX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLmNvbmZpcm0sIFttZXRhSW5mb10pfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHRtcFNjb3BlID0gJHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgdG1wU2NvcGUucXVlc3Rpb24gPSAnRG8geW91IHJlYWxseSB3YW50IHRvIGRlbGV0ZSB0aGUgcmVzdW1lIGFuZCBzdGFydCBvdmVyPyc7XG5cblxuICAgICAgICAgICAgICB2YXIgcmVzcCA9ICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvZGVsZXRlLXJlc3VtZS1jb25maXJtLmh0bWwnXG4gICAgICAgICAgICAgICAgLCBzaXplOiAnc20nXG4gICAgICAgICAgICAgICAgLCBiYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgICAgICAgICwgc2NvcGU6IHRtcFNjb3BlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChib2wpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VtZU1vZGVsLmRlbGV0ZShtZXRhSW5mby5pZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX18uY29tcGxldGUoe3Byb21pc2U6IHJlc3B9KTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXR1cCBwcmV2aWV3IHBhcmFtZXRlcnMgb24gcmVzdW1lIG1vZGVsLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX18udmlld1ByZXZpZXcgPSBmdW5jdGlvbiAobWV0YUluZm8pIHtcbiAgICAgICAgICAgICAgdmFyIHAgPSBbXVxuICAgICAgICAgICAgICAgICwgcmVzcDtcblxuICAgICAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihfXy5pc0tub3duKSAmJiBfXy5pc0tub3duKCkpIHtcbiAgICAgICAgICAgICAgICAoX18uYXV0aGVudGljYXRlIHx8IGFuZ3VsYXIubm9vcCkoe2NhbGxiYWNrOiB1dGlscy5jbG9zdXJlRnVuY3Rpb24oX18udmlld1ByZXZpZXcsIFttZXRhSW5mb10pfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gcmVxdWVzdCByZXN1bWUgb2JqIGFuZCBxdWV1ZSBpdCB1cC5cbiAgICAgICAgICAgICAgcC5wdXNoKHJlc3VtZU1vZGVsLmdldChtZXRhSW5mbykpO1xuXG4gICAgICAgICAgICAgIC8vIE1ha2UgdGhlIHJlcXVlc3QgdG8gZ2V0IHJlc3VtZSBwcmVmZXJlbmNlIGFuZCBxdWV1ZSBpdCB1cC5cbiAgICAgICAgICAgICAgcC5wdXNoKHJlc3VtZU1vZGVsLmdldFByZWZlcmVuY2VzKG1ldGFJbmZvLmlkKSk7XG5cbiAgICAgICAgICAgICAgLy8gV3JhcCB0aGUgdGhlIHF1ZXVlZCBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2VcbiAgICAgICAgICAgICAgcmVzcCA9ICRxLmFsbChwKTtcblxuICAgICAgICAgICAgICBfXy5wcmV2aWV3KHtwcm9taXNlOiByZXNwfSk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQdWJsaXNoIGEgcmVzdW1lIHRvIGJlIHB1YmxpYyB3aGlsZSByZXNldHRpbmcgcmVtYWluaW5nXG4gICAgICAgICAgICAgKiByZXN1bWVzIHRvIHByaXZhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9fLnB1Ymxpc2ggPSBmdW5jdGlvbiAobWV0YUluZm8pIHtcblxuICAgICAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihfXy5pc0tub3duKSAmJiBfXy5pc0tub3duKCkpIHtcbiAgICAgICAgICAgICAgICAoX18uYXV0aGVudGljYXRlIHx8IGFuZ3VsYXIubm9vcCkoe2NhbGxiYWNrOiB1dGlscy5jbG9zdXJlRnVuY3Rpb24oX18ucHVibGlzaCwgW21ldGFJbmZvXSl9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgcmVzcCA9IHJlc3VtZU1vZGVsLnNldFByZWZlcmVuY2UobWV0YUluZm8uaWQsIHsnc2VhcmNoYWJsZSc6IChtZXRhSW5mby5wcml2YWN5U2V0dGluZyA9PT0gJ1BSSVZBVEUnKX0pXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzdW1lTW9kZWwuZ2V0TWV0YUluZm8pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX18ucmVzdW1lTGlzdCA9IHJlc3VtZU1vZGVsLnJlc3VtZUxpc3Q7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX18uY29tcGxldGUoe3Byb21pc2U6IHJlc3B9KTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgIH1dLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdsckN0cmwnLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICB9O1xuICAgIH0pO1xuXG59KShhbmd1bGFyKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8zLzE1LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2Fwb2xsby1yZXN1bWUtZWRpdG9yJywgW1xuICAgICd1aS5ib290c3RyYXAnXG4gICAgLCAncmVzdW1lLWJ1aWxkZXItdHBscydcbiAgICAsICdyZXN1bWUtbW9kZWwnXG4gICAgLCAncnRlLWFuZ3VsYXInXG4gICAgLCAnbmdEcmFnRHJvcCdcbiAgXSlcbiAgICAuZGlyZWN0aXZlKCdhcFJlc3VtZUVkaXRvcicsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBwcm9maWxlSWQ6ICc9cGlkJ1xuICAgICAgICAgICwgZGVsZXRlOiAnJm9uRGVsZXRlJ1xuICAgICAgICAgICwgcHJldmlldzogJyZvblByZXZpZXcnXG4gICAgICAgICAgLCBzYXZlOiAnJm9uU2F2ZSdcbiAgICAgICAgICAsIGZhaWw6ICcmb25GYWlsJ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvZWRpdG9yLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgJyRzY29wZSdcbiAgICAgICAgICAsICdyZXN1bWVNb2RlbCdcbiAgICAgICAgICAsICckbG9nJ1xuICAgICAgICAgICwgJyRtb2RhbCdcbiAgICAgICAgICAsICdhcG9sbG9Bbmd1bGFyUmVzdW1lQnVpbGRlci5jb25maWcnXG4gICAgICAgICAgLCAnJGRvY3VtZW50J1xuICAgICAgICAgICwgJyRwYXJzZSdcbiAgICAgICAgICAsICckdGltZW91dCdcbiAgICAgICAgICAsICckcSdcbiAgICAgICAgICAsICckaW50ZXJ2YWwnXG4gICAgICAgICAgLCAnJGZpbHRlcidcbiAgICAgICAgICAsICckcm9vdFNjb3BlJ1xuICAgICAgICAgICwgJyRzdGF0ZSdcbiAgICAgICAgICAsIGZ1bmN0aW9uICgkc2NvcGUsIHJlc3VtZU1vZGVsLCAkbG9nLCAkbW9kYWwsIHJiQ29uZmlnLCAkZG9jdW1lbnQsICRwYXJzZSwgJHRpbWVvdXQsICRxLCAkaW50ZXJ2YWwsICRmaWx0ZXIsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgICAgICAgICAvLyBMaXN0IG9mIGF2YWlsYWJsZSBzZWN0aW9ucyB0aGUgdXNlciBjYW4gYWRkLlxuICAgICAgICAgICAgICAsIF9zZWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAnc3VtbWFyeSc6ICdzdW1tYXJ5J1xuICAgICAgICAgICAgICAgICwgJ2V4cGVyaWVuY2UnOiAnZXhwZXJpZW5jZSdcbiAgICAgICAgICAgICAgICAsICdlZHVjYXRpb24nOiAnZWR1Y2F0aW9uJ1xuICAgICAgICAgICAgICAgICwgJ3NraWxscyc6ICdhZGRpdGlvbmFsIGluZm8nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExpc3Qgb2Ygc3ViIHNlY3Rpb25zIGF2YWlsYWJsZSB0byB1c2VyIGluaXRpYWxseS5cbiAgICAgICAgICAgICAgLCBfc2tpbGxzID0ge1xuICAgICAgICAgICAgICAgICdza2lsbHMnOiAnc2tpbGxzJ1xuICAgICAgICAgICAgICAgICwgJ2F3YXJkcyc6ICdhd2FyZHMnXG4gICAgICAgICAgICAgICAgLCAnY2VydGlmaWNhdGlvbnMnOiAnY2VydGlmaWNhdGlvbnMnXG4gICAgICAgICAgICAgICAgLCAnbGFuZ3VhZ2VzJzogJ2xhbmd1YWdlcydcbiAgICAgICAgICAgICAgICAvLywgJ2hvYmJpZXMnOiAncGVyc29uYWxIb2JiaWVzJ1xuICAgICAgICAgICAgICAgICwgJ3BlcnNvbmFsSG9iYmllcyc6ICdob2JiaWVzJ1xuICAgICAgICAgICAgICAgIC8vLCAndm9sdW50ZWVyJzogJ3ZvbHVudGVlcldvcmsnXG4gICAgICAgICAgICAgICAgLCAndm9sdW50ZWVyV29yayc6ICd2b2x1bnRlZXInXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLCBfbW9kZWxcbiAgICAgICAgICAgICAgLCBhdXRvU2F2ZVByb21pc2U7XG5cbiAgICAgICAgICAgIHNlbGYudHJhbnMgPSB7XG4gICAgICAgICAgICAgICdza2lsbHNfc3Vic2VjdGlvbic6ICdza2lsbHMnXG4gICAgICAgICAgICAgICwgJ3NraWxscyc6ICdza2lsbHMnXG4gICAgICAgICAgICAgICwgJ2F3YXJkcyc6ICdhd2FyZHMnXG4gICAgICAgICAgICAgICwgJ2NlcnRpZmljYXRpb25zJzogJ2NlcnRpZmljYXRpb25zJ1xuICAgICAgICAgICAgICAsICdsYW5ndWFnZXMnOiAnbGFuZ3VhZ2VzJ1xuICAgICAgICAgICAgICAsICdob2JiaWVzJzogJ3BlcnNvbmFsSG9iYmllcydcbiAgICAgICAgICAgICAgLy8sICdwZXJzb25hbEhvYmJpZXMnOiAnaG9iYmllcydcbiAgICAgICAgICAgICAgLCAndm9sdW50ZWVyJzogJ3ZvbHVudGVlcldvcmsnXG4gICAgICAgICAgICAgIC8vLCAndm9sdW50ZWVyV29yayc6ICd2b2x1bnRlZXInXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmlzUmVhZHkgPSBhbmd1bGFyLmlzT2JqZWN0KHJlc3VtZU1vZGVsLnJlc3VtZSk7XG4gICAgICAgICAgICBzZWxmLmlzRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTWFrZSBhIGNvcHkgb2YgY3VycmVudCByZXN1bWUgb2JqZWN0IHRvIGRlY291cGxlIGl0IGZyb21cbiAgICAgICAgICAgIC8vIGFjdHVhbCBtb2RhbCB1c2UgdGhpcyBkZWNvdXBsZWQgbW9kZWwgdG8gYXV0byBzYXZlLlxuICAgICAgICAgICAgX21vZGVsID0gYW5ndWxhci5jb3B5KHJlc3VtZU1vZGVsLnJlc3VtZSk7XG5cbiAgICAgICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWVNZXRhID0gX21vZGVsLnJlc3VtZU9iajtcbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUgPSBfbW9kZWwucmVzdW1lT2JqLnJlc3VtZTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IG92ZXIgc3ViIHNlY3Rpb25zIHRvIGNvbnRyb2xsZXIgb2JqLlxuICAgICAgICAgICAgICBzZWxmLnNraWxscyA9IGFuZ3VsYXIuY29weShfc2tpbGxzKTtcblxuICAgICAgICAgICAgICAvLyBGb3IgcmVhc29ucyB1bmtub3duIGFkZGl0aW9uYWwgc2tpbGxzIGhhdmUgZGlmZmVyZW50IGRhdGEgdHlwZXMgdG8gc3RvcmluZy5cbiAgICAgICAgICAgICAgLy8gT25lIGFjY2VwdHMgYW5kIGFycmF5IHR5cGUgYW5kIHJlc3QgYXJlIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmdzLlxuICAgICAgICAgICAgICB2YXIgc2tpbGxzID0gc2VsZi5yZXN1bWUuc2tpbGxzO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIHNraWxsIGluIHNraWxscykge1xuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KHNraWxsc1tza2lsbF0pKSB7XG4gICAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdID0gc2tpbGxzW3NraWxsXS5sZW5ndGggPiAwID8gc2tpbGxzW3NraWxsXS5zcGxpdCgnLCcpIDogW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ29weSBvdmVyIHNlY3Rpb25zIGFuZCBzdWIgc2VjdGlvbnMgb3ZlciB0byBjb250cm9sbGVyIGZvciBkaXNwbGF5XG4gICAgICAgICAgICAgIHNlbGYuc2VjdGlvbnMgPSBhbmd1bGFyLmNvcHkoX3NlY3Rpb25zKTtcblxuICAgICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBzZWxmLnJlc3VtZS5zZWN0aW9ucztcblxuICAgICAgICAgICAgICB2YXIgblR5cGUsIG5zVHlwZTtcbiAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggc2VjdGlvbiB0byBkZXRlcm1pbmUgdGhlIG5ldyBsaXN0XG4gICAgICAgICAgICAgIC8vIG9mIHNlY3Rpb25zIGFuZCBzdWIgc2VjdGlvbiB0aGF0IHVzZXIgY2FuIGFkZC5cbiAgICAgICAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc2VjKSB7XG4gICAgICAgICAgICAgICAgblR5cGUgPSBzZWMudHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFraW5nIHN1cmUgd2Ugc2hvdyBzZWN0aW9ucyB0aGF0IHVzZXIgaGFzIHNhdmVkIGFuZFxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSBsaXN0IG9mIHNlY3Rpb25zIHVzZXIgY2FuIGFkZCBiYXNlZCBvbiB0aGlzLlxuICAgICAgICAgICAgICAgIGlmIChfc2VjdGlvbnNbblR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5zZWN0aW9uc1tuVHlwZV07XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHNraWxscyBpcyBvbmUgb2YgdGhlIHNlY3Rpb25zIHRoYXQgaXMgb24gdGhlaXJcbiAgICAgICAgICAgICAgICAgIC8vIHJlc3VtZSBsZXRzIGdvIGFoZWFkIGFuZCBidWlsZCB0aGUgbGlzdCBvZiBzdWIgc2VjdGlvbnNcbiAgICAgICAgICAgICAgICAgIC8vIHRoYXQgY2FuIGJlIGFkZGVkLlxuICAgICAgICAgICAgICAgICAgaWYgKG5UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdza2lsbHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYy5zdWJTZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzcykge1xuICAgICAgICAgICAgICAgICAgICAgIG5zVHlwZSA9IHNzLnR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChfc2tpbGxzW3NlbGYudHJhbnNbbnNUeXBlXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNraWxsc1tzZWxmLnRyYW5zW25zVHlwZV1dO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBjb252ZXJ0IGRhdGUgc3RyaW5nIG9mIGZyb20gZXhwZXJpZW5jZSBhbmQgZWR1Y2F0aW9uIHNlY3Rpb25zIG9mIHJlc3VtZSB0byBzdHJpbmdcbiAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyhzZWxmLnJlc3VtZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICRzY29wZS5hdXRvU2F2ZSgpO1xuXG4gICAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChhdXRvU2F2ZVByb21pc2UpO1xuICAgICAgICAgICAgICAgIC8vIFVuIHJlZ2lzdGVyIHRoZSBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdmFyIGxlYXZlUGFnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB2YXIgc3RhdGVDaGFuZ2VMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciB0bXBNb2RlbCA9IGFuZ3VsYXIuY29weShfbW9kZWwpO1xuICAgICAgICAgICAgICAgICRzY29wZS50cmFuc2Zvcm1Ta2lsbHNBcnJheTJTdHIodG1wTW9kZWwucmVzdW1lT2JqLnJlc3VtZS5za2lsbHMpO1xuICAgICAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtQWxsRGF0ZXModG1wTW9kZWwucmVzdW1lT2JqLnJlc3VtZSwgZmFsc2UsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBwb3Agb25seSBpZiB0aGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzLlxuICAgICAgICAgICAgICAgIGlmIChyZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqICYmIHNlbGYuaXNEaXJ0eSAmJiAhbGVhdmVQYWdlICYmIGZyb21QYXJhbXMudG9vbElkID09PSAncmVzdW1lQnVpbGRlcicgJiYgZnJvbVBhcmFtcy52aWV3SWQgPT09ICdlZGl0b3InKSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICBzZWxmLnNhdmVSZXN1bWUoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICBsZWF2ZVBhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyh0b1N0YXRlLCB0b1BhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gYWxsIGRhdGVzIHRvIGZyb20gZGF0ZS9zdHJpbmdcbiAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtQWxsRGF0ZXMgPSBmdW5jdGlvbiAob2JqLCBjb252ZXJ0VG9TdHIpIHtcbiAgICAgICAgICAgICAgLy8gY29udmVydCBkYXRlIHN0cmluZyBvZiBmcm9tIGV4cGVyaWVuY2UgYW5kIGVkdWNhdGlvbiBzZWN0aW9ucyBvZiByZXN1bWUuXG4gICAgICAgICAgICAgIGlmICgkcGFyc2UoJ2V4cGVyaWVuY2Uuam9icycpKG9iaikpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybURhdGUob2JqLmV4cGVyaWVuY2Uuam9icywgJ3N0YXJ0RGF0ZScsICdlbmREYXRlJywgY29udmVydFRvU3RyKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkcGFyc2UoJ2VkdWNhdGlvbi5zY2hvb2xzJykob2JqKSkge1xuICAgICAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtRGF0ZShvYmouZWR1Y2F0aW9uLnNjaG9vbHMsICdzdGFydERhdGUnLCAnY29tcGxldGlvbkRhdGUnLCBjb252ZXJ0VG9TdHIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIHN0b3JlZCBJU08gc3RyaW5nIHRvIGRhdGUgb2JqZWN0IG9yIHN0cmluZy5cbiAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtRGF0ZSA9IGZ1bmN0aW9uIChsaXN0LCBwcm9wMSwgcHJvcDIsIGNvbnZlcnRUb1N0cikge1xuICAgICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcERhdGU7XG5cbiAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW1bcHJvcDFdKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29udmVydFRvU3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtW3Byb3AxXSA9IChsaXN0SXRlbVtwcm9wMV0pLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wRGF0ZSA9IG5ldyBEYXRlKGxpc3RJdGVtW3Byb3AxXSk7XG4gICAgICAgICAgICAgICAgICAgIHRtcERhdGUuc2V0VGltZSh0bXBEYXRlLmdldFRpbWUoKSArIHRtcERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW1bcHJvcDFdID0gdG1wRGF0ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW1bcHJvcDJdKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29udmVydFRvU3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtW3Byb3AyXSA9IGxpc3RJdGVtW3Byb3AyXSA/IChsaXN0SXRlbVtwcm9wMl0pLnRvSVNPU3RyaW5nKCkgOiBsaXN0SXRlbVtwcm9wMl07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wRGF0ZSA9IG5ldyBEYXRlKGxpc3RJdGVtW3Byb3AyXSk7XG4gICAgICAgICAgICAgICAgICAgIHRtcERhdGUuc2V0VGltZSh0bXBEYXRlLmdldFRpbWUoKSArIHRtcERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW1bcHJvcDJdID0gdG1wRGF0ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5jb25maXJtYXRpb24gPSBmdW5jdGlvbiAoZm4sIGFyclBhcmFtcywgc3RyKSB7XG4gICAgICAgICAgICAgIHZhciBxdWVzdGlvbiA9ICdEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlIHt7P319IGZyb20gcmVzdW1lPyc7XG5cbiAgICAgICAgICAgICAgcXVlc3Rpb24gPSBxdWVzdGlvbi5yZXBsYWNlKCd7ez99fScsIHN0cik7XG5cbiAgICAgICAgICAgICAgdmFyIHRtcFNjb3BlID0gJHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgdG1wU2NvcGUucXVlc3Rpb24gPSBxdWVzdGlvbjtcblxuICAgICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL2RlbGV0ZS1yZXN1bWUtY29uZmlybS5odG1sJ1xuICAgICAgICAgICAgICAgICwgc2l6ZTogJ3NtJ1xuICAgICAgICAgICAgICAgICwgYmFja2Ryb3A6IHRydWVcbiAgICAgICAgICAgICAgICAsIHNjb3BlOiB0bXBTY29wZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZXN1bHQudGhlbihmdW5jdGlvbiAoYm9sKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcnJQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5tYXJrRGlydHkgPSBmdW5jdGlvbiAobmV3VmFsLCBwcm9wUGF0aCkge1xuICAgICAgICAgICAgICB2YXIgJHJlc3VtZVBhcnNlciA9ICRwYXJzZShyZXN1bWVNb2RlbC5yZXN1bWUpO1xuICAgICAgICAgICAgICBpZiAoIXNlbGYuaXNEaXJ0eSAmJiAocHJvcFBhdGggPT09IHVuZGVmaW5lZCB8fCAkcmVzdW1lUGFyc2VyKHByb3BQYXRoKSAhPT0gbmV3VmFsKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuaXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBUbyBtYXJrIGluZGl2aWR1YWwgaW5wdXQgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXR0ZXJzIGFuZCBnZXR0ZXJzIGZvciBzZWN0aW9ucyBhbmQgc2tpbGxzIHNlY3Rpb25zIG9mIHJlc3VtZS5cbiAgICAgICAgICAgIHNlbGYuZGVsZXRlU2VjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBub2RlKSB7XG4gICAgICAgICAgICAgIC8vIFdoZW4gZGVsZXRpbmcgYSBzZWN0aW9uIGZyb20gcmVzdW1lIG5vZGUgYWRkIHRoZSBzYW1lXG4gICAgICAgICAgICAgIC8vIHRvIHNlY3Rpb25zIGF2YWlsYWJsZSB0byBhZGQgbGlzdC5cbiAgICAgICAgICAgICAgc2VsZi5zZWN0aW9uc1tuYW1lXSA9IF9zZWN0aW9uc1tuYW1lXTtcblxuICAgICAgICAgICAgICAvLyBTZXQgdGhlIG5vZGUgdG8gZW1wdHkgbGlzdCBhbmQgZGVsZXRlIHRoZSBzZWN0aW9uXG4gICAgICAgICAgICAgIC8vIGZyb20gc2VjdGlvbnMgbGlzdC5cbiAgICAgICAgICAgICAgaWYgKG5hbWUgIT09ICdza2lsbHMnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZXN1bWVbbmFtZV1bbm9kZV0gPSBbXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5IHNraWxscyBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VsZi5yZXN1bWVbbmFtZV0pXG4gICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgZXZlcnkgdGhpbmcgdG8gZW1wdHkgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVzdW1lW25hbWVdW2tleV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gcG9wdWxhdGUgdGhlIHN1YiBzZWN0aW9uIGRyb3AgZG93bi5cbiAgICAgICAgICAgICAgICBzZWxmLnNraWxscyA9IGFuZ3VsYXIuY29weShfc2tpbGxzKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLnNlY3Rpb25zID0gc2VsZi5yZXN1bWUuc2VjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb24udHlwZS50b0xvd2VyQ2FzZSgpICE9PSBuYW1lO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5hZGRTZWN0aW9uID0gJHNjb3BlLmFkZFNlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAvLyByZXNldCB2YWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgICAgICRzY29wZS5yZXN1bWVWYWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgJHNjb3BlLmZvcm1TdGF0dXMgPSAnJztcblxuICAgICAgICAgICAgICAvLyBXaGlsZSBhZGRpbmcgYSBzZWxlY3RlZCBzZWN0aW9uIHRvIHJlc3VtZSBub2RlIGRlbGV0ZVxuICAgICAgICAgICAgICAvLyB0aGUgc2VjdGlvbiBmcm9tIGF2YWlsYWJsZSB0byBhZGQgbGlzdC5cbiAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuc2VjdGlvbnNbbmFtZV07XG5cbiAgICAgICAgICAgICAgLy8gQWRkIHRoZSBzZWN0aW9uIGJlaW5nIGFkZGVkIHRvIHJlc3VtZSBvYmplY3QuXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLnNlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICd0eXBlJzogbmFtZS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLCAnc3ViU2VjdGlvbnMnOiBbXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZXIgZm9yIGRlbGV0aW5nIGN1c3RvbSBzZWN0aW9uXG4gICAgICAgICAgICBzZWxmLmRlbGV0ZUN1c3RvbVNlY3Rpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuYWRkaXRpb25hbFNlY3Rpb25zID0gc2VsZi5yZXN1bWUuYWRkaXRpb25hbFNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uLmlkICE9PSBpZDtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2VjdGlvbnMgPSBzZWxmLnJlc3VtZS5zZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbi50eXBlLnRvTG93ZXJDYXNlKCkgIT09IGlkO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5hZGRDdXN0b21TZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgc2VjdGlvbklkID0gc2VsZi5yZXN1bWUuc2VjdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5zZWN0aW9ucy5wdXNoKHsndHlwZSc6ICdDVVNUT01fU0VDVElPTicsIGlkOiBzZWN0aW9uSWR9KTtcblxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChzZWxmLnJlc3VtZS5hZGRpdGlvbmFsU2VjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuYWRkaXRpb25hbFNlY3Rpb25zID0gW107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuYWRkaXRpb25hbFNlY3Rpb25zLnB1c2goe2lkOiBzZWN0aW9uSWQsIHNlY3Rpb246ICdDVVNUT00gU0VDVElPTicsIGNvbnRlbnQ6ICcnfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gRW5kIG9mIHNlY3Rpb24gcmVsYXRlZCBtZXRob2RzXG5cblxuICAgICAgICAgICAgLy8gQWRkIGFuZCBkZWxldGluZyBvZiBzdWIgc2VjdGlvbiByZWxhdGVkIG1ldGhvZHM6XG4gICAgICAgICAgICBzZWxmLmFkZFN1YlNlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgbm9kZSkge1xuICAgICAgICAgICAgICAvLyBOT1RFOiBJIHRoaW5rIHRoZSBvYmplY3QgY29tcGFyaXNvbiBpcyBmYWlsaW5nIGJlY2F1c2Ugb2ZcbiAgICAgICAgICAgICAgLy8gZGlmZmVyaW5nIGlkcyB0aGF0IGdldCBwb3B1bGF0ZWQgb25jZSBhZGRpbmcgYSBzZWN0aW9uLlxuICAgICAgICAgICAgICB2YXIgdHBsID0ge1xuICAgICAgICAgICAgICAgICAgam9iczoge1xuICAgICAgICAgICAgICAgICAgICAnZW1wbG95ZXInOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FkZHJlc3MnOiB7J2NpdHknOiAnJywgJ3N0YXRlJzogJyd9LFxuICAgICAgICAgICAgICAgICAgICAnc3RhcnREYXRlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdlbmREYXRlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdpc0N1cnJlbnQnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICwgc2Nob29sczoge1xuICAgICAgICAgICAgICAgICAgICAnZGV0YWlscyc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnaXNBdHRlbmRpbmcnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRpb25EYXRlJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdzdGFydERhdGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2dwYSc6IHsnbWF4JzogNC4wLCAndmFsdWUnOiAnJ30sXG4gICAgICAgICAgICAgICAgICAgICdtYWpvcic6ICcnLFxuICAgICAgICAgICAgICAgICAgICAncXVhbGlmaWNhdGlvbic6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IHsnY2l0eSc6ICcnLCAnc3RhdGUnOiAnJ30sXG4gICAgICAgICAgICAgICAgICAgICdpbnN0aXR1dGlvbic6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnaWQnOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLCBvYmpSZWY7XG5cbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzY2hvb2xcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIHNlY3Rpb24gbm9kZSBkb2VzIG5vdCBoYXZlIGEgbm9kZSB0byBob2xkIHRoZSBkZXRhaWxzIG9mIHN1YiBzZWN0aW9uIGNyZWF0ZSBvbmUuXG4gICAgICAgICAgICAgIC8vIE5PVEU6IFdlIGFyZSBoYXZpbmcgdG8gZG8gdGhlc2UgYmVjYXVzZSBvZiBxdWlya3MgaW4gdGhlIHNlcnZpY2UuXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHNlbGYucmVzdW1lW25hbWVdW25vZGVdKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVzdW1lW25hbWVdW25vZGVdID0gW107XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvYmpSZWYgPSBzZWxmLnJlc3VtZVtuYW1lXVtub2RlXTtcblxuICAgICAgICAgICAgICBvYmpSZWYucHVzaChhbmd1bGFyLmNvcHkodHBsW25vZGVdKSk7XG5cbiAgICAgICAgICAgICAgLy8gb25jZSB3ZSBwdXNoIHRoZSBub2RlIGNyZWF0ZSBhbiBpZCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWRcbiAgICAgICAgICAgICAgLy8gbm9kZSBiYXNlZCBvbiBpdHMgcG9zaXRpb24uXG4gICAgICAgICAgICAgIG9ialJlZltvYmpSZWYubGVuZ3RoIC0gMV0uaWQgPSBvYmpSZWYubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLnNlY3Rpb25zID0gc2VsZi5yZXN1bWUuc2VjdGlvbnMubWFwKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi50eXBlLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzZWN0aW9ucyBkb2VzIG5vdCBhbHJlYWR5IGhhdmUgYSBzdWIgc2VjdGlvbiBhZGQgYW5kIGxpc3QgdG8ga2VlcCB0cmFjayBvZiB0aGVtLlxuICAgICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoc2VjdGlvbi5zdWJTZWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5zdWJTZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBzZWN0aW9uLnN1YlNlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBzZWN0aW9uLnR5cGUudG9VcHBlckNhc2UoKSArICdfU1VCU0VDVElPTidcbiAgICAgICAgICAgICAgICAgICAgLCBpZDogb2JqUmVmLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5kZWxldGVTdWJTZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIG5vZGUsIHBvcykge1xuICAgICAgICAgICAgICBzZWxmLnJlc3VtZVtuYW1lXVtub2RlXS5zcGxpY2UocG9zLCAxKTtcbiAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuYWRkU2tpbGxzU3ViU2VjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNraWxsc1tzZWxmLnRyYW5zW25hbWVdXTtcblxuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5zZWN0aW9ucyA9IHNlbGYucmVzdW1lLnNlY3Rpb25zLm1hcChmdW5jdGlvbiAoc2VjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24udHlwZS50b0xvd2VyQ2FzZSgpID09PSAnc2tpbGxzJykge1xuICAgICAgICAgICAgICAgICAgc2VjdGlvbi5zdWJTZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbmFtZSA9PT0gJ3NraWxscycgPyBuYW1lLnRvVXBwZXJDYXNlKCkgKyAnX1NVQlNFQ1RJT04nIDogbmFtZS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2tpbGxzW3NlbGYudHJhbnNbbmFtZV1dID0gW107XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmRlbGV0ZVNraWxsc1N1YlNlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICBzZWxmLnNraWxsc1tuYW1lXSA9IF9za2lsbHNbbmFtZV07XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2tpbGxzW3NlbGYudHJhbnNbbmFtZV1dID0gW107XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2VjdGlvbnMuZXZlcnkoZnVuY3Rpb24gKHNlY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3NraWxscycpIHtcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb24uc3ViU2VjdGlvbnMgPSBzZWN0aW9uLnN1YlNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNzLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbmFtZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5kZWxldGVTa2lsbElucHV0ID0gZnVuY3Rpb24gKGxpc3QsIGluZGV4KSB7XG4gICAgICAgICAgICAgIHNlbGYuaXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuYWRkSW5mb09iaiA9IHt9O1xuICAgICAgICAgICAgc2VsZi5hZGRTa2lsbElucHV0ID0gZnVuY3Rpb24gKHZhbHVlLCBsaXN0LCB0eXBlLCAkZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnJyAmJiAoJGV2ZW50LmtleUNvZGUgPT09IDEzIHx8ICRldmVudC5rZXlDb2RlID09PSA5KSkge1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEluZm9PYmpbdHlwZV0gPSAnJztcbiAgICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBFbmQgc3ViIHNlY3Rpb24gcmVsYXRlZCBtZXRob2RzXG5cbiAgICAgICAgICAgIC8vIFRPRE86IFJlbmFtZSBpdCB0byBzb21ldGhpbmcgbW9yZSBhcHByb3ByaWF0ZVxuICAgICAgICAgICAgLy8gbm93IHRoYXQgdGhlIGludGVudCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICAgIHNlbGYuZG93bmxvYWQgPSBmdW5jdGlvbiAoY3RhKSB7XG4gICAgICAgICAgICAgIHNlbGYucHJldmlldyh7cHJvbWlzZTogdW5kZWZpbmVkLCBoaWRlRWRpdDogdHJ1ZSwgY3RhOiBjdGF9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5pc1NhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuc2F2ZVJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHByb21pc2VcbiAgICAgICAgICAgICAgICAsIGRlZmVycmVkO1xuXG4gICAgICAgICAgICAgIHJlc3VtZU1vZGVsLnJlc3VtZSA9IGFuZ3VsYXIuY29weShfbW9kZWwpO1xuICAgICAgICAgICAgICAkc2NvcGUudHJhbnNmb3JtU2tpbGxzQXJyYXkyU3RyKHJlc3VtZU1vZGVsLnJlc3VtZS5yZXN1bWVPYmoucmVzdW1lLnNraWxscyk7XG4gICAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtQWxsRGF0ZXMocmVzdW1lTW9kZWwucmVzdW1lLnJlc3VtZU9iai5yZXN1bWUsIHRydWUpO1xuXG4gICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgICAvLyBDYW5jZWwgYXV0byBzYXZlIHRpbWVyIHNpbmNlIHdlIGFyZSBhbHJlYWR5IGluIHRoZSBzYXZpbmcgcGhhc2UuXG4gICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoYXV0b1NhdmVQcm9taXNlKTtcblxuICAgICAgICAgICAgICBwcm9taXNlID0gcmVzdW1lTW9kZWwudXBkYXRlKCk7XG5cbiAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNvbmZpcm1Nc2cgPSAnUmVzdW1lIHNhdmVkIGF0ICcgKyAkZmlsdGVyKCdkYXRlJykobmV3IERhdGUoKSwgJ3Nob3J0VGltZScpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUbyByZXNldCBidXR0b24gc3RhdGVcbiAgICAgICAgICAgICAgICAgICRzY29wZS5pc1NhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0aW9uRXJyb3IgPSAnU29ycnksIHRoZXJlIHdhcyBwcm9ibGVtIHNhdmluZyB5b3VyIHJlc3VtZSBhdCB0aGlzIHRpbWUgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gYWxsIGRhdGVzIHRvIGRhdGUgb2JqZWN0c1xuICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyhyZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqLnJlc3VtZSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgYXV0byBzYXZlIGFmdGVyIHVzZXJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5hdXRvU2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHNlbGYuc2F2ZSh7cHJvbWlzZTogcHJvbWlzZX0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmF1dG9TYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyBTdGFydCB0aW1lciBmb3IgYXV0byBzYXZlXG4gICAgICAgICAgICAgIGF1dG9TYXZlUHJvbWlzZSA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBvbmx5IHdoZW4gc29tZXRoaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzRGlydHkgfHwgJHNjb3BlLnJlc3VtZUVkaXRvci4kZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0bXBNb2RlbCA9IGFuZ3VsYXIuY29weShfbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLnRyYW5zZm9ybVNraWxsc0FycmF5MlN0cih0bXBNb2RlbC5yZXN1bWVPYmoucmVzdW1lLnNraWxscyk7XG5cbiAgICAgICAgICAgICAgICAgIHJlc3VtZU1vZGVsLnJlc3VtZSA9IHRtcE1vZGVsO1xuXG4gICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybUFsbERhdGVzKHJlc3VtZU1vZGVsLnJlc3VtZS5yZXN1bWVPYmoucmVzdW1lLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGF1dG8gc2F2ZSB0aW1lciBzaW5jZSB3ZSBhcmUgYWxyZWFkeSBpbiB0aGUgc2F2aW5nIHBoYXNlLlxuICAgICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChhdXRvU2F2ZVByb21pc2UpO1xuXG4gICAgICAgICAgICAgICAgICByZXN1bWVNb2RlbC51cGRhdGUoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDb25maXJtTXNnID0gJ1Jlc3VtZSBzYXZlZCBhdCAnICsgJGZpbHRlcignZGF0ZScpKG5ldyBEYXRlKCksICdzaG9ydFRpbWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybSBhbGwgZGF0ZXMgdG8gZGF0ZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyhyZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqLnJlc3VtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXV0b1NhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUudHJhbnNmb3JtU2tpbGxzQXJyYXkyU3RyID0gZnVuY3Rpb24gKHNraWxscykge1xuICAgICAgICAgICAgICB2YXIgc2tpbGw7XG4gICAgICAgICAgICAgIGZvciAoc2tpbGwgaW4gc2tpbGxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNraWxsICE9PSAnc2tpbGxzJykge1xuICAgICAgICAgICAgICAgICAgc2tpbGxzW3NraWxsXSA9IHNraWxsc1tza2lsbF0uam9pbignLCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi51cGRhdGVEYXRlID0gZnVuY3Rpb24gKGRhdGEsIG9iaiwgcHJvcCkge1xuICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICRzY29wZS5kYXRlQ29uZmlnID0ge1xuICAgICAgICAgICAgICB0b2RheTogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAsIGRhdGVPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtaW5Nb2RlOiAnbW9udGgnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYudmFsaWRhdGVEYXRlID0gZnVuY3Rpb24gKGRhdGUsIG1hcmtEaXJ0eSkge1xuICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgLCBzdGFydERhdGVcbiAgICAgICAgICAgICAgICAsIGVuZERhdGU7XG5cbiAgICAgICAgICAgICAgc3RhcnREYXRlID0gZGF0ZS5zdGFydDtcbiAgICAgICAgICAgICAgZW5kRGF0ZSA9IGRhdGUuZW5kO1xuXG5cbiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzRGF0ZShzdGFydERhdGUpIHx8ICghYW5ndWxhci5pc0RhdGUoZW5kRGF0ZSkgJiYgIWRhdGUuaXNDdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnUGxlYXNlIGVudGVyIHRoZSBkYXRlIGluIHNwZWNpZmllZCBmb3JtYXQnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gIENoZWNrIGlmIHVzZXIgaGFzIHBpY2tlZCBhIGZ1dHVyZSBkYXRlLlxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoc3RhcnREYXRlKSAmJiBzdGFydERhdGUuZ2V0VGltZSgpID4gdG9kYXkuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdZb3UgY2Fubm90IHBpY2sgYSBkYXRlIGluIGZ1dHVyZSc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IHdvcmtpbmcgb3IgYXR0ZW5kaW5nXG4gICAgICAgICAgICAgIGlmICghZGF0ZS5pc0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoZW5kRGF0ZSkgJiYgZW5kRGF0ZS5nZXRUaW1lKCkgPiB0b2RheS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAnWW91IGNhbm5vdCBwaWNrIGEgZGF0ZSBpbiBmdXR1cmUnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShlbmREYXRlKSAmJiBhbmd1bGFyLmlzRGF0ZShzdGFydERhdGUpICYmIGVuZERhdGUuZ2V0VGltZSgpIDw9IHN0YXJ0RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAnRW5kIGRhdGUgY2Fubm90IGZhbGwgYmVmb3JlIHN0YXJ0IGRhdGUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobWFya0RpcnR5KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmlzVmFsaWRHUEEgPSBmdW5jdGlvbiAoZ3BhKSB7XG4gICAgICAgICAgICAgIC8vIElmIG5vIHZhbHVlcyBqdXN0IHJldHVybiB3aXRob3V0IGFueSB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICBpZiAoIWdwYSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghL15cXGR7MX1cXC5cXGR7MX0kLy50ZXN0KGdwYSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0ludmFsaWQgR1BBJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGdwYSA9IHBhcnNlRmxvYXQoZ3BhKTtcbiAgICAgICAgICAgICAgaWYgKGdwYSA+IDQuMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnR1BBIGNhbm5vdCBleGNlZWQgNC4wJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5kZWxldGVSZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICAgICAgICAgIHByb21pc2UgPSByZXN1bWVNb2RlbC5kZWxldGUocmVzdW1lTW9kZWwucmVzdW1lLm1ldGEuaWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5kZWxldGUoe3Byb21pc2U6IHByb21pc2V9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uIChvYmosIHByb3ApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiAhIW9ialtwcm9wXTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEZpcmUgYSBjYWxsYmFjayBpZiBwcm92aWRlZCB0byBsZXQga25vdyB0aGUgbW9kZWwgaXMgdW5hdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAoIXNlbGYuaXNSZWFkeSkge1xuICAgICAgICAgICAgICAoc2VsZi5mYWlsIHx8IGFuZ3VsYXIubm9vcCkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2VkaXRvckN0cmwnLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICB9O1xuXG4gICAgfSk7XG59KShhbmd1bGFyKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8yLzE1LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tY3JlYXRlLXJlc3VtZScsIFtcbiAgICAnYXBvbGxvQW5ndWxhclJlc3VtZUJ1aWxkZXIuY29uZmlnJ1xuICAgICwgJ3Jlc3VtZS1tb2RlbCdcbiAgICAsICd1aS5ib290c3RyYXAnXG4gICAgLCAncmVzdW1lLWJ1aWxkZXItdHBscydcbiAgICAsICduZ0ZpbGVVcGxvYWQnXG4gIF0pXG4gICAgLmRpcmVjdGl2ZSgnYXBDcmVhdGVSZXN1bWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHByb2ZpbGVJZDogJz1waWQnXG4gICAgICAgICAgLCBjb21wbGV0ZTogJyZvbkNvbXBsZXRlJ1xuICAgICAgICAgICwgaXNLbm93bjogJyYnXG4gICAgICAgICAgLCAnYXV0aGVudGljYXRlJzogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3JiL3RlbXBsYXRlcy9jcmVhdGUtcmVzdW1lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgJ3Jlc3VtZU1vZGVsJ1xuICAgICAgICAgICwgJyRtb2RhbCdcbiAgICAgICAgICAsICckc2NvcGUnXG4gICAgICAgICAgLCAnJGZpbHRlcidcbiAgICAgICAgICAsICckcSdcbiAgICAgICAgICAsICckcGFyc2UnXG4gICAgICAgICAgLCAncmVzdW1lLXV0aWxzJ1xuICAgICAgICAgICwgZnVuY3Rpb24gKHJlc3VtZU1vZGVsLCAkbW9kYWwsICRzY29wZSwgJGZpbHRlciwgJHEsICRwYXJzZSwgdXRpbHMpIHtcbiAgICAgICAgICAgIHZhciBfXyA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9fLmNvbXBsZXRlID0gX18uY29tcGxldGUgfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIG1vZGVsIGZvciBhIGdpdmVuIHByb2ZpbGVJZC5cbiAgICAgICAgICAgIHJlc3VtZU1vZGVsLmluaXQoX18ucHJvZmlsZUlkKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZE1ldGFJbmZvKGxhYmVsKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuXG4gICAgICAgICAgICAgIC8vIGZpbHRlciBmb3IgY3VycmVudGx5IHVwbG9hZGVkIGRvYyBtZXRhIGluZm9cbiAgICAgICAgICAgICAgdmFyIG1ldGFJbmZvID0gJGZpbHRlcignZmlsdGVyJykocmVzdW1lTW9kZWwucmVzdW1lTGlzdCwgeydsYWJlbCc6IGxhYmVsfSk7XG5cbiAgICAgICAgICAgICAgaWYgKG1ldGFJbmZvLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1ldGFJbmZvID0gbWV0YUluZm9bMF07XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldChtZXRhSW5mbykpO1xuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVzdW1lTW9kZWwuZ2V0UHJlZmVyZW5jZXMobWV0YUluZm8uaWQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfXy5mcm9tU2NyYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oX18uaXNLbm93bikgJiYgX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogX18uZnJvbVNjcmF0Y2h9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZVxuICAgICAgICAgICAgICAgICwgbVNjb3BlO1xuXG4gICAgICAgICAgICAgIG1TY29wZSA9ICRzY29wZS4kbmV3KCk7XG5cbiAgICAgICAgICAgICAgbVNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgkZXZlbnQsIGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICBtU2NvcGUuaW5WYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAnbmV3JywgbmFtZTogbGFiZWx9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRNZXRhSW5mbyhsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBtb2RhbCBvbmNlIHRoZSByZXN1bWUgaXMgc2F2ZWRcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UocmVzdW1lTW9kZWwucmVzdW1lLm1ldGEuaWQgPyAnU3VjY2VzcycgOiAnRmFpbCcpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAvLy50aGVuKHJlc3VtZU1vZGVsLmluaXQpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbVNjb3BlLmluVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbVNjb3BlLmVycm9yID0gZXJyLmRhdGEuZmllbGRFcnJvcnNbMF0uZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1TY29wZS5lcnJvciA9ICdPb3BzLi5zb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHJlbG9hZCB0aGUgcGFnZSBhbmQgdHJ5IGFnYWluLic7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBtU2NvcGUuZXJyb3IgPSAnUmVzdW1lIHRpdGxlIGlzIHJlcXVpcmVkLic7XG4gICAgICAgICAgICAgICAgICBtU2NvcGUuaW5WYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvbmV3LXJlc3VtZS1jb25maXJtYXRpb24uaHRtbCdcbiAgICAgICAgICAgICAgICAvLywgc2l6ZTogJ3NtJ1xuICAgICAgICAgICAgICAgICwgYmFja2Ryb3A6IHRydWVcbiAgICAgICAgICAgICAgICAsIHNjb3BlOiBtU2NvcGVcbiAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICBfXy5jb21wbGV0ZSh7cHJvbWlzZTogbW9kYWxJbnN0YW5jZS5yZXN1bHR9KTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgX18uZnJvbUZTID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oX18uaXNLbm93bikgJiYgX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLmZyb21TY3JhdGNoLCBbZGF0YV0pfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHByb21pc2U7XG4gICAgICAgICAgICAgICRzY29wZS51cGxvYWRFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UgPSByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAndXBsb2FkJywgZGF0YTogZGF0YX0pXG4gICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2FkTWV0YUluZm8oJHBhcnNlKCduYW1lJykoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdzdWNjZXNzJztcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEVycm9yID0gcmVzcC5kYXRhLmZpZWxkRXJyb3JzWzBdLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX18uY29tcGxldGUoe3Byb21pc2U6IHByb21pc2V9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICBfXy5mcm9tTGlua2VkSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAnaW1wb3J0J30pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIH1dLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjckN0cmwnLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICB9O1xuICAgIH0pO1xuXG59KShhbmd1bGFyKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gOS80LzE1LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ3Jlc3VtZS11dGlscycsIFtdKVxuICAgIC5mYWN0b3J5KCdyZXN1bWUtdXRpbHMnLCBbZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbG9zdXJlRnVuY3Rpb246IGZ1bmN0aW9uIChmdW5jLCBhcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoYXJncykgJiYgYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZnVuYy5hcHBseSh7fSwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNS8xNS8xNS5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSBidWlsZC15b3VyLXJlc3VtZS5yZXN1bWVNb2RlbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQSBtb2RlbCB0aGF0IGlzIHNoYXJlZCBiZXR3ZWVuIGV4ZXJjaXNlIGNvbnRyb2xsZXIgYW5kIGRvbmUgY29udHJvbGxlciB0byBpbnRlcmFjdCB3aXRoXG4gICAqIGFjdHVhbCByZXN1bWUgbW9kZWwuXG4gICAqXG4gICAqL1xuICBhbmd1bGFyLm1vZHVsZSgncmVzdW1lLW1vZGVsJywgW1xuICAgICdhcG9sbG9Bbmd1bGFyUmVzdW1lU2VydmljZXMucmVzdW1lJ1xuICBdKVxuICAgIC5mYWN0b3J5KCdyZXN1bWVNb2RlbCcsIFtcbiAgICAgICckcmVzdW1lc2VydmljZSdcbiAgICAgICwgJyRxJ1xuICAgICAgLCAnJHBhcnNlJ1xuICAgICAgLCAnJHNjZSdcbiAgICAgICwgJyR3aW5kb3cnXG4gICAgICAsIGZ1bmN0aW9uICgkcmVzdW1lLCAkcSwgJHBhcnNlLCAkc2NlLCAkd2luZG93KSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHt9XG4gICAgICAgICAgLCBwcm9maWxlSWRcbiAgICAgICAgICAsIGluaXRMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICAsIGluaXRQcm9taXNlO1xuXG4gICAgICAgIC8vIGluaXRcbiAgICAgICAgbW9kZWwuaW5pdCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIGlmICghaW5pdExvYWRpbmcpIHtcbiAgICAgICAgICAgIHByb2ZpbGVJZCA9IGlkO1xuICAgICAgICAgICAgaW5pdExvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgLy8gR2V0IG1ldGEgaW5mby5cbiAgICAgICAgICAgIGluaXRQcm9taXNlID0gbW9kZWwuZ2V0TWV0YUluZm8oKVxuICAgICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5pdExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbml0UHJvbWlzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdFByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gUmV0cmlldmUgbW9kZWwgbWV0YSBpbmZvIGlmIGFueSBhdmFpbGFibGUuXG4gICAgICAgIG1vZGVsLmdldE1ldGFJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmxpc3QocHJvZmlsZUlkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICBtb2RlbC5yZXN1bWVMaXN0ID0gJHBhcnNlKCdkYXRhLml0ZW1zJykocmVzKTtcblxuICAgICAgICAgICAgICAvLyBOT1RFOiBOb3Qgc3VyZSB3aGF0IHRoZSBiZWxvdyBjb2RlIGlzIGRvaW5nIGFueW1vcmUuXG4gICAgICAgICAgICAgIC8vaWYgKCFhbmd1bGFyLmlzQXJyYXkocmVzdW1lTGlzdCkgJiYgcmVzdW1lTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gIC8vIFJlamVjdCB0aGUgcHJvbWlzZS5cbiAgICAgICAgICAgICAgLy8gIHJldHVybiAkcS5yZWplY3QoJ0Nhbm5vdCBmaW5kIGFuIGV4aXN0aW5nIHJlc3VtZS4gTm8gam95Li4ubm8gam95LicpO1xuICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEdldCB0aGUgcmVzdW1lIG1vZGVsIGZyb20gZGIuXG4gICAgICAgIG1vZGVsLmdldCA9IGZ1bmN0aW9uIChtZXRhSW5mbykge1xuICAgICAgICAgIG1vZGVsLnJlc3VtZSA9IHtcbiAgICAgICAgICAgIG1ldGE6IG1ldGFJbmZvXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmdldCh7cHJvZmlsZUlkOiBwcm9maWxlSWQsIGRvY0lkOiBtb2RlbC5yZXN1bWUubWV0YS5pZH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdW1lT2JqKSB7XG4gICAgICAgICAgICAgIG1vZGVsLnJlc3VtZS5yZXN1bWVPYmogPSByZXN1bWVPYmouZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGdldCBtb2RlbCBwcmVmZXJlbmNlc1xuICAgICAgICBtb2RlbC5nZXRQcmVmZXJlbmNlcyA9IGZ1bmN0aW9uIChkb2NJZCkge1xuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmdldFByZWZlcmVuY2VzKHtwcm9maWxlSWQ6IHByb2ZpbGVJZCwgZG9jSWQ6IGRvY0lkfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcmVmZXJlbmNlcykge1xuICAgICAgICAgICAgICBtb2RlbC5yZXN1bWUucHJlZmVyZW5jZXMgPSBwcmVmZXJlbmNlcy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IHByZWZlcmVuY2VzXG4gICAgICAgIG1vZGVsLnNldFByZWZlcmVuY2UgPSBmdW5jdGlvbiAoZG9jSWQsIGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS5zZXRQcmVmZXJlbmNlKHtwcm9maWxlSWQ6IHByb2ZpbGVJZCwgZG9jSWQ6IGRvY0lkLCBwYXlsb2FkOiBkYXRhfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZ2V0IHJlc3VtZSB0ZW1wbGF0ZXNcbiAgICAgICAgbW9kZWwuZ2V0VGVtcGxhdGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS5nZXRUZW1wbGF0ZXMoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRlbXBsYXRlcykge1xuICAgICAgICAgICAgICB0aGF0LnRlbXBsYXRlcyA9IHRlbXBsYXRlcy5kYXRhLml0ZW1zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IHRlbXBsYXRlXG4gICAgICAgIG1vZGVsLnNldFRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNldFByZWZlcmVuY2UobW9kZWwucmVzdW1lLm1ldGEsIHtyZXN1bWVUZW1wbGF0ZVByZWZlcmVuY2U6IHRoaXMucHJlZmVyZW5jZXMucmVzdW1lVGVtcGxhdGVQcmVmZXJlbmNlfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gY3JlYXRlLCB1cGxvYWQgb3IgaW1wb3J0IGEgcmVzdW1lXG4gICAgICAgIG1vZGVsLnNhdmUgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICAgIHZhciBwcm9taXNlLCB0aGF0O1xuXG4gICAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgLy8gSWYgYSByZXN1bWUgYWxyZWFkeSBleGl0IHRyaWdnZXIgYSByZXF1ZXN0IHRvIGRlbGV0ZSBiZWZvcmUgY3JlYXRpbmcgYSBuZXcuXG4gICAgICAgICAgLy90aGlzLmRlbGV0ZSgpO1xuXG4gICAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgICAgIC8vIHVwbG9hZCBleGlzdGluZyByZXN1bWVcbiAgICAgICAgICAgIHByb21pc2UgPSAkcmVzdW1lLnVwbG9hZChwcm9maWxlSWQsIHBheWxvYWQuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHBheWxvYWQudHlwZSA9PT0gJ2ltcG9ydCcpIHtcbiAgICAgICAgICAgIC8vIGltcG9ydCBmcm9tIGxpbmtlZEluXG4gICAgICAgICAgICBwcm9taXNlID0gJHJlc3VtZS5pbXBvcnRMaW5rZWRJbihwcm9maWxlSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5ldyByZXN1bWUgZnJvbSBzY3JhdGNoLlxuICAgICAgICAgICAgcHJvbWlzZSA9ICRyZXN1bWUuY3JlYXRlKHByb2ZpbGVJZCwge25hbWU6IHBheWxvYWQubmFtZX0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG1vZGVsIGJlZm9yZSByZXR1cm5pbmcuXG4gICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihtb2RlbC5nZXRNZXRhSW5mbyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbW9kZWwuZGVsZXRlID0gZnVuY3Rpb24gKGRvY0lkKSB7XG4gICAgICAgICAgaWYgKGRvY0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gJHJlc3VtZS5kZWxldGUoe3Byb2ZpbGVJZDogcHJvZmlsZUlkLCBkb2NJZDogZG9jSWR9KVxuICAgICAgICAgICAgICAudGhlbihtb2RlbC5nZXRNZXRhSW5mbyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoJ0RvY3VtZW50IGlkIHJlcXVpcmVkIHRvIGRlbGV0ZSByZXN1bWUhJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNhdmUsIHVwZGF0ZSBkYXRhIGJhY2sgaW4gZGJcbiAgICAgICAgbW9kZWwudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS51cGRhdGUoe3Byb2ZpbGVJZDogcHJvZmlsZUlkLCBkb2NJZDogdGhpcy5yZXN1bWUubWV0YS5pZCwgZGF0YTogdGhpcy5yZXN1bWUucmVzdW1lT2JqfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bWUpIHtcbiAgICAgICAgICAgICAgdGhhdC5yZXN1bWUucmVzdW1lT2JqID0gcmVzdW1lLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgdGl0bGVcbiAgICAgICAgbW9kZWwudXBkYXRlUmVzdW1lVGl0bGUgPSBmdW5jdGlvbiAodGl0bGUpIHtcbiAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS51cGRhdGUoe1xuICAgICAgICAgICAgcHJvZmlsZUlkOiBwcm9maWxlSWRcbiAgICAgICAgICAgICwgZG9jSWQ6IHRoaXMucmVzdW1lLm1ldGEuaWRcbiAgICAgICAgICAgICwgZGF0YToge1xuICAgICAgICAgICAgICAnbmFtZSc6IHRpdGxlXG4gICAgICAgICAgICAgICwgJ3Jlc3VtZSc6IHt9XG4gICAgICAgICAgICAgICwgJ3ByaW1hcnlJbmQnOiAnWSdcbiAgICAgICAgICAgICAgLCAnc3RhdHVzJzogJ0NPTVBMRVRFJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdW1lKSB7XG4gICAgICAgICAgICAgIHRoYXQucmVzdW1lLnJlc3VtZU9iaiA9IHJlc3VtZS5kYXRhO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKG1vZGVsLmdldE1ldGFJbmZvKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIG1vZGVsLmdldFByZXZpZXdVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5wcmVmZXJlbmNlcy5wcmV2aWV3VXJsID0gJHJlc3VtZS5wcmV2aWV3VXJsKHtcbiAgICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZUlkLFxuICAgICAgICAgICAgZG9jSWQ6IHRoaXMucmVzdW1lLm1ldGEuaWQsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5yZXN1bWUucHJlZmVyZW5jZXMucmVzdW1lVGVtcGxhdGVQcmVmZXJlbmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbW9kZWwuZ2V0UHJldmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSwgdGhhdDtcbiAgICAgICAgICB0aGF0ID0gdGhpcztcbiAgICAgICAgICBwcm9taXNlID0gJHJlc3VtZS5wcmV2aWV3KHtcbiAgICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZUlkLFxuICAgICAgICAgICAgZG9jaUlkOiB0aGlzLm1ldGEuaWQsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnByZWZlcmVuY2VzLnJlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICB2YXIgaHRtbEVsZW07XG4gICAgICAgICAgICBodG1sRWxlbSA9ICR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgICAgICAgICAgaHRtbEVsZW0uaW5uZXJIVE1MID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAvLyBRdWljayB3YXkgdG8gcmV0cmlldmUgY29udGVudHMgb2YgdGhlIGJvZHkuXG4gICAgICAgICAgICB0aGF0LmNvbnRlbnQgPSBodG1sRWxlbS5xdWVyeVNlbGVjdG9yKCdib2R5JykuaW5uZXJIVE1MO1xuICAgICAgICAgICAgLy8gZG8gc29tZSBjbGVhbiB1cCB0byBwbGVhc2UgYW5ndWxhciB0byBpbnNlcnQgaXQgYmFjayBpbnRvIGRvbVxuICAgICAgICAgICAgdGhhdC5jb250ZW50ID0gKHRoYXQuY29udGVudCkucmVwbGFjZSgvXFxzKyg8KS9nLCAnJDEnKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvKD4pXFxzKy9nLCAnJDEnKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzK+KAk1xccysvZywgJyAtICcpO1xuICAgICAgICAgICAgdGhhdC5jb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCh0aGF0LmNvbnRlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEdldCB0ZW1wbGF0ZS5cbiAgICAgICAgbW9kZWwuZ2V0VGVtcGxhdGVzKCk7XG5cbiAgICAgICAgLy8gTWFrZSBkdXBsaWNhdGUgb2YgYSByZXN1bWUuXG4gICAgICAgIG1vZGVsLmNyZWF0ZUR1cGxpY2F0ZSA9IGZ1bmN0aW9uIChkb2NJZCwgbmFtZSkge1xuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmR1cGxpY2F0ZSh7XG4gICAgICAgICAgICBwcm9maWxlSWQ6IHByb2ZpbGVJZCxcbiAgICAgICAgICAgIGRvY0lkOiBkb2NJZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgcHJpbWFyeUluZDogJ04nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIFJlIGdldCB0aGUgbmV3IGxpc3Qgb2YgcmVzdW1lcy5cbiAgICAgICAgICAgIC50aGVuKG1vZGVsLmdldE1ldGFJbmZvKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtb2RlbC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkZWxldGUgbW9kZWwucmVzdW1lTGlzdDtcbiAgICAgICAgICBkZWxldGUgbW9kZWwucmVzdW1lO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbi8vIENyZWF0ZSBhbGwgbW9kdWxlcyBhbmQgZGVmaW5lIGRlcGVuZGVuY2llcyB0byBtYWtlIHN1cmUgdGhleSBleGlzdFxuLy8gYW5kIGFyZSBsb2FkZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgdG8gc2F0aXNmeSBkZXBlbmRlbmN5IGluamVjdGlvblxuLy8gYmVmb3JlIGFsbCBuZXN0ZWQgZmlsZXMgYXJlIGNvbmNhdGVuYXRlZCBieSBHcnVudFxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuLy8gQ29uZmlnXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG9Bbmd1bGFyUmVzdW1lQnVpbGRlci5jb25maWcnLCBbXSlcbiAgICAudmFsdWUoJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyLmNvbmZpZycsIHtcbiAgICAgIGRlYnVnOiB0cnVlXG4gICAgICAsIGVkaXRvckxheW91dDogZmFsc2VcbiAgICB9KTtcblxuXG4vLyBNb2R1bGVzXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG9Bbmd1bGFyUmVzdW1lQnVpbGRlcicsXG4gICAgW1xuICAgICAgJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyLmNvbmZpZydcbiAgICAgICwgJ2Fwb2xsby1zYW1wbGUtcmVzdW1lcydcbiAgICAgICwgJ2Fwb2xsby1jcmVhdGUtcmVzdW1lJ1xuICAgICAgLCAnYXBvbGxvLWxpc3QtcmVzdW1lcydcbiAgICAgICwgJ2Fwb2xsby1yZXN1bWUtZWRpdG9yJ1xuICAgICAgLCAnYXBvbGxvLXByZXZpZXctcmVzdW1lJ1xuICAgICAgLCAnY2dCdXN5J1xuXG4gICAgXSlcbiAgICAucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnL3JiL3RlbXBsYXRlcy9kdXAtcmVzdW1lLWNvbmZpcm0uaHRtbCcsICcnICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWQgcmVzdW1lLWJ1aWxkZXItbW9kYWxcIiByb2xlPVwiZGlhbG9nXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicm93XCI+JyArXG4gICAgICAgICc8Zm9ybSBjbGFzcz1cImNvbC1tZC0xMlwiIG5nLXN1Ym1pdD1cInN1Ym1pdChybGFiZWwpXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGxhYmVsIGZvcj1cImR1cC1yZXN1bWUtdGl0bGVcIj5QbGVhc2UgZW50ZXIgcmVzdW1lIHRpdGxlPC9sYWJlbD4nICtcbiAgICAgICAgJzxpbnB1dCBpZD1cImR1cC1yZXN1bWUtdGl0bGVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmctbW9kZWw9XCJybGFiZWxcIiBtYXhsZW5ndGg9XCI3NVwiPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8ZGl2IHJvbGU9XCJhbGVydFwiIGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPHNtYWxsIGNsYXNzPVwiY29sLW1kLTEyIGFsZXJ0IGFsZXJ0LWRhbmdlclwiIG5nLXNob3c9XCJpblZhbGlkXCI+e3tlcnJvcn19PC9zbWFsbD4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LXJpZ2h0XCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGNsb3NlKCk7XCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLW1kLTYgdGV4dC1sZWZ0XCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwic3VibWl0KHJsYWJlbClcIj5DcmVhdGU8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9mb3JtPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nKTtcblxuXG4gICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJy9yYi90ZW1wbGF0ZXMvZGVsZXRlLXJlc3VtZS1jb25maXJtLmh0bWwnLCAnJyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIHJlc3VtZS1idWlsZGVyLW1vZGFsXCIgaWQ9XCJkZWxldGUtcmVzdW1lLWNvbmZpcm1hdGlvblwiIHJvbGU9XCJhbGVydGRpYWxvZ1wiIHRhYmluZGV4PVwiMFwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC0xMiB0ZXh0LWNlbnRlclwiPicgK1xuICAgICAgICAnPHA+e3txdWVzdGlvbn19PC9wPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtY2VudGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGNsb3NlKGZhbHNlKTtcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LWNlbnRlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjbG9zZSh0cnVlKTtcIj5ZZXM8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+Jyk7XG5cbiAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnL3JiL3RlbXBsYXRlcy9uZXctcmVzdW1lLWNvbmZpcm1hdGlvbi5odG1sJywgJycgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZCByZXN1bWUtYnVpbGRlci1tb2RhbFwiIGlkPVwibmV3LXJlc3VtZS1tb2RhbFwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsPVwiTmV3JyArXG4gICAgICAgICcgcmVzdW1lIHRpdGxlXCIgdGFiaW5kZXg9XCIwPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGZvcm0gY2xhc3M9XCJjb2wtbWQtMTJcIiBuZy1zdWJtaXQ9XCJzdWJtaXQoJGV2ZW50LCBybGFiZWwpXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGxhYmVsIGZvcj1cInJlc3VtZS10aXRsZVwiIHRhYmluZGV4PVwiLTFcIj5QbGVhc2UgZW50ZXIgcmVzdW1lIHRpdGxlPC9sYWJlbD4nICtcbiAgICAgICAgJzxpbnB1dCBpZD1cInJlc3VtZS10aXRsZVwiIHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuZy1tb2RlbD1cInJsYWJlbFwiIG1heGxlbmd0aD1cIjc1XCI+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgcm9sZT1cImFsZXJ0XCIgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXG4gICAgICAgICc8c21hbGwgY2xhc3M9XCJjb2wtbWQtMTIgYWxlcnQgYWxlcnQtZGFuZ2VyXCIgbmctc2hvdz1cImluVmFsaWRcIj57e2Vycm9yfX08L3NtYWxsPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Zvcm0+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtcmlnaHRcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY2xvc2UoKTtcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LWxlZnRcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCInICtcbiAgICAgICAgJyBuZy1jbGljaz1cInN1Ym1pdCgkZXZlbnQsIHJsYWJlbClcIj5DcmVhdGU8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nKTtcblxuXG4gICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJy9yYi90ZW1wbGF0ZXMvY29uZmlybS1uYXZpZ2F0aW9uLWF3YXkuaHRtbCcsICcnICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWQgcmVzdW1lLWJ1aWxkZXItbW9kYWxcIiByb2xlPVwiYWxlcnRkaWFsb2dcIiB0YWJpbmRleD1cIjBcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJyb3dcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgdGV4dC1jZW50ZXJcIj4nICtcbiAgICAgICAgJzxwPllvdSBhcmUgYWJvdXQgdG8gbGVhdmUgcmVzdW1lIGJ1aWxkZXIsIG1ha2Ugc3VyZSB5b3UgaGF2ZSBzYXZlZCB5b3VyIHdvcmsuPC9wPicgK1xuICAgICAgICAnPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoaXMgcGFnZT88L3A+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicm93XCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLW1kLTYgdGV4dC1yaWdodFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjbG9zZSh0cnVlKTtcIj5TdGF5IG9uIHRoaXMgUGFnZTwvYnV0dG9uPjwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtbGVmdFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjbG9zZShmYWxzZSk7XCI+TGVhdmUgdGhpcyBQYWdlPC9idXR0b24+PC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj48L2Rpdj4nKTtcbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuIl0sInNvdXJjZVJvb3QiOiIuL2Rpc3QifQ==</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Oct 22 2015 14:39:31 GMT-0700 (MST)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
