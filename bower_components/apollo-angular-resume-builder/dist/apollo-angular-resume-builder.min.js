"use strict";angular.module("apollo-modal-sample-button",["ui.bootstrap"]).directive("apModalSampleButton",["$uibModal",function(){return{restrict:"AE",replace:!0,scope:{buttonText:"@",modalPath:"@",modalSize:"@"},template:'<div class="col button-col"><a role="button" href class="cta sample" ng-click="viewSample();">{{buttonText}}</a></div>',controller:["$scope","$uibModal",function(e,t){e.viewSample=function(){t.open({templateUrl:e.modalPath,size:e.modalSize||"lg"})}}]}}]),angular.module("apolloAngularResumeBuilder.InfoTipsContent",[]).constant("INFOTIPSCONTENT",{contact:{email:'<p><strong>Email</strong></p><p><strong>Tip:</strong>&nbsp;Make sure you&nbsp;use a professional-looking email address with your name like <a href="mailto:John.Smith@email.com">John.Smith@email.com</a>. Addresses such as <a href="mailto:Surfer82@email.com">Surfer82@email.com</a> or <a href="mailto:horselover3@email.com ">horselover3@email.com</a> are not considered professional.&nbsp;Make sure to check the inbox of the email address you list on a daily basis.</p>',websites:"<p><strong>Websites</strong></p><p><strong><strong>Tip:</strong></strong>&nbsp;Include any personal websites or online portfolios you have that are relevant to the job for which you are applying. You should <em>not</em> include a link to a personal Facebook page.&nbsp;Adding your LinkedIn address would be appropriate; however, make sure to create a short URL that looks similar to this: http://www.linkedin.com/in/myname</p>"},summary:{section:"<p><strong>Summary of Qualifications</strong></p><p><strong>Tip:</strong>&nbsp;This section is your chance to quickly tell the hiring manager why YOU are the right person for the job. We recommend working on this section last after you have added all of your information to your resume. The section should be 3-4 bullet points that best summarize your experience and qualifications. Focus on your achievements, recognitions and results that are relevant to the job description.</p><p><strong>Example:</strong>&nbsp;Here is an example of a great summary for an individual applying for a managerial sales position.</p><ul><li>5+ years of business experience including management responsibility of a four-person sales team.</li><li>Sold $400,000 in advertising space to large companies such as Google, AT&amp;T, and Best Buy.</li><li>Received &quot;Sales Leadership&quot; award for sharing best practices with the entire sales team.</li><li>Established mentorship program for new hires in the sales department.</li></ul>"},experience:{section:"<p><strong>Professional Experience</strong></p><p><strong>Tip:</strong>&nbsp;Don&#39;t have a lot of work experience? Here are two helpful hints:</p><ul><li>Move your Education section above Professional Experience to emphasize your education.</li><li>Expand on the work experience you do have, by adding relevant internships, part time work or volunteer work.</li></ul><p><strong>Tip:</strong>&nbsp;Have a lot of work experience? Try to make your resume concise and, if possible, fit within one page. Leave out older jobs and cut down on irrelevant information. &nbsp;A concise resume with highly relevant experience is better than a long resume with semi-relevant experience.&nbsp;</p><p><strong>Tip:</strong> Some human resources software systems select candidates by automated keyword searches.&nbsp; Look at the job description for your target role and identify any keywords that might be relevant. If those keywords apply to you, use those words throughout your resume.</p>",jobtitle:"<p><strong>Job Title</strong></p><p><strong>Tip:</strong> Some employers use unique titles for common jobs. Try to use common industry titles so that a hiring manager can quickly identify your position.</p><p><strong>Example:</strong> Use Sales Executive instead of Sales Ninja. If you do adjust your job title, make sure that it is truthful and that it does not inflate your experience level.</p>",achievements:"<p><strong>Achievement Bullets</strong></p><p><strong>Tip:</strong>&nbsp;Review the job description of the position you want to apply. Make sure that the achievements you include here relate to what the employer is seeking. Your most relevant achievements should appear first.</p><p><strong>Tip:</strong> Each achievement bullet should have two parts.</p><ul><li>What did you accomplish? (Start with an action verb, such as &quot;Managed&quot; or &quot;Increased&quot;)</li><li>How did it impact the organization? (Quantify results when possible)</li></ul><p><strong>Example:</strong>&nbsp; Here&#39;s a great example of four achievement bullets for a past retail store management job.&nbsp;</p><ul><li>Implemented employee incentive program that reduced employee turnover by 25%.</li><li>Increased customer satisfaction score by 30 points (out of 100) in one year through a series of training initiatives that focused on improving response time of staff.</li><li>Oversaw day-to-day operations including inventory management, sales reporting and expense tracking.</li><li>Improved store ranking from 25th to 3rd in the region in a two-year period.</li></ul>"},education:{degreeType:"<p><strong>DegreeType</strong></p><p><strong>Tip:</strong> Arts or Science are the two most common degree types. Make sure what you enter is what your diploma states.</p><p><strong>Example:</strong> Bachelor of <strong>Arts</strong> in English</p>",major:"<p><strong>Major/Emphasis</strong></p><p><strong>Tip:</strong> You can include multiple majors or emphases by separating them with commas.</p><p><strong>Example:</strong> Degree with a double major:&nbsp;Bachelor of Science in <strong>Communication, Journalism</strong></p>",gpa:"<p><strong>Additional Info</strong></p><p><strong>Tip:</strong> We recommend including your GPA if it is 3.0 or above</p>",details:"<p><strong>Education Details</strong></p><p><strong>Tip:</strong> If you are short on professional experience, consider adding a couple of your most relevant courses or projects that relate to your target position here.</p><p><strong>Example:</strong> Here is an example of what someone applying for a marketing job with little relevant experience might write:</p><p>Relevant coursework: Market Analysis, International Marketing and Product Pricing Structures</p>"},skills:{section:"<p><strong>Additional Information</strong></p><p><strong>Tip:</strong>&nbsp;Don&#39;t have a lot of experience?</p><ul><li>We recommend including up to four types of additional information in this section. Things like skills, volunteer work, languages, interests and hobbies will show that you have passions outside of work and help build your candidacy. This is an easy way to strengthen your resume and to make yourself more marketable to employers.&nbsp;</li></ul><p><strong>Tip:</strong>&nbsp;Have a lot of experience?</p><ul><li>Only include what is most relevant to your target job. Separate multiple items with commas (e.g. PowerPoint, Excel, Word).</li></ul>",certifications:"<p><strong>Certifications</strong></p><p><strong>Tip:</strong>&nbsp;Include the professional certifications you have that are relevant for the job you are seeking. Are you Sun Java certified? Add that here. Are you IBM certified database administrator? Add that here. We recommend adding any certification that you may have; remember to make sure they are relevant for the job you are seeking.&nbsp;</p><p><strong>Example:</strong>&nbsp;Here is a great example of a certification section for someone seeking a Database administrator position:</p><ul><li>Certifications: IBM certified Advanced database administrator</li></ul>",skills:"<p><strong>Skills</strong></p><p><strong>Tip:</strong>&nbsp;Include the professional skills you have that are relevant for the job you are seeking. Are you good with Microsoft Excel? Add that here. Are you a strong leader? Add that here. We recommend having 5-10 skills listed; remember to make sure they are relevant for the job you are seeking.&nbsp;</p><p><strong>Example:</strong>&nbsp;Here is a great example of a skills section for someone seeking an Administrative Assistant position:</p><ul><li>Skills: Word, Excel, PowerPoint, scheduling, professional communication, organization, 60+ wpm typing speed</li></ul>",awards:"<p><strong>Awards</strong></p><p><strong>Example:</strong>&nbsp;Here is a an example of a professional award that a person applying for a sales job might include:</p><p>Enterprise Sales Person of the Year - Over $250K in annual sales (2012)</p>",languages:"<p><strong>Languages</strong></p><p><strong>Tip:</strong>&nbsp;Knowing a foreign language sets you apart from other candidates. You don&#39;t have to be completely fluent to include a foreign language on your resume.&nbsp;</p><p><strong>Example:</strong></p><ul><li>Speak some Spanish? Say &quot;Basic oral proficiency in Spanish&quot;</li><li>Almost fluent in French? Say &quot;Proficiency in French&quot;</li><li>Completely fluent in German? Say &quot;Written and oral fluency in German&quot;</li></ul>",volunteerWork:"<p><strong>Volunteer Work</strong></p><p><strong>Tip:</strong>&nbsp;Volunteer work is an important experience to highlight, as it demonstrates your character. (Note: If you do not have a lot of work experience, you may choose to put your volunteer work into your Professional Experience section instead.)</p><p><strong>Example:</strong>&nbsp;Volunteer math tutor at Big Brothers &amp; Sisters (2008-2012).</p>",personalHobbies:"<p><strong>Personal Hobbies</strong></p><p><strong>Tip:</strong> Adding hobbies can help humanize your application. Avoid hobbies that could be considered controversial or could hurt your candidacy.</p>"},custom:{section:"<p><strong>Details</strong></p><p><strong>Tip:</strong>&nbsp;Use this custom section if the job/industry requires something extra.&nbsp;For instance, if you have special security clearance you might want to include that here.&nbsp;</p><p><strong>Example:</strong></p><ul><li>&quot;Active Government Security Clearance&quot;</li></ul>"}}),angular.module("resume-info-tips",["ui.bootstrap","ngSanitize"]).directive("resumeInfoTips",["$sce",function(e){function t(t){t.infoTipsPopover={content:e.trustAsHtml(t.content)||"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",templateUrl:"/rb/templates/info-tips-popover.html"}}return{restrict:"E",replace:!0,scope:{content:"@"},templateUrl:"/rb/templates/info-tips.html",link:t}}]),function(e){e.module("apollo-sample-resumes",["resume-builder-tpls","apollo-modal-sample-button"]).directive("apSampleResumes",function(){return{restrict:"E",replace:!0,scope:{numCols:"="},templateUrl:"/rb/templates/sample-resumes.html",controller:["$cacheFactory",function(e){var t=[{path:"/rb/samples/modern-accountant-resume.html",name:"Accountant"},{path:"/rb/samples/modern-executiveassistent-resume.html",name:"Executive Assistant"},{path:"/rb/samples/modern-financial-analyst-resume.html",name:"Financial Analyst"},{path:"/rb/samples/classic-itmanagement-resume.html",name:"IT Manager"},{path:"/rb/samples/alternate-managment-professional-resume.html",name:"Management Professional"},{path:"/rb/samples/classic-counseling-resume.html",name:"Mental Health / Behavioral Counselor"},{path:"/rb/samples/alternate-nurse-resume.html",name:"Nurse"},{path:"/rb/samples/classic-security-professional-resume.html",name:"Security Professional"},{path:"/rb/samples/alterante-teacher-resume.html",name:"Teacher"}],r=function(t,r){if(t){var o,n,s,i=JSON.stringify(t);if(o=e.get("rbpartition"),o||(o=e("rbpartition")),n=o.get(i+r),JSON.stringify(n)===i)return n;s=[];for(var a=0;a<t.length;a+=r)s.push(t.slice(a,a+r));return o.put(i+r,s),s}},o=this,n=o.numCols||3;o.samples=r(t,n),o.colClass="col-md-"+Math.floor(12/Math.ceil(t.length/n))}],controllerAs:"srCtrl",bindToController:!0}})}(angular),function(e){e.module("apollo-preview-resume",["resume-model","apolloAngularResumeServices.config","ngSanitize"]).value("printHtmlWin",null).controller("ResumePreviewCtrl",["resumeModel","apolloAngularResumeServices.config","$sce",function(e,t,r){var o=this;o.resume=e.resume.resumeObj.resume,o.templates=e.templates,o.preferences=e.preferences,o.docId=e.resume.meta.id,o.tenant=t.tenant;var n=function(){o.template=e.resume.preferences.resumeTemplatePreference||"classic",o.templateUrl=r.trustAsResourceUrl("/rb/templates/"+o.template.toLowerCase()+"-preview.html"),o.htmlPreviewUrl="/api/resume-service/1/"+o.tenant+"/users/"+o.profileId+"/resume/"+o.docId+"/html?template="+o.template.toLowerCase()+"&download=true"};n(),o.updatePreference=function(t){return e.resume.preferences.resumeTemplatePreference=t,e.setPreference(e.resume.meta.id,{resumeTemplatePreference:t}).then(function(){n()})}}]).directive("apPreviewResume",function(){return{restrict:"E",replace:!0,scope:{profileId:"=pid",hideEdit:"=",edit:"&onEdit",cta:"="},templateUrl:"/rb/templates/preview-resume.html",controller:"ResumePreviewCtrl",controllerAs:"pvCtrl",bindToController:!0}}).directive("previewIframe",function(){return function(e,t,r){e.$watch(r.previewIframe,function(e){var r='<iframe title="Resume Preview" style="width:100%;height:100vh;padding:0;"  class="paper" src="'+e+'"></iframe>';t.find("iframe").remove(),t.append(r)})}}).directive("printResume",["$window","printHtmlWin",function(e,t){return{restrict:"A",scope:!0,link:function(r,o,n){o.on("click",function(){var r=n.printResume;t?(t.focus(),t.print()):(t=e.open(r),t.document.close(),t.focus(),t.onload=function(){t.print()},t.onbeforeunload=function(){t=null})})}}}])}(angular),function(e){e.module("apollo-list-resumes",["resume-model","ui.bootstrap","resume-builder-tpls","resume-utils","ngFileUpload"]).controller("ResumeListCtrl",["$templateCache","resumeModel","$uibModal","$q","$scope","resume-utils","$filter","$parse",function(t,r,o,n,s,i,a,l){function u(e){var t=[],o=a("filter")(r.resumeList,{label:e});return o.length?(o=o[0],t.push(r.get(o)),t.push(r.getPreferences(o.id)),t.push(r.getCountryList()),t.push(r.getStates()),n.all(t)):!1}function c(){var e;e=s.$new(),e.message="You have exceeded the maximum number of "+p+" resumes allowed.",o.open({templateUrl:"/rb/templates/resume-limit-error.html",backdrop:!0,scope:e})}var m=this,p=25;m.edit=m.edit||e.noop,m.preview=m.preview||e.noop,m.complete=m.complete||e.noop,m.selectionComplete=m.selectionComplete||e.noop,m.isKnown=m.isKnown||e.noop,m.fromScratch=m.fromScratch||e.noop,m.fromFS=m.fromFS||e.noop,s.model=r,s.hasMaxed=function(){return r.resumeList.length>=p},m.init=function(){var e;m.view=m.mini?"mini":"",e=n.when(m.isKnown()?[]:r.init(m.profileId)).finally(function(){s.$watchCollection("model",function(){m.resumeList=r.resumeList,m.size({size:r.resumeList?r.resumeList.length:0}),m.known=m.isKnown()})}),m.complete({promise:e})},m.viewEditor=function(t){var o,s=[];return m.isKnown()?((m.authenticate||e.noop)({callback:i.closureFunction(m.viewEditor,[t])}),void 0):(s.push(r.get(t)),s.push(r.getPreferences(t.id)),s.push(r.getCountryList()),s.push(r.getStates()),o=n.all(s),m.edit({promise:o}),void 0)},m.createDuplicate=function(t){var n,a;return m.isKnown()?((m.authenticate||e.noop)({callback:i.closureFunction(m.createDuplicate,[t])}),void 0):(a=s.$new(),a.submit=function(e){e?(a.inValid=!1,r.createDuplicate(t.id,e).then(function(){n.close()}).catch(function(e){a.inValid=!0,a.error=400===e.status?e.data.fieldErrors[0].errorMessage:"Oops..something went wrong. Please reload the page and try again."})):(a.error="Resume title cannot be left empty",a.inValid=!0)},n=o.open({templateUrl:"/rb/templates/dup-resume-confirmation.html",backdrop:!0,scope:a}),m.complete({promise:n.result}),void 0)},m.confirm=function(t){if(m.isKnown())return(m.authenticate||e.noop)({callback:i.closureFunction(m.confirm,[t])}),void 0;var n=s.$new();n.question="Do you really want to delete the resume?";var a=o.open({templateUrl:"/rb/templates/delete-resume-confirm.html",size:"sm",backdrop:!0,scope:n}).result.then(function(e){return e?r.delete(t.id):void 0});m.complete({promise:a})},m.viewPreview=function(t){var o,s=[];return m.isKnown()?((m.authenticate||e.noop)({callback:i.closureFunction(m.viewPreview,[t])}),void 0):(s.push(r.get(t)),s.push(r.getPreferences(t.id)),o=n.all(s),m.preview({promise:o}),void 0)},m.publish=function(t){if(m.isKnown())return(m.authenticate||e.noop)({callback:i.closureFunction(m.publish,[t])}),void 0;var o=r.setPreference(t.id,{searchable:"PRIVATE"===t.privacySetting}).then(r.getMetaInfo).then(function(){m.resumeList=r.resumeList});m.complete({promise:o})},m.fromScratch=function(){if(e.isFunction(m.isKnown)&&m.isKnown())return(m.authenticate||e.noop)({callback:m.fromScratch}),void 0;var t,n;n=s.$new(),n.submit=function(e,o){e.stopImmediatePropagation(),o?(n.inValid=!1,r.save({type:"new",name:o}).then(function(){return u(o)}).then(function(){t.close(r.resume.meta.id?"Success":"Fail")}).catch(function(){t.close(),c()})):(n.error="Resume title is required.",n.inValid=!0)},t=o.open({templateUrl:"/rb/templates/new-resume-confirmation.html",backdrop:!0,scope:n}),m.selectionComplete({promise:t.result})},m.fromFS=function(t){if(e.isFunction(m.isKnown)&&m.isKnown())return(m.authenticate||e.noop)({callback:i.closureFunction(m.fromScratch,[t])}),void 0;var o;s.uploadError=void 0,t&&t.length&&(o=r.save({type:"upload",data:t}).then(function(){return u(l("name")(t))}).then(function(){return"success"}).catch(function(e){c(),s.uploadError=e.data.fieldErrors[0].errorMessage}),m.selectionComplete({promise:o}))}}]).directive("apListResumes",function(){return{restrict:"E",replace:!0,scope:{profileId:"=pid",mini:"=",edit:"&onEdit",preview:"&onPreview",size:"&",complete:"&onComplete",selectionComplete:"&onSelectionComplete",isKnown:"&",authenticate:"&"},templateUrl:"/rb/templates/list-resumes.html",controller:"ResumeListCtrl",controllerAs:"lrCtrl",bindToController:!0}})}(angular),function(e){e.module("apollo-resume-editor",["ui.bootstrap","resume-builder-tpls","resume-model","apolloAngularResumeBuilder.InfoTipsContent","resume-info-tips","ngDragDrop","textAngular"]).directive("apResumeEditor",function(){return{restrict:"E",replace:!0,scope:{profileId:"=pid","delete":"&onDelete",preview:"&onPreview",save:"&onSave",fail:"&onFail"},templateUrl:"/rb/templates/editor.html",controller:["$scope","resumeModel","$log","$uibModal","apolloAngularResumeBuilder.config","INFOTIPSCONTENT","$document","$parse","$timeout","$q","$interval","$filter","$rootScope","$state","resume-utils","DEFAULT_COUNTRY",function(t,r,o,n,s,i,a,l,u,c,m,p,d,f,h,g){var v,b,y=this,w={summary:"summary",experience:"experience",education:"education",skills:"additional info"},k={awards:"awards",certifications:"certifications",personalHobbies:"hobbies",languages:"languages",skills:"skills",volunteerWork:"volunteer"};y.trans={skills_subsection:"skills",skills:"skills",awards:"awards",certifications:"certifications",languages:"languages",hobbies:"personalHobbies",volunteer:"volunteerWork"},y.isReady=e.isObject(r.resume),y.isDirty=!1,y.defaultCountry=g,y.InfoTipsContent=e.extend({},i),v=e.copy(r.resume),y.init=function(){y.resumeMeta=v.resumeObj,r.updateDefaultValues(v.resumeObj),y.resume=v.resumeObj.resume,y.countries=v.countries,y.states=v.states,y.skills=e.copy(h.sortByValue(k));var o=y.resume.skills;for(var n in o)e.isArray(o[n])||(o[n]=o[n].length>0?o[n].split(","):[]);y.sections=e.copy(w);var s,i,a=y.resume.sections;a.forEach(function(t){s=t.type.toLowerCase(),w[s]&&(delete y.sections[s],"skills"===s.toLowerCase()&&e.isArray(t.subSections)&&t.subSections.forEach(function(e){i=e.type.toLowerCase(),k[y.trans[i]]&&delete y.skills[y.trans[i]]}))}),y.transformAllDates(y.resume,!1),t.autoSave(),t.$on("$destroy",function(){m.cancel(b),u()}),t.$watch(function(){return y.resume.sections},function(t,r){e.equals(t,r)||(y.isDirty=!0)},!0);var l=!1,u=d.$on("$stateChangeStart",function(o,n,s,i,a){var u=e.copy(v);t.transformSkillsArray2Str(u.resumeObj.resume.skills),y.transformAllDates(u.resumeObj.resume,!1,!0),r.resume.resumeObj&&y.isDirty&&!l&&"resumeBuilder"===a.toolId&&"editor"===a.viewId&&(o.preventDefault(),y.saveResume().then(function(){l=!0,f.go(n,s)}))})},y.transformAllDates=function(e,t){l("experience.jobs")(e)&&y.transformDate(e.experience.jobs,"startDate","endDate",t),l("education.schools")(e)&&y.transformDate(e.education.schools,"startDate","completionDate",t)},y.transformDate=function(e,t,r,o){e.forEach(function(e){var n;e[t]&&(o?e[t]=e[t].toISOString():(n=new Date(e[t]),n.setTime(n.getTime()+6e4*n.getTimezoneOffset()),e[t]=n)),e[r]&&(o?e[r]=e[r]?e[r].toISOString():e[r]:(n=new Date(e[r]),n.setTime(n.getTime()+6e4*n.getTimezoneOffset()),e[r]=n))})},y.confirmation=function(e,r,o){var s="Do you really want to delete {{?}} from resume?";s=s.replace("{{?}}",o);var i=t.$new();i.question=s,n.open({templateUrl:"/rb/templates/delete-resume-confirm.html",size:"sm",backdrop:!0,scope:i}).result.then(function(t){return t?e.apply(y,r):void 0})},y.markDirty=function(e,t){var o=l(r.resume);return y.isDirty||void 0!==t&&o(t)===e||(y.isDirty=!0),!0},y.deleteSection=function(t,r){y.sections[t]=w[t],"skills"!==t?y.resume[t][r]=[]:(Object.keys(y.resume[t]).map(function(e){y.resume[t][e]=[]}),y.skills=e.copy(k)),y.resume.sections=y.resume.sections.filter(function(e){return e.type.toLowerCase()!==t}),y.isDirty=!0},y.addSection=t.addSection=function(e){t.resumeValidated=!1,t.formStatus="",delete y.sections[e],y.resume.sections.push({type:e.toUpperCase(),subSections:[]})},y.deleteCustomSection=function(e){y.resume.additionalSections=y.resume.additionalSections.filter(function(t){return t.id!==e}),y.resume.sections=y.resume.sections.filter(function(t){return t.id!==e}),y.isDirty=!0},y.addCustomSection=function(){var t=Math.floor(100*Math.random())+1;y.resume.sections.push({type:"CUSTOM_SECTION",id:t}),e.isUndefined(y.resume.additionalSections)&&(y.resume.additionalSections=[]),y.resume.additionalSections.push({id:t,section:"CUSTOM SECTION",content:""})},y.addSubSection=function(t,r){var o,n={jobs:{employer:"",address:{city:"",state:"",country:g},startDate:"",endDate:"",isCurrent:!1,title:"",description:"",id:void 0},schools:{details:"",isAttending:!1,completionDate:"",startDate:"",gpa:{max:4,value:""},major:"",qualificationLevel:"",degreeType:"",qualification:"",address:{city:"",state:"",country:g},institution:"",id:void 0}};e.isUndefined(y.resume[t][r])&&(y.resume[t][r]=[]),o=y.resume[t][r],o.push(e.copy(n[r])),o[o.length-1].id=Math.floor(100*Math.random())+1,y.resume.sections=y.resume.sections.map(function(r){return r.type.toLowerCase()===t&&(e.isArray(r.subSections)||(r.subSections=[]),r.subSections.push({type:r.type.toUpperCase()+"_SUBSECTION",id:o[o.length-1].id})),r})},y.deleteSubSection=function(e,t,r){var o=y.resume[e][t].splice(r,1),n=y.resume.sections.reduce(function(t,r){return t.type===e.toUpperCase()?t:r},{});n.subSections=n.subSections.filter(function(e){return e.id!==o[0].id}),y.isDirty=!0},y.addSkillsSubSection=function(t){delete y.skills[y.trans[t]],y.resume.sections=y.resume.sections.map(function(r){return"skills"===r.type.toLowerCase()&&(e.isArray(r.subSections)||(r.subSections=[]),r.subSections.push({type:"skills"===t?t.toUpperCase()+"_SUBSECTION":t.toUpperCase()})),r}),y.resume.skills[y.trans[t]]=[]},y.deleteSkillsSubSection=function(t){t=t.toLowerCase(),y.skills[y.trans[t]]=k[y.trans[t]],y.skills=e.copy(h.sortByValue(y.skills)),y.resume.skills[y.trans[t]]=[],y.resume.sections.every(function(e){return"skills"===e.type.toLowerCase()?(e.subSections=e.subSections.filter(function(e){return e.type.toLowerCase()!==t}),!1):!0}),y.isDirty=!0},y.deleteSkillInput=function(e,t){return y.isDirty=!0,e.splice(t,1)},t.addInfoObj={},y.addSkillInput=function(e,r,o,n){""===e||13!==n.keyCode&&9!==n.keyCode||(r.push(e),t.addInfoObj[o]="",y.isDirty=!0)},y.addSkillInputOnBlur=function(e,r,o){""!==e&&(r.push(e),t.addInfoObj[o]="",y.isDirty=!0)},y.download=function(e){var r;return r=c.defer(),y.doAutoSave=!1,y.isDirty||t.resumeEditor.$dirty?y.saveResume().then(function(){m.cancel(b),r.resolve()}):r.resolve(),r.promise.finally(function(){y.preview({promise:void 0,hideEdit:!0,cta:e})})},t.isSaved=!0,y.saveResume=function(){var o,n;return r.resume=e.copy(v),t.transformSkillsArray2Str(r.resume.resumeObj.resume.skills),y.transformAllDates(r.resume.resumeObj.resume,!0),n=c.defer(),m.cancel(b),o=r.update(),o.then(function(){t.saveConfirmMsg="Resume saved at "+p("date")(new Date,"shortTime"),y.isDirty=!1,t.resumeEditor.$setPristine()}).catch(function(){t.isSaved=!0,t.validationError="Sorry, there was problem saving your resume at this time please try again later."}).finally(function(){y.transformAllDates(r.resume.resumeObj.resume),t.autoSave(),n.resolve()}),y.save({promise:o}),n.promise},t.autoSave=function(){b=m(function(){if(y.isDirty||t.resumeEditor.$dirty){var o=e.copy(v);t.transformSkillsArray2Str(o.resumeObj.resume.skills),r.resume=o,y.transformAllDates(r.resume.resumeObj.resume,!0),m.cancel(b),r.update().then(function(){y.isDirty=!1,t.resumeEditor.$setPristine(),t.saveConfirmMsg="Resume saved at "+p("date")(new Date,"shortTime"),y.transformAllDates(r.resume.resumeObj.resume),t.autoSave()})}},1e4)},t.transformSkillsArray2Str=function(e){var t;for(t in e)"skills"!==t&&(e[t]=e[t].join(","))},y.updateDate=function(e,t,r){e&&(t[r]="")},t.dateConfig={today:new Date,dateOptions:{startingDay:1,showWeeks:!1,minMode:"month"}},y.validateDate=function(t,r){var o,n,s=new Date;if(o=t.start,n=t.end,!e.isDate(o)||!e.isDate(n)&&!t.isCurrent)return"Please enter the date in specified format";if(e.isDate(o)&&o.getTime()>s.getTime())return"You cannot pick a date in future";if(!t.isCurrent){if(e.isDate(n)&&n.getTime()>s.getTime())return"You cannot pick a date in future";if(e.isDate(n)&&e.isDate(o)&&n.getTime()<=o.getTime())return"End date cannot fall before start date"}r&&(y.isDirty=!0)},y.isValidGPA=function(e){return e?/^\d{1}\.\d{1}$/.test(e)?(e=parseFloat(e),e>4?"GPA cannot exceed 4.0":(y.isDirty=!0,void 0)):"Invalid GPA":void 0},y.deleteResume=function(){var e;e=r.delete(r.resume.meta.id).then(function(){y.isDirty=!1}),y.delete({promise:e})},y.isDisabled=function(e,t){return e&&!!e[t]},y.test=function(){console.log("TEST")},y.emptyState=function(e){e.country!==g&&(e.state="")},y.isReady?y.init():(y.fail||e.noop)()}],controllerAs:"editorCtrl",bindToController:!0}})}(angular),function(e){e.module("apollo-create-resume",["apolloAngularResumeBuilder.config","resume-model","ui.bootstrap","resume-builder-tpls","ngFileUpload","resume-utils"]).controller("CreateResumeCtrl",["resumeModel","$uibModal","$scope","$filter","$q","$parse","resume-utils",function(t,r,o,n,s,i,a){function l(e){var r=[],o=n("filter")(t.resumeList,{label:e});return o.length?(o=o[0],r.push(t.get(o)),r.push(t.getPreferences(o.id)),r.push(t.getCountryList()),r.push(t.getStates()),s.all(r)):!1}var u=this;u.complete=u.complete||e.noop,t.init(u.profileId),o.resumeList=t.resumeList,u.fromScratch=function(){if(e.isFunction(u.isKnown)&&u.isKnown())return(u.authenticate||e.noop)({callback:u.fromScratch}),void 0;var n,s;s=o.$new(),t.showList=!1,s.submit=function(e,r){e.stopImmediatePropagation(),r?(s.inValid=!1,t.save({type:"new",name:r}).then(function(){return l(r)}).then(function(){n.close(t.resume.meta.id?"Success":"Fail")}).catch(function(e){s.inValid=!0,s.error=400===e.status?e.data.fieldErrors[0].errorMessage:"Oops..something went wrong. Please reload the page and try again."})):(s.error="Resume title is required.",s.inValid=!0)},n=r.open({templateUrl:"/rb/templates/new-resume-confirmation.html",backdrop:!0,scope:s}),u.complete({promise:n.result})},u.fromFS=function(r){if(e.isFunction(u.isKnown)&&u.isKnown())return(u.authenticate||e.noop)({callback:a.closureFunction(u.fromScratch,[r])}),void 0;var n;o.uploadError=void 0,r&&r.length&&(n=t.save({type:"upload",data:r}).then(function(){return l(i("name")(r))}).then(function(){return"success"}).catch(function(e){o.uploadError=e.data.fieldErrors[0].errorMessage}),u.complete({promise:n}))},u.fromLinkedIn=function(){return t.save({type:"import"})}}]).directive("apCreateResume",function(){return{restrict:"E",replace:!0,scope:{profileId:"=pid",complete:"&onComplete",isKnown:"&",authenticate:"&"},templateUrl:"/rb/templates/create-resume.html",controller:"CreateResumeCtrl",controllerAs:"crCtrl",bindToController:!0}})}(angular),function(e){e.module("resume-utils",[]).factory("resume-utils",[function(){return{closureFunction:function(t,r){return function(){e.isArray(r)&&r.length?t.apply({},r):t()}},sortByValue:function(e){var t=Object.keys(e).map(function(t){return[t,e[t]]});t.sort(function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0});var r={};return t.forEach(function(e){r[e[0]]=e[1]}),r}}}])}(angular),function(e){e.module("resume-model",["apolloAngularResumeServices.resume"]).constant("DEFAULT_COUNTRY","United States").factory("resumeModel",["$resumeservice","$q","$parse","$sce","$window","DEFAULT_COUNTRY",function(t,r,o,n,s,i){var a,l,u={},c=!1;return u.init=function(e){return c?l:(a=e,c=!0,l=u.getMetaInfo().finally(function(){c=!1}))},u.getMetaInfo=function(){return t.list(a).then(function(e){u.resumeList=o("data.items")(e)})},u.get=function(e){return u.resume={meta:e},t.get({profileId:a,docId:u.resume.meta.id}).then(function(e){u.resume.resumeObj=e.data})},u.updateDefaultValues=function(t){var r,o;t.resume.contact.postalAddress.country||(t.resume.contact.postalAddress.country=i),t.resume.experience&&t.resume.experience.jobs&&(r=t.resume.experience.jobs,e.forEach(r,function(e){e.address.country||(e.address.country=i)})),t.resume.education&&t.resume.education.schools&&(o=t.resume.education.schools,e.forEach(o,function(e){e.address.country||(e.address.country=i)}))},u.getPreferences=function(e){return t.getPreferences({profileId:a,docId:e}).then(function(e){u.resume.preferences=e.data})},u.setPreference=function(e,r){return t.setPreference({profileId:a,docId:e,payload:r})},u.getTemplates=function(){var e=this;return t.getTemplates().then(function(t){e.templates=t.data.items})},u.setTemplate=function(){return this.setPreference(u.resume.meta,{resumeTemplatePreference:this.preferences.resumeTemplatePreference})},u.save=function(e){var r,o;return o=this,r="upload"===e.type?t.upload(a,e.data):"import"===e.type?t.importLinkedIn(a):t.create(a,{name:e.name}),r.then(u.getMetaInfo)},u.delete=function(e){return e?t.delete({profileId:a,docId:e}).then(u.getMetaInfo):r.reject("Document id required to delete resume!")},u.update=function(){var e=this;return t.update({profileId:a,docId:this.resume.meta.id,data:this.resume.resumeObj}).then(function(t){e.resume.resumeObj=t.data})},u.updateResumeTitle=function(e){var r=this;return t.update({profileId:a,docId:this.resume.meta.id,data:{name:e,resume:{},primaryInd:"Y",status:"COMPLETE"}}).then(function(e){r.resume.resumeObj=e.data}).then(u.getMetaInfo)},u.getPreviewUrl=function(){return this.resume.preferences.previewUrl=t.previewUrl({profileId:a,docId:this.resume.meta.id,template:this.resume.preferences.resumeTemplatePreference||"classic"}),this.resume.preferences.previewUrl},u.getPreview=function(){var e,r;r=this,e=t.preview({profileId:a,dociId:this.meta.id,data:this.preferences.resumeTemplatePreference}),e.then(function(e){var t;t=s.document.createElement("html"),t.innerHTML=e.data,r.content=t.querySelector("body").innerHTML,r.content=r.content.replace(/\s+(<)/g,"$1").replace(/(>)\s+/g,"$1").replace(/\s+â€“\s+/g," - "),r.content=n.trustAsHtml(r.content)})},u.getTemplates(),u.createDuplicate=function(e,r){return t.duplicate({profileId:a,docId:e,data:{name:r,primaryInd:"N"}}).then(u.getMetaInfo)},u.reset=function(){delete u.resumeList,delete u.resume},u.getCountryList=function(){return t.getCountryList().then(function(e){u.resume.countries=e.data})},u.getStates=function(){return t.getStates().then(function(e){u.resume.states=e.data.result.data})},u}])}(angular),function(e){e.module("apolloAngularResumeBuilder.config",[]).value("apolloAngularResumeBuilder.config",{debug:!0,editorLayout:!1}),e.module("apolloAngularResumeBuilder",["apolloAngularResumeBuilder.config","apollo-sample-resumes","apollo-create-resume","apollo-list-resumes","apollo-resume-editor","apollo-preview-resume","cgBusy","resume-utils"]).run(["$templateCache",function(e){e.put("/rb/templates/dup-resume-confirmation.html",'<div class="container-fluid resume-builder-modal" id="duplicate-resume-modal" role="dialog" aria-label="New resume title" tabindex="0"><div class="row"><form class="col-md-12" ng-submit="submit(rlabel)"><div class="form-group"><label for="resume-title" tabindex="-1">Please enter new resume title:</label><input id="resume-title" type="text" placeholder="enter the resume title" class="form-control" ng-model="rlabel" maxlength="75" autofocus></div><div role="alert" class="form-group"><small class="col-md-12 alert alert-danger" ng-show="inValid">{{error}}</small></div></form><div class="form-group"><div class="col-md-6 text-left"><button class="btn btn-primary" ng-click="submit(rlabel)">Create</button></div><div class="col-md-6 text-right"> <a href="" ng-click="$close();">Cancel</a></div></div></div></div>'),e.put("/rb/templates/delete-resume-confirm.html",'<div class="container-fluid resume-builder-modal" id="delete-resume-confirmation" role="alertdialog" tabindex="0"><div class="row"><div class="col-md-12 text-center"><p>{{question}}</p><div class="row"><div class="col-md-6 text-center"><button class="btn btn-primary" ng-click="$close(true);">Yes</button></div><div class="col-md-6"> <a href="" ng-click="$close();">Cancel</a></div></div></div>'),e.put("/rb/templates/new-resume-confirmation.html",'<div class="container-fluid resume-builder-modal" id="new-resume-modal" role="dialog" aria-label="New resume title" tabindex="0"><div class="row"><form class="col-md-12" ng-submit="submit($event, rlabel)"><div class="form-group"><label for="resume-title" tabindex="-1">Please enter resume title:</label><input id="resume-title" type="text" placeholder="enter the resume title" class="form-control" ng-model="rlabel" maxlength="75" autofocus></div><div role="alert" class="form-group"><small class="col-md-12 alert alert-danger" ng-show="inValid">{{error}}</small></div></form><div class="form-group"><div class="col-md-6 text-left"><button class="btn btn-primary" ng-click="submit($event, rlabel)">Create</button></div><div class="col-md-6 text-right"> <a href="" ng-click="$close();">Cancel</a></div></div></div></div>'),e.put("/rb/templates/confirm-navigation-away.html",'<div class="container-fluid resume-builder-modal" role="alertdialog" tabindex="0"><div class="row"><div class="col-md-12 text-center"><p>You are about to leave resume builder, make sure you have saved your work.</p><p>Are you sure you want to leave this page?</p><div class="row"><div class="col-md-6 text-right"><button class="btn btn-primary" ng-click="$close(true);">Stay on this Page</button></div><div class="col-md-6 text-left"><button class="btn btn-primary" ng-click="$close(false);">Leave this Page</button></div></div></div>'),e.put("/rb/templates/resume-limit-error.html",'<div class="container-fluid resume-builder-modal" id="resume-maxlimit-error" role="alertdialog" tabindex="0"><div class="row"><div class="col-md-12"><p>{{message}}</p><div class="row flatten"><div class="col-md-6"><button class="btn btn-primary" ng-click="$close(true);">Okay</button></div><div class="col-md-6"></div></div></div>')
}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwb2xsby1hbmd1bGFyLXJlc3VtZS1idWlsZGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImJ1dHRvblRleHQiLCJtb2RhbFBhdGgiLCJtb2RhbFNpemUiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbW9kYWwiLCJ2aWV3U2FtcGxlIiwib3BlbiIsInRlbXBsYXRlVXJsIiwic2l6ZSIsImNvbnN0YW50IiwiY29udGFjdCIsImVtYWlsIiwid2Vic2l0ZXMiLCJzdW1tYXJ5Iiwic2VjdGlvbiIsImV4cGVyaWVuY2UiLCJqb2J0aXRsZSIsImFjaGlldmVtZW50cyIsImVkdWNhdGlvbiIsImRlZ3JlZVR5cGUiLCJtYWpvciIsImdwYSIsImRldGFpbHMiLCJza2lsbHMiLCJjZXJ0aWZpY2F0aW9ucyIsImF3YXJkcyIsImxhbmd1YWdlcyIsInZvbHVudGVlcldvcmsiLCJwZXJzb25hbEhvYmJpZXMiLCJjdXN0b20iLCIkc2NlIiwibGluayIsImluZm9UaXBzUG9wb3ZlciIsImNvbnRlbnQiLCJ0cnVzdEFzSHRtbCIsIm51bUNvbHMiLCIkY2FjaGVGYWN0b3J5Iiwic2FtcGxlcyIsInBhdGgiLCJuYW1lIiwiZmlsdGVyIiwiYXJyIiwiYXJyYXlDYWNoZSIsImNhY2hlZFBhcnRzIiwibmV3QXJyIiwiYXJyU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldCIsImkiLCJsZW5ndGgiLCJwdXNoIiwic2xpY2UiLCJwdXQiLCJfXyIsInRoaXMiLCJjb2xDbGFzcyIsIk1hdGgiLCJmbG9vciIsImNlaWwiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwidmFsdWUiLCJyZXN1bWVNb2RlbCIsInJlc3VtZVNlcnZpY2VDb25maWciLCJyZXN1bWUiLCJyZXN1bWVPYmoiLCJ0ZW1wbGF0ZXMiLCJwcmVmZXJlbmNlcyIsImRvY0lkIiwibWV0YSIsImlkIiwidGVuYW50Iiwic2V0VGVtcGxhdGUiLCJyZXN1bWVUZW1wbGF0ZVByZWZlcmVuY2UiLCJ0cnVzdEFzUmVzb3VyY2VVcmwiLCJ0b0xvd2VyQ2FzZSIsImh0bWxQcmV2aWV3VXJsIiwicHJvZmlsZUlkIiwidXBkYXRlUHJlZmVyZW5jZSIsInRwbE5hbWUiLCJzZXRQcmVmZXJlbmNlIiwidGhlbiIsImhpZGVFZGl0IiwiZWRpdCIsImN0YSIsImVsZW1lbnQiLCJhdHRycyIsIiR3YXRjaCIsInByZXZpZXdJZnJhbWUiLCJuZXdWYWwiLCJpZnJhbWVFbG0iLCJmaW5kIiwicmVtb3ZlIiwiYXBwZW5kIiwiJHdpbmRvdyIsInByaW50SHRtbFdpbiIsIm9uIiwicmVzdW1lUGF0aCIsInByaW50UmVzdW1lIiwiZm9jdXMiLCJwcmludCIsImRvY3VtZW50IiwiY2xvc2UiLCJvbmxvYWQiLCJvbmJlZm9yZXVubG9hZCIsIiR0ZW1wbGF0ZUNhY2hlIiwiJHEiLCJ1dGlscyIsIiRmaWx0ZXIiLCIkcGFyc2UiLCJsb2FkTWV0YUluZm8iLCJsYWJlbCIsInByb21pc2VzIiwibWV0YUluZm8iLCJyZXN1bWVMaXN0IiwiZ2V0UHJlZmVyZW5jZXMiLCJnZXRDb3VudHJ5TGlzdCIsImdldFN0YXRlcyIsImFsbCIsInNob3dNYXhMaW1pdEVycm9yIiwidG1wU2NvcGUiLCIkbmV3IiwibWVzc2FnZSIsIm1heFJlc3VtZUxpbWl0IiwiYmFja2Ryb3AiLCJub29wIiwicHJldmlldyIsImNvbXBsZXRlIiwic2VsZWN0aW9uQ29tcGxldGUiLCJpc0tub3duIiwiZnJvbVNjcmF0Y2giLCJmcm9tRlMiLCJtb2RlbCIsImhhc01heGVkIiwiaW5pdCIsInJlc3AiLCJ2aWV3IiwibWluaSIsIndoZW4iLCJmaW5hbGx5IiwiJHdhdGNoQ29sbGVjdGlvbiIsImtub3duIiwicHJvbWlzZSIsInZpZXdFZGl0b3IiLCJhdXRoZW50aWNhdGUiLCJjYWxsYmFjayIsImNsb3N1cmVGdW5jdGlvbiIsImNyZWF0ZUR1cGxpY2F0ZSIsIm1vZGFsSW5zdGFuY2UiLCJtU2NvcGUiLCJzdWJtaXQiLCJpblZhbGlkIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInN0YXR1cyIsImRhdGEiLCJmaWVsZEVycm9ycyIsImVycm9yTWVzc2FnZSIsInJlc3VsdCIsImNvbmZpcm0iLCJxdWVzdGlvbiIsImJvbCIsImRlbGV0ZSIsInZpZXdQcmV2aWV3IiwicCIsInB1Ymxpc2giLCJzZWFyY2hhYmxlIiwicHJpdmFjeVNldHRpbmciLCJnZXRNZXRhSW5mbyIsImlzRnVuY3Rpb24iLCIkZXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzYXZlIiwidHlwZSIsInVwbG9hZEVycm9yIiwidW5kZWZpbmVkIiwiZmFpbCIsIiRsb2ciLCJyYkNvbmZpZyIsIklORk9USVBTQ09OVEVOVCIsIiRkb2N1bWVudCIsIiR0aW1lb3V0IiwiJGludGVydmFsIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkRFRkFVTFRfQ09VTlRSWSIsIl9tb2RlbCIsImF1dG9TYXZlUHJvbWlzZSIsInNlbGYiLCJfc2VjdGlvbnMiLCJfc2tpbGxzIiwidHJhbnMiLCJza2lsbHNfc3Vic2VjdGlvbiIsImhvYmJpZXMiLCJ2b2x1bnRlZXIiLCJpc1JlYWR5IiwiaXNPYmplY3QiLCJpc0RpcnR5IiwiZGVmYXVsdENvdW50cnkiLCJJbmZvVGlwc0NvbnRlbnQiLCJleHRlbmQiLCJjb3B5IiwicmVzdW1lTWV0YSIsInVwZGF0ZURlZmF1bHRWYWx1ZXMiLCJjb3VudHJpZXMiLCJzdGF0ZXMiLCJzb3J0QnlWYWx1ZSIsInNraWxsIiwiaXNBcnJheSIsInNwbGl0Iiwic2VjdGlvbnMiLCJuVHlwZSIsIm5zVHlwZSIsImZvckVhY2giLCJzZWMiLCJzdWJTZWN0aW9ucyIsInNzIiwidHJhbnNmb3JtQWxsRGF0ZXMiLCJhdXRvU2F2ZSIsIiRvbiIsImNhbmNlbCIsInN0YXRlQ2hhbmdlTGlzdGVuZXIiLCJvbGRWYWwiLCJlcXVhbHMiLCJsZWF2ZVBhZ2UiLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJ0bXBNb2RlbCIsInRyYW5zZm9ybVNraWxsc0FycmF5MlN0ciIsInRvb2xJZCIsInZpZXdJZCIsInByZXZlbnREZWZhdWx0Iiwic2F2ZVJlc3VtZSIsImdvIiwib2JqIiwiY29udmVydFRvU3RyIiwidHJhbnNmb3JtRGF0ZSIsImpvYnMiLCJzY2hvb2xzIiwibGlzdCIsInByb3AxIiwicHJvcDIiLCJsaXN0SXRlbSIsInRtcERhdGUiLCJ0b0lTT1N0cmluZyIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0IiwiY29uZmlybWF0aW9uIiwiZm4iLCJhcnJQYXJhbXMiLCJzdHIiLCJhcHBseSIsIm1hcmtEaXJ0eSIsInByb3BQYXRoIiwiJHJlc3VtZVBhcnNlciIsImRlbGV0ZVNlY3Rpb24iLCJub2RlIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImtleSIsImFkZFNlY3Rpb24iLCJyZXN1bWVWYWxpZGF0ZWQiLCJmb3JtU3RhdHVzIiwidG9VcHBlckNhc2UiLCJkZWxldGVDdXN0b21TZWN0aW9uIiwiYWRkaXRpb25hbFNlY3Rpb25zIiwiYWRkQ3VzdG9tU2VjdGlvbiIsInNlY3Rpb25JZCIsInJhbmRvbSIsImlzVW5kZWZpbmVkIiwiYWRkU3ViU2VjdGlvbiIsIm9ialJlZiIsInRwbCIsImVtcGxveWVyIiwiYWRkcmVzcyIsImNpdHkiLCJzdGF0ZSIsImNvdW50cnkiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiaXNDdXJyZW50IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImlzQXR0ZW5kaW5nIiwiY29tcGxldGlvbkRhdGUiLCJtYXgiLCJxdWFsaWZpY2F0aW9uTGV2ZWwiLCJxdWFsaWZpY2F0aW9uIiwiaW5zdGl0dXRpb24iLCJkZWxldGVTdWJTZWN0aW9uIiwicG9zIiwidGFyZ2V0U3ViU2VjdGlvbiIsInNwbGljZSIsInRhcmdldFNlY3Rpb24iLCJyZWR1Y2UiLCJwcmV2Iiwic3ViU2VjdGlvbiIsImFkZFNraWxsc1N1YlNlY3Rpb24iLCJkZWxldGVTa2lsbHNTdWJTZWN0aW9uIiwiZXZlcnkiLCJkZWxldGVTa2lsbElucHV0IiwiaW5kZXgiLCJhZGRJbmZvT2JqIiwiYWRkU2tpbGxJbnB1dCIsImtleUNvZGUiLCJhZGRTa2lsbElucHV0T25CbHVyIiwiZG93bmxvYWQiLCJkZWZlcnJlZCIsImRlZmVyIiwiZG9BdXRvU2F2ZSIsInJlc3VtZUVkaXRvciIsIiRkaXJ0eSIsInJlc29sdmUiLCJpc1NhdmVkIiwidXBkYXRlIiwic2F2ZUNvbmZpcm1Nc2ciLCIkc2V0UHJpc3RpbmUiLCJ2YWxpZGF0aW9uRXJyb3IiLCJqb2luIiwidXBkYXRlRGF0ZSIsInByb3AiLCJkYXRlQ29uZmlnIiwidG9kYXkiLCJkYXRlT3B0aW9ucyIsInN0YXJ0aW5nRGF5Iiwic2hvd1dlZWtzIiwibWluTW9kZSIsInZhbGlkYXRlRGF0ZSIsImRhdGUiLCJzdGFydCIsImVuZCIsImlzRGF0ZSIsImlzVmFsaWRHUEEiLCJ0ZXN0IiwicGFyc2VGbG9hdCIsImRlbGV0ZVJlc3VtZSIsImlzRGlzYWJsZWQiLCJjb25zb2xlIiwibG9nIiwiZW1wdHlTdGF0ZSIsInNob3dMaXN0IiwiZnJvbUxpbmtlZEluIiwiZmFjdG9yeSIsImZ1bmMiLCJhcmdzIiwia2V5VmFsdWVBcnJheSIsImsiLCJzb3J0IiwiYSIsImIiLCJzb3J0YWJsZSIsIiRyZXN1bWUiLCJpbml0UHJvbWlzZSIsImluaXRMb2FkaW5nIiwicmVzIiwicG9zdGFsQWRkcmVzcyIsInBheWxvYWQiLCJnZXRUZW1wbGF0ZXMiLCJ0aGF0IiwiaXRlbXMiLCJ1cGxvYWQiLCJpbXBvcnRMaW5rZWRJbiIsImNyZWF0ZSIsInJlamVjdCIsInVwZGF0ZVJlc3VtZVRpdGxlIiwicHJpbWFyeUluZCIsImdldFByZXZpZXdVcmwiLCJwcmV2aWV3VXJsIiwiZ2V0UHJldmlldyIsImRvY2lJZCIsImh0bWxFbGVtIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3IiLCJkdXBsaWNhdGUiLCJyZXNldCIsInJlc3BvbnNlIiwiZGVidWciLCJlZGl0b3JMYXlvdXQiLCJydW4iXSwibWFwcGluZ3MiOiJBQUdBLFlBRUFBLFNBQVFDLE9BQU8sOEJBQ2IsaUJBR0NDLFVBQVUsdUJBQXdCLFlBQ2pDLFdBQ0UsT0FDRUMsU0FBVSxLQUNWQyxTQUFTLEVBQ1RDLE9BQ0VDLFdBQVksSUFDWkMsVUFBVyxJQUNYQyxVQUFXLEtBRWJDLFNBQVUseUhBQ1ZDLFlBQWEsU0FBVSxZQUNyQixTQUFVQyxFQUFRQyxHQUVoQkQsRUFBT0UsV0FBYSxXQUNsQkQsRUFBT0UsTUFDTEMsWUFBYUosRUFBT0osVUFDcEJTLEtBQU1MLEVBQU9ILFdBQWEsY0FjMUNSLFFBQVFDLE9BQU8saURBQ1pnQixTQUFTLG1CQUNWQyxTQUNFQyxNQUFRLHNkQUdSQyxTQUFXLDhhQUdiQyxTQUNFQyxRQUFXLDYvQkFVYkMsWUFDRUQsUUFBVSxzOUJBU1ZFLFNBQVcsZ1pBR1hDLGFBQWUseW9DQWVqQkMsV0FDRUMsV0FBYSwwUEFHYkMsTUFBUSxvUkFJUkMsSUFBTSw0SEFHTkMsUUFBVSxtZEFLWkMsUUFDRVQsUUFBVSw2cEJBU1ZVLGVBQWlCLG9uQkFNakJELE9BQVMsK21CQU9URSxPQUFTLHVQQUlUQyxVQUFZLDJmQVFaQyxjQUFnQiw0WkFJaEJDLGdCQUFrQiw4TUFHcEJDLFFBQ0VmLFFBQVUsbVZBU2R0QixRQUFRQyxPQUFPLG9CQUNYLGVBQ0EsZUFFSEMsVUFBVSxrQkFBb0IsT0FDN0IsU0FBVW9DLEdBQ1IsUUFBU0MsR0FBS2xDLEdBQ1pBLEVBQU1tQyxpQkFDSkMsUUFBU0gsRUFBS0ksWUFBWXJDLEVBQU1vQyxVQUFZLDJEQUM1QzFCLFlBQWEsd0NBSWpCLE9BQ0VaLFNBQVUsSUFDVkMsU0FBUyxFQUNUQyxPQUNJb0MsUUFBUyxLQUViMUIsWUFBYSwrQkFDYndCLEtBQU1BLE1BUVosU0FBV3ZDLEdBR1RBLEVBQVFDLE9BQU8seUJBQ2Isc0JBQ0UsK0JBRURDLFVBQVUsa0JBQW1CLFdBQzVCLE9BQ0VDLFNBQVUsSUFDVkMsU0FBUyxFQUNUQyxPQUNFc0MsUUFBUyxLQUVYNUIsWUFBYSxvQ0FDYkwsWUFBYSxnQkFBaUIsU0FBVWtDLEdBQ3RDLEdBQUlDLEtBRUFDLEtBQU0sNENBQ05DLEtBQU0sZUFHTkQsS0FBTSxvREFDTkMsS0FBTSx3QkFHTkQsS0FBTSxtREFDTkMsS0FBTSxzQkFHTkQsS0FBTSwrQ0FDTkMsS0FBTSxlQUdORCxLQUFNLDJEQUNOQyxLQUFNLDRCQUdORCxLQUFNLDZDQUNOQyxLQUFNLHlDQUdORCxLQUFNLDBDQUNOQyxLQUFNLFVBR05ELEtBQU0sd0RBQ05DLEtBQU0sMEJBR05ELEtBQU0sNENBQ05DLEtBQU0sWUFJTkMsRUFBUyxTQUFVQyxFQUFLakMsR0FDMUIsR0FBS2lDLEVBQUwsQ0FJQSxHQUFJQyxHQUNBQyxFQUVBQyxFQURBQyxFQUFZQyxLQUFLQyxVQUFVTixFQVUvQixJQU5BQyxFQUFhTixFQUFjWSxJQUFJLGVBQzFCTixJQUNIQSxFQUFhTixFQUFjLGdCQUc3Qk8sRUFBY0QsRUFBV00sSUFBSUgsRUFBWXJDLEdBQ3JDc0MsS0FBS0MsVUFBVUosS0FBaUJFLEVBQ2xDLE1BQU9GLEVBR1RDLEtBQ0EsS0FBSyxHQUFJSyxHQUFJLEVBQUdBLEVBQUlSLEVBQUlTLE9BQVFELEdBQUt6QyxFQUNuQ29DLEVBQU9PLEtBQUtWLEVBQUlXLE1BQU1ILEVBQUdBLEVBQUl6QyxHQUcvQixPQURBa0MsR0FBV1csSUFBSVIsRUFBWXJDLEVBQU1vQyxHQUMxQkEsSUFJTFUsRUFBS0MsS0FDTHBCLEVBQVVtQixFQUFHbkIsU0FBVyxDQUU1Qm1CLEdBQUdqQixRQUFVRyxFQUFPSCxFQUFTRixHQUM3Qm1CLEVBQUdFLFNBQVcsVUFBWUMsS0FBS0MsTUFBTSxHQUFHRCxLQUFLRSxLQUFLdEIsRUFBUWEsT0FBUWYsTUFHcEV5QixhQUFjLFNBQ2RDLGtCQUFrQixNQUd2QnJFLFNBS0gsU0FBV0EsR0FHVEEsRUFBUUMsT0FBTyx5QkFDYixlQUNFLHFDQUNBLGVBRUFxRSxNQUFNLGVBQWdCLE1BQ3ZCNUQsV0FBVyxxQkFDVixjQUNFLHFDQUNBLE9BQ0EsU0FBVTZELEVBQWFDLEVBQXFCbEMsR0FDNUMsR0FBSXdCLEdBQUtDLElBR1RELEdBQUdXLE9BQVNGLEVBQVlFLE9BQU9DLFVBQVVELE9BQ3pDWCxFQUFHYSxVQUFZSixFQUFZSSxVQUMzQmIsRUFBR2MsWUFBY0wsRUFBWUssWUFDN0JkLEVBQUdlLE1BQVFOLEVBQVlFLE9BQU9LLEtBQUtDLEdBQ25DakIsRUFBR2tCLE9BQVNSLEVBQW9CUSxNQUVoQyxJQUFJQyxHQUFjLFdBQ2hCbkIsRUFBR3JELFNBQVc4RCxFQUFZRSxPQUFPRyxZQUFZTSwwQkFBNEIsVUFDekVwQixFQUFHL0MsWUFBY3VCLEVBQUs2QyxtQkFBbUIsaUJBQW1CckIsRUFBR3JELFNBQVMyRSxjQUFnQixpQkFDeEZ0QixFQUFHdUIsZUFBaUIseUJBQTJCdkIsRUFBR2tCLE9BQVUsVUFBWWxCLEVBQUd3QixVQUFZLFdBQWF4QixFQUFHZSxNQUFRLGtCQUFvQmYsRUFBR3JELFNBQVMyRSxjQUFnQixpQkFHaktILEtBR0FuQixFQUFHeUIsaUJBQW1CLFNBQVVDLEdBSTlCLE1BRkFqQixHQUFZRSxPQUFPRyxZQUFZTSx5QkFBMkJNLEVBRW5EakIsRUFBWWtCLGNBQWNsQixFQUFZRSxPQUFPSyxLQUFLQyxJQUFLRyx5QkFBNEJNLElBQ3ZGRSxLQUFLLFdBQ0pULFVBS1QvRSxVQUFVLGtCQUFtQixXQUM1QixPQUNFQyxTQUFVLElBQ1ZDLFNBQVMsRUFDVEMsT0FDRWlGLFVBQVcsT0FDVEssU0FBVSxJQUNWQyxLQUFNLFVBQ05DLElBQUssS0FFVDlFLFlBQWEsb0NBQ2JMLFdBQVksb0JBQ1owRCxhQUFjLFNBQ2RDLGtCQUFrQixLQUtyQm5FLFVBQVUsZ0JBQWlCLFdBQ3hCLE1BQU8sVUFBVUcsRUFBT3lGLEVBQVNDLEdBQzdCMUYsRUFBTTJGLE9BQU9ELEVBQU1FLGNBQWUsU0FBVUMsR0FDeEMsR0FBSUMsR0FBWSxpR0FBa0dELEVBQVEsYUFDMUhKLEdBQVFNLEtBQUssVUFBVUMsU0FDdkJQLEVBQVFRLE9BQU9ILFFBSzFCakcsVUFBVSxlQUFnQixVQUFXLGVBQWdCLFNBQVVxRyxFQUFTQyxHQUNyRSxPQUNJckcsU0FBVSxJQUNWRSxPQUFPLEVBQ1BrQyxLQUFNLFNBQVVsQyxFQUFPeUYsRUFBU0MsR0FDNUJELEVBQVFXLEdBQUcsUUFBUyxXQUNoQixHQUFJQyxHQUFhWCxFQUFNWSxXQUNsQkgsSUFhREEsRUFBYUksUUFDYkosRUFBYUssVUFiYkwsRUFBZUQsRUFBUXpGLEtBQUs0RixHQUM1QkYsRUFBYU0sU0FBU0MsUUFDdEJQLEVBQWFJLFFBQ2JKLEVBQWFRLE9BQVMsV0FDbEJSLEVBQWFLLFNBR2pCTCxFQUFhUyxlQUFpQixXQUMxQlQsRUFBZSxlQVd4Q3hHLFNBRUgsU0FBV0EsR0FNVEEsRUFBUUMsT0FBTyx1QkFDYixlQUNFLGVBQ0Esc0JBQ0EsZUFDQSxpQkFDRFMsV0FBVyxrQkFDVixpQkFDRSxjQUNBLFlBQ0EsS0FDQSxTQUNBLGVBQ0EsVUFDQSxTQUNBLFNBQVV3RyxFQUFnQjNDLEVBQWEzRCxFQUFRdUcsRUFBSXhHLEVBQVF5RyxFQUFPQyxFQUFTQyxHQTBOM0UsUUFBU0MsR0FBYUMsR0FDcEIsR0FBSUMsTUFHQUMsRUFBV0wsRUFBUSxVQUFVOUMsRUFBWW9ELFlBQWFILE1BQVNBLEdBRW5FLE9BQUlFLEdBQVNoRSxRQUNYZ0UsRUFBV0EsRUFBUyxHQUVwQkQsRUFBUzlELEtBQUtZLEVBQVlmLElBQUlrRSxJQUM5QkQsRUFBUzlELEtBQUtZLEVBQVlxRCxlQUFlRixFQUFTM0MsS0FDbEQwQyxFQUFTOUQsS0FBS1ksRUFBWXNELGtCQUMxQkosRUFBUzlELEtBQUtZLEVBQVl1RCxhQUVuQlgsRUFBR1ksSUFBSU4sS0FHUCxFQUlYLFFBQVNPLEtBQ1AsR0FBSUMsRUFDSkEsR0FBV3RILEVBQU91SCxPQUNsQkQsRUFBU0UsUUFBVSwyQ0FBNENDLEVBQWlCLG9CQUNoRnhILEVBQU9FLE1BQ0xDLFlBQWEsd0NBQ1hzSCxVQUFVLEVBQ1ZoSSxNQUFPNEgsSUFwUGIsR0FBSW5FLEdBQUtDLEtBQ0xxRSxFQUFpQixFQUdyQnRFLEdBQUc4QixLQUFPOUIsRUFBRzhCLE1BQVE1RixFQUFRc0ksS0FDN0J4RSxFQUFHeUUsUUFBVXpFLEVBQUd5RSxTQUFXdkksRUFBUXNJLEtBQ25DeEUsRUFBRzBFLFNBQVcxRSxFQUFHMEUsVUFBWXhJLEVBQVFzSSxLQUNyQ3hFLEVBQUcyRSxrQkFBb0IzRSxFQUFHMkUsbUJBQXFCekksRUFBUXNJLEtBQ3ZEeEUsRUFBRzRFLFFBQVU1RSxFQUFHNEUsU0FBVzFJLEVBQVFzSSxLQUNuQ3hFLEVBQUc2RSxZQUFjN0UsRUFBRzZFLGFBQWUzSSxFQUFRc0ksS0FDM0N4RSxFQUFHOEUsT0FBUzlFLEVBQUc4RSxRQUFVNUksRUFBUXNJLEtBRWpDM0gsRUFBT2tJLE1BQVF0RSxFQUNmNUQsRUFBT21JLFNBQVcsV0FDaEIsTUFBT3ZFLEdBQVlvRCxXQUFXakUsUUFBVTBFLEdBSTFDdEUsRUFBR2lGLEtBQU8sV0FDUixHQUFJQyxFQUdKbEYsR0FBR21GLEtBQU9uRixFQUFHb0YsS0FBTyxPQUFTLEdBRzdCRixFQUFPN0IsRUFBR2dDLEtBQUtyRixFQUFHNEUsYUFBaUJuRSxFQUFZd0UsS0FBS2pGLEVBQUd3QixZQUNwRDhELFFBQVEsV0FJUHpJLEVBQU8wSSxpQkFBaUIsUUFBUyxXQUUvQnZGLEVBQUc2RCxXQUFhcEQsRUFBWW9ELFdBRzVCN0QsRUFBRzlDLE1BQU1BLEtBQU11RCxFQUFZb0QsV0FBYXBELEVBQVlvRCxXQUFXakUsT0FBUyxJQUd4RUksRUFBR3dGLE1BQVF4RixFQUFHNEUsY0FPcEI1RSxFQUFHMEUsVUFBVWUsUUFBU1AsS0FTeEJsRixFQUFHMEYsV0FBYSxTQUFVOUIsR0FDeEIsR0FDSXNCLEdBREF2QixJQUlKLE9BQUkzRCxHQUFHNEUsWUFDSjVFLEVBQUcyRixjQUFnQnpKLEVBQVFzSSxPQUFPb0IsU0FBVXRDLEVBQU11QyxnQkFBZ0I3RixFQUFHMEYsWUFBYTlCLE1BQ25GLFNBR0ZELEVBQVM5RCxLQUFLWSxFQUFZZixJQUFJa0UsSUFDOUJELEVBQVM5RCxLQUFLWSxFQUFZcUQsZUFBZUYsRUFBUzNDLEtBQ2xEMEMsRUFBUzlELEtBQUtZLEVBQVlzRCxrQkFDMUJKLEVBQVM5RCxLQUFLWSxFQUFZdUQsYUFFMUJrQixFQUFPN0IsRUFBR1ksSUFBSU4sR0FJZDNELEVBQUc4QixNQUFNMkQsUUFBU1AsSUFUbEJ2QixTQW9CRjNELEVBQUc4RixnQkFBa0IsU0FBVWxDLEdBQzdCLEdBQUltQyxHQUNBQyxDQUdKLE9BQUloRyxHQUFHNEUsWUFDSjVFLEVBQUcyRixjQUFnQnpKLEVBQVFzSSxPQUFPb0IsU0FBVXRDLEVBQU11QyxnQkFBZ0I3RixFQUFHOEYsaUJBQWtCbEMsTUFDeEYsU0FHRm9DLEVBQVNuSixFQUFPdUgsT0FFaEI0QixFQUFPQyxPQUFTLFNBQVV2QyxHQUVwQkEsR0FDRnNDLEVBQU9FLFNBQVUsRUFHakJ6RixFQUFZcUYsZ0JBQWdCbEMsRUFBUzNDLEdBQUl5QyxHQUV0QzlCLEtBQUssV0FDSm1FLEVBQWM5QyxVQUVma0QsTUFBTSxTQUFVQyxHQUNmSixFQUFPRSxTQUFVLEVBR2ZGLEVBQU9LLE1BRFUsTUFBZkQsRUFBSUUsT0FDU0YsRUFBSUcsS0FBS0MsWUFBWSxHQUFHQyxhQUd4Qix3RUFLckJULEVBQU9LLE1BQVEsb0NBQ2ZMLEVBQU9FLFNBQVUsSUFLckJILEVBQWdCakosRUFBT0UsTUFDckJDLFlBQWEsNkNBRVhzSCxVQUFVLEVBQ1ZoSSxNQUFPeUosSUFHWGhHLEVBQUcwRSxVQUFVZSxRQUFTTSxFQUFjVyxTQXRDcENWLFNBOENGaEcsRUFBRzJHLFFBQVUsU0FBVS9DLEdBRXJCLEdBQUk1RCxFQUFHNEUsVUFFTCxPQURDNUUsRUFBRzJGLGNBQWdCekosRUFBUXNJLE9BQU9vQixTQUFVdEMsRUFBTXVDLGdCQUFnQjdGLEVBQUcyRyxTQUFVL0MsTUFDaEYsTUFHRixJQUFJTyxHQUFXdEgsRUFBT3VILE1BQ3RCRCxHQUFTeUMsU0FBVywwQ0FHcEIsSUFBSTFCLEdBQU9wSSxFQUFPRSxNQUNoQkMsWUFBYSwyQ0FDWEMsS0FBTSxLQUNOcUgsVUFBVSxFQUNWaEksTUFBTzRILElBRVJ1QyxPQUFPOUUsS0FBSyxTQUFVaUYsR0FDckIsTUFBSUEsR0FDS3BHLEVBQVlxRyxPQUFPbEQsRUFBUzNDLElBRHJDLFFBS0pqQixHQUFHMEUsVUFBVWUsUUFBU1AsS0FReEJsRixFQUFHK0csWUFBYyxTQUFVbkQsR0FDekIsR0FDSXNCLEdBREE4QixJQUlKLE9BQUloSCxHQUFHNEUsWUFDSjVFLEVBQUcyRixjQUFnQnpKLEVBQVFzSSxPQUFPb0IsU0FBVXRDLEVBQU11QyxnQkFBZ0I3RixFQUFHK0csYUFBY25ELE1BQ3BGLFNBSUZvRCxFQUFFbkgsS0FBS1ksRUFBWWYsSUFBSWtFLElBR3ZCb0QsRUFBRW5ILEtBQUtZLEVBQVlxRCxlQUFlRixFQUFTM0MsS0FHM0NpRSxFQUFPN0IsRUFBR1ksSUFBSStDLEdBRWRoSCxFQUFHeUUsU0FBU2dCLFFBQVNQLElBUnJCOEIsU0FpQkZoSCxFQUFHaUgsUUFBVSxTQUFVckQsR0FHckIsR0FBSTVELEVBQUc0RSxVQUVMLE9BREM1RSxFQUFHMkYsY0FBZ0J6SixFQUFRc0ksT0FBT29CLFNBQVV0QyxFQUFNdUMsZ0JBQWdCN0YsRUFBR2lILFNBQVVyRCxNQUNoRixNQUdGLElBQUlzQixHQUFPekUsRUFBWWtCLGNBQWNpQyxFQUFTM0MsSUFBS2lHLFdBQTJDLFlBQTVCdEQsRUFBU3VELGlCQUN4RXZGLEtBQUtuQixFQUFZMkcsYUFDakJ4RixLQUFLLFdBQ0o1QixFQUFHNkQsV0FBYXBELEVBQVlvRCxZQUdoQzdELEdBQUcwRSxVQUFVZSxRQUFTUCxLQXNDeEJsRixFQUFHNkUsWUFBYyxXQUVmLEdBQUkzSSxFQUFRbUwsV0FBV3JILEVBQUc0RSxVQUFZNUUsRUFBRzRFLFVBRXZDLE9BREM1RSxFQUFHMkYsY0FBZ0J6SixFQUFRc0ksT0FBT29CLFNBQVU1RixFQUFHNkUsY0FDaEQsTUFHRixJQUFJa0IsR0FDQUMsQ0FFSkEsR0FBU25KLEVBQU91SCxPQUVoQjRCLEVBQU9DLE9BQVMsU0FBVXFCLEVBQVE1RCxHQUNoQzRELEVBQU9DLDJCQUVIN0QsR0FDRnNDLEVBQU9FLFNBQVUsRUFFakJ6RixFQUFZK0csTUFBTUMsS0FBTSxNQUFPeEksS0FBTXlFLElBQ2xDOUIsS0FBSyxXQUNKLE1BQU82QixHQUFhQyxLQUdyQjlCLEtBQUssV0FDSm1FLEVBQWM5QyxNQUFNeEMsRUFBWUUsT0FBT0ssS0FBS0MsR0FBSyxVQUFZLFVBRzlEa0YsTUFBTSxXQUNMSixFQUFjOUMsUUFDZGlCLFFBSUo4QixFQUFPSyxNQUFRLDRCQUNmTCxFQUFPRSxTQUFVLElBS3JCSCxFQUFnQmpKLEVBQU9FLE1BQ3JCQyxZQUFhLDZDQUVYc0gsVUFBVSxFQUNWaEksTUFBT3lKLElBSVhoRyxFQUFHMkUsbUJBQW1CYyxRQUFTTSxFQUFjVyxVQU0vQzFHLEVBQUc4RSxPQUFTLFNBQVV5QixHQUVwQixHQUFJckssRUFBUW1MLFdBQVdySCxFQUFHNEUsVUFBWTVFLEVBQUc0RSxVQUV2QyxPQURDNUUsRUFBRzJGLGNBQWdCekosRUFBUXNJLE9BQU9vQixTQUFVdEMsRUFBTXVDLGdCQUFnQjdGLEVBQUc2RSxhQUFjMEIsTUFDcEYsTUFHRixJQUFJZCxFQUNKNUksR0FBTzZLLFlBQWNDLE9BRWpCcEIsR0FBUUEsRUFBSzNHLFNBQ2Y2RixFQUFVaEYsRUFBWStHLE1BQU1DLEtBQU0sU0FBVWxCLEtBQU1BLElBQy9DM0UsS0FBSyxXQUNKLE1BQU82QixHQUFhRCxFQUFPLFFBQVErQyxNQUVwQzNFLEtBQUssV0FDSixNQUFPLFlBRVJ1RSxNQUFNLFNBQVVqQixHQUNmaEIsSUFDQXJILEVBQU82SyxZQUFjeEMsRUFBS3FCLEtBQUtDLFlBQVksR0FBR0MsZUFHbER6RyxFQUFHMkUsbUJBQW1CYyxRQUFTQSxTQUl0Q3JKLFVBQVUsZ0JBQWlCLFdBQzFCLE9BQ0VDLFNBQVUsSUFDVkMsU0FBUyxFQUNUQyxPQUNFaUYsVUFBVyxPQUNUNEQsS0FBTSxJQUNOdEQsS0FBUSxVQUNSMkMsUUFBVyxhQUNYdkgsS0FBUSxJQUNSd0gsU0FBWSxjQUNaQyxrQkFBcUIsdUJBQ3JCQyxRQUFTLElBQ1RlLGFBQWdCLEtBRXBCMUksWUFBYSxrQ0FDYkwsV0FBWSxpQkFDWjBELGFBQWMsU0FDZEMsa0JBQWtCLE1BSXZCckUsU0FNSCxTQUFXQSxHQUdUQSxFQUFRQyxPQUFPLHdCQUNiLGVBQ0Usc0JBQ0EsZUFFQSw2Q0FDQSxtQkFDQSxhQUNBLGdCQUVEQyxVQUFVLGlCQUFrQixXQUUzQixPQUNFQyxTQUFVLElBQ1ZDLFNBQVMsRUFDVEMsT0FDRWlGLFVBQVcsT0FDVHNGLFNBQVEsWUFDUnJDLFFBQVMsYUFDVCtDLEtBQU0sVUFDTkksS0FBTSxXQUVWM0ssWUFBYSw0QkFDYkwsWUFDRSxTQUNFLGNBQ0EsT0FDQSxZQUNBLG9DQUNBLGtCQUNBLFlBQ0EsU0FDQSxXQUNBLEtBQ0EsWUFDQSxVQUNBLGFBQ0EsU0FDQSxlQUNBLGtCQUNBLFNBQVVDLEVBQVE0RCxFQUFhb0gsRUFBTS9LLEVBQVFnTCxFQUFVQyxFQUFpQkMsRUFBV3hFLEVBQVF5RSxFQUFVNUUsRUFBSTZFLEVBQVczRSxFQUFTNEUsRUFBWUMsRUFBUTlFLEVBQU8rRSxHQUN4SixHQW1CSUMsR0FDQUMsRUFwQkFDLEVBQU92SSxLQUVQd0ksR0FDQWxMLFFBQVcsVUFDVEUsV0FBYyxhQUNkRyxVQUFhLFlBQ2JLLE9BQVUsbUJBR1p5SyxHQUNDdkssT0FBVSxTQUNURCxlQUFrQixpQkFDbEJJLGdCQUFtQixVQUNuQkYsVUFBYSxZQUVkSCxPQUFVLFNBRVRJLGNBQWlCLFlBS3ZCbUssR0FBS0csT0FDSEMsa0JBQXFCLFNBQ25CM0ssT0FBVSxTQUNWRSxPQUFVLFNBQ1ZELGVBQWtCLGlCQUNsQkUsVUFBYSxZQUNieUssUUFBVyxrQkFFWEMsVUFBYSxpQkFJakJOLEVBQUtPLFFBQVU3TSxFQUFROE0sU0FBU3ZJLEVBQVlFLFFBQzVDNkgsRUFBS1MsU0FBVSxFQUNmVCxFQUFLVSxlQUFpQmIsRUFFdEJHLEVBQUtXLGdCQUFrQmpOLEVBQVFrTixVQUFXckIsR0FJMUNPLEVBQVNwTSxFQUFRbU4sS0FBSzVJLEVBQVlFLFFBRWxDNkgsRUFBS3ZELEtBQU8sV0FDVnVELEVBQUtjLFdBQWFoQixFQUFPMUgsVUFHekJILEVBQVk4SSxvQkFBb0JqQixFQUFPMUgsV0FFdkM0SCxFQUFLN0gsT0FBUzJILEVBQU8xSCxVQUFVRCxPQUMvQjZILEVBQUtnQixVQUFZbEIsRUFBT2tCLFVBQ3hCaEIsRUFBS2lCLE9BQVNuQixFQUFPbUIsT0FHckJqQixFQUFLdkssT0FBUy9CLEVBQVFtTixLQUFLL0YsRUFBTW9HLFlBQVloQixHQUk3QyxJQUFJekssR0FBU3VLLEVBQUs3SCxPQUFPMUMsTUFFekIsS0FBSyxHQUFJMEwsS0FBUzFMLEdBQ1gvQixFQUFRME4sUUFBUTNMLEVBQU8wTCxNQUMxQjFMLEVBQU8wTCxHQUFTMUwsRUFBTzBMLEdBQU8vSixPQUFTLEVBQUkzQixFQUFPMEwsR0FBT0UsTUFBTSxRQUtuRXJCLEdBQUtzQixTQUFXNU4sRUFBUW1OLEtBQUtaLEVBRTdCLElBRUlzQixHQUFPQyxFQUZQRixFQUFXdEIsRUFBSzdILE9BQU9tSixRQUszQkEsR0FBU0csUUFBUSxTQUFVQyxHQUN6QkgsRUFBUUcsRUFBSXpDLEtBQUtuRyxjQUlibUgsRUFBVXNCLFdBQ0x2QixHQUFLc0IsU0FBU0MsR0FLTyxXQUF4QkEsRUFBTXpJLGVBQThCcEYsRUFBUTBOLFFBQVFNLEVBQUlDLGNBQzFERCxFQUFJQyxZQUFZRixRQUFRLFNBQVVHLEdBQ2hDSixFQUFTSSxFQUFHM0MsS0FBS25HLGNBRWJvSCxFQUFRRixFQUFLRyxNQUFNcUIsV0FDZHhCLEdBQUt2SyxPQUFPdUssRUFBS0csTUFBTXFCLFNBUXhDeEIsRUFBSzZCLGtCQUFrQjdCLEVBQUs3SCxRQUFRLEdBRXBDOUQsRUFBT3lOLFdBRVB6TixFQUFPME4sSUFBSSxXQUFZLFdBRXJCckMsRUFBVXNDLE9BQU9qQyxHQUVqQmtDLE1BSUY1TixFQUFPcUYsT0FBTyxXQUNaLE1BQU9zRyxHQUFLN0gsT0FBT21KLFVBQ2xCLFNBQVUxSCxFQUFRc0ksR0FDZHhPLEVBQVF5TyxPQUFPdkksRUFBUXNJLEtBQzFCbEMsRUFBS1MsU0FBVSxLQUVoQixFQUVILElBQUkyQixJQUFZLEVBQ1pILEVBQXNCdEMsRUFBV29DLElBQUksb0JBQXFCLFNBQVVNLEVBQU9DLEVBQVNDLEVBQVVDLEVBQVdDLEdBQzNHLEdBQUlDLEdBQVdoUCxFQUFRbU4sS0FBS2YsRUFDNUJ6TCxHQUFPc08seUJBQXlCRCxFQUFTdEssVUFBVUQsT0FBTzFDLFFBQzFEdUssRUFBSzZCLGtCQUFrQmEsRUFBU3RLLFVBQVVELFFBQVEsR0FBTyxHQUdyREYsRUFBWUUsT0FBT0MsV0FBYTRILEVBQUtTLFVBQVkyQixHQUFtQyxrQkFBdEJLLEVBQVdHLFFBQW9ELFdBQXRCSCxFQUFXSSxTQUNwSFIsRUFBTVMsaUJBRU45QyxFQUFLK0MsYUFDRjNKLEtBQUssV0FDSmdKLEdBQVksRUFDWnhDLEVBQU9vRCxHQUFHVixFQUFTQyxTQU83QnZDLEVBQUs2QixrQkFBb0IsU0FBVW9CLEVBQUtDLEdBRWxDbEksRUFBTyxtQkFBbUJpSSxJQUM1QmpELEVBQUttRCxjQUFjRixFQUFJaE8sV0FBV21PLEtBQU0sWUFBYSxVQUFXRixHQUc5RGxJLEVBQU8scUJBQXFCaUksSUFDOUJqRCxFQUFLbUQsY0FBY0YsRUFBSTdOLFVBQVVpTyxRQUFTLFlBQWEsaUJBQWtCSCxJQUs3RWxELEVBQUttRCxjQUFnQixTQUFVRyxFQUFNQyxFQUFPQyxFQUFPTixHQUNqREksRUFBSzdCLFFBQVEsU0FBVWdDLEdBQ3JCLEdBQUlDLEVBRUFELEdBQVNGLEtBQ1BMLEVBQ0ZPLEVBQVNGLEdBQVVFLEVBQVNGLEdBQVFJLGVBR3BDRCxFQUFVLEdBQUlFLE1BQUtILEVBQVNGLElBQzVCRyxFQUFRRyxRQUFRSCxFQUFRSSxVQUEwQyxJQUE5QkosRUFBUUsscUJBQzVDTixFQUFTRixHQUFTRyxJQUlsQkQsRUFBU0QsS0FDUE4sRUFDRk8sRUFBU0QsR0FBU0MsRUFBU0QsR0FBVUMsRUFBU0QsR0FBUUcsY0FBZ0JGLEVBQVNELElBRy9FRSxFQUFVLEdBQUlFLE1BQUtILEVBQVNELElBQzVCRSxFQUFRRyxRQUFRSCxFQUFRSSxVQUEwQyxJQUE5QkosRUFBUUsscUJBQzVDTixFQUFTRCxHQUFTRSxPQU0xQjFELEVBQUtnRSxhQUFlLFNBQVVDLEVBQUlDLEVBQVdDLEdBQzNDLEdBQUkvRixHQUFXLGlEQUVmQSxHQUFXQSxFQUFTdEssUUFBUSxRQUFTcVEsRUFFckMsSUFBSXhJLEdBQVd0SCxFQUFPdUgsTUFDdEJELEdBQVN5QyxTQUFXQSxFQUVwQjlKLEVBQU9FLE1BQ0xDLFlBQWEsMkNBQ1hDLEtBQU0sS0FDTnFILFVBQVUsRUFDVmhJLE1BQU80SCxJQUVSdUMsT0FBTzlFLEtBQUssU0FBVWlGLEdBQ3JCLE1BQUlBLEdBQ0s0RixFQUFHRyxNQUFNcEUsRUFBTWtFLEdBRHhCLFVBTU5sRSxFQUFLcUUsVUFBWSxTQUFVekssRUFBUTBLLEdBQ2pDLEdBQUlDLEdBQWdCdkosRUFBTy9DLEVBQVlFLE9BTXZDLE9BTEs2SCxHQUFLUyxTQUF5QnRCLFNBQWJtRixHQUEwQkMsRUFBY0QsS0FBYzFLLElBQzFFb0csRUFBS1MsU0FBVSxJQUlWLEdBSVRULEVBQUt3RSxjQUFnQixTQUFVL04sRUFBTWdPLEdBR25DekUsRUFBS3NCLFNBQVM3SyxHQUFRd0osRUFBVXhKLEdBSW5CLFdBQVRBLEVBQ0Z1SixFQUFLN0gsT0FBTzFCLEdBQU1nTyxPQUlsQkMsT0FBT0MsS0FBSzNFLEVBQUs3SCxPQUFPMUIsSUFDckJtTyxJQUFJLFNBQVVDLEdBRWI3RSxFQUFLN0gsT0FBTzFCLEdBQU1vTyxRQUl0QjdFLEVBQUt2SyxPQUFTL0IsRUFBUW1OLEtBQUtYLElBRzdCRixFQUFLN0gsT0FBT21KLFNBQVd0QixFQUFLN0gsT0FBT21KLFNBQVM1SyxPQUFPLFNBQVUxQixHQUMzRCxNQUFPQSxHQUFRaUssS0FBS25HLGdCQUFrQnJDLElBR3hDdUosRUFBS1MsU0FBVSxHQUdqQlQsRUFBSzhFLFdBQWF6USxFQUFPeVEsV0FBYSxTQUFVck8sR0FFOUNwQyxFQUFPMFEsaUJBQWtCLEVBQ3pCMVEsRUFBTzJRLFdBQWEsU0FJYmhGLEdBQUtzQixTQUFTN0ssR0FHckJ1SixFQUFLN0gsT0FBT21KLFNBQVNqSyxNQUNuQjRILEtBQVF4SSxFQUFLd08sY0FDWHRELGtCQUtOM0IsRUFBS2tGLG9CQUFzQixTQUFVek0sR0FDbkN1SCxFQUFLN0gsT0FBT2dOLG1CQUFxQm5GLEVBQUs3SCxPQUFPZ04sbUJBQW1Cek8sT0FBTyxTQUFVMUIsR0FDL0UsTUFBT0EsR0FBUXlELEtBQU9BLElBR3hCdUgsRUFBSzdILE9BQU9tSixTQUFXdEIsRUFBSzdILE9BQU9tSixTQUFTNUssT0FBTyxTQUFVMUIsR0FDM0QsTUFBT0EsR0FBUXlELEtBQU9BLElBR3hCdUgsRUFBS1MsU0FBVSxHQUdqQlQsRUFBS29GLGlCQUFtQixXQUN0QixHQUFJQyxHQUFZMU4sS0FBS0MsTUFBc0IsSUFBaEJELEtBQUsyTixVQUFvQixDQUVwRHRGLEdBQUs3SCxPQUFPbUosU0FBU2pLLE1BQU00SCxLQUFRLGlCQUFrQnhHLEdBQUk0TSxJQUVyRDNSLEVBQVE2UixZQUFZdkYsRUFBSzdILE9BQU9nTixzQkFDbENuRixFQUFLN0gsT0FBT2dOLHVCQUVkbkYsRUFBSzdILE9BQU9nTixtQkFBbUI5TixNQUFNb0IsR0FBSTRNLEVBQVdyUSxRQUFTLGlCQUFrQm1CLFFBQVMsTUFNMUY2SixFQUFLd0YsY0FBZ0IsU0FBVS9PLEVBQU1nTyxHQUduQyxHQTBCSWdCLEdBMUJBQyxHQUNBdEMsTUFDRXVDLFNBQVksR0FDWkMsU0FBWUMsS0FBUSxHQUFJQyxNQUFTLEdBQUlDLFFBQVdsRyxHQUNoRG1HLFVBQWEsR0FDYkMsUUFBVyxHQUNYQyxXQUFhLEVBQ2JDLE1BQVMsR0FDVEMsWUFBZSxHQUNmM04sR0FBTTBHLFFBRU5rRSxTQUNBN04sUUFBVyxHQUNYNlEsYUFBZSxFQUNmQyxlQUFrQixHQUNsQk4sVUFBYSxHQUNielEsS0FBUWdSLElBQU8sRUFBS3ZPLE1BQVMsSUFDN0IxQyxNQUFTLEdBQ1RrUixtQkFBc0IsR0FDdEJuUixXQUFjLEdBQ2RvUixjQUFpQixHQUNqQmIsU0FBWUMsS0FBUSxHQUFJQyxNQUFTLEdBQUlDLFFBQVdsRyxHQUNoRDZHLFlBQWUsR0FDZmpPLEdBQU0wRyxRQVFSekwsR0FBUTZSLFlBQVl2RixFQUFLN0gsT0FBTzFCLEdBQU1nTyxNQUN4Q3pFLEVBQUs3SCxPQUFPMUIsR0FBTWdPLE9BR3BCZ0IsRUFBU3pGLEVBQUs3SCxPQUFPMUIsR0FBTWdPLEdBRTNCZ0IsRUFBT3BPLEtBQUszRCxFQUFRbU4sS0FBSzZFLEVBQUlqQixLQUs3QmdCLEVBQU9BLEVBQU9yTyxPQUFTLEdBQUdxQixHQUFLZCxLQUFLQyxNQUFzQixJQUFoQkQsS0FBSzJOLFVBQW9CLEVBRW5FdEYsRUFBSzdILE9BQU9tSixTQUFXdEIsRUFBSzdILE9BQU9tSixTQUFTc0QsSUFBSSxTQUFVNVAsR0FjeEQsTUFaSUEsR0FBUWlLLEtBQUtuRyxnQkFBa0JyQyxJQUU1Qi9DLEVBQVEwTixRQUFRcE0sRUFBUTJNLGVBQzNCM00sRUFBUTJNLGdCQUdWM00sRUFBUTJNLFlBQVl0SyxNQUNsQjRILEtBQU1qSyxFQUFRaUssS0FBS2dHLGNBQWdCLGNBQ2pDeE0sR0FBSWdOLEVBQU9BLEVBQU9yTyxPQUFTLEdBQUdxQixNQUk3QnpELEtBSVhnTCxFQUFLMkcsaUJBQW1CLFNBQVVsUSxFQUFNZ08sRUFBTW1DLEdBQzVDLEdBQUlDLEdBQW1CN0csRUFBSzdILE9BQU8xQixHQUFNZ08sR0FBTXFDLE9BQU9GLEVBQUssR0FFdkRHLEVBQWdCL0csRUFBSzdILE9BQU9tSixTQUM5QjBGLE9BQU8sU0FBVUMsRUFBTWpTLEdBQ3JCLE1BQUlpUyxHQUFLaEksT0FBU3hJLEVBQUt3TyxjQUNkZ0MsRUFHQWpTLE1BSWIrUixHQUFjcEYsWUFBY29GLEVBQWNwRixZQUN2Q2pMLE9BQU8sU0FBVXdRLEdBQ2hCLE1BQU9BLEdBQVd6TyxLQUFPb08sRUFBaUIsR0FBR3BPLEtBSWpEdUgsRUFBS1MsU0FBVSxHQUdqQlQsRUFBS21ILG9CQUFzQixTQUFVMVEsU0FDNUJ1SixHQUFLdkssT0FBT3VLLEVBQUtHLE1BQU0xSixJQUU5QnVKLEVBQUs3SCxPQUFPbUosU0FBV3RCLEVBQUs3SCxPQUFPbUosU0FBU3NELElBQUksU0FBVTVQLEdBY3hELE1BWm1DLFdBQS9CQSxFQUFRaUssS0FBS25HLGdCQUdWcEYsRUFBUTBOLFFBQVFwTSxFQUFRMk0sZUFDM0IzTSxFQUFRMk0sZ0JBR1YzTSxFQUFRMk0sWUFBWXRLLE1BQ2xCNEgsS0FBZSxXQUFUeEksRUFBb0JBLEVBQUt3TyxjQUFnQixjQUFnQnhPLEVBQUt3TyxpQkFJakVqUSxJQUdUZ0wsRUFBSzdILE9BQU8xQyxPQUFPdUssRUFBS0csTUFBTTFKLFFBR2hDdUosRUFBS29ILHVCQUF5QixTQUFVM1EsR0FDdENBLEVBQU9BLEVBQUtxQyxjQUVaa0gsRUFBS3ZLLE9BQU91SyxFQUFLRyxNQUFNMUosSUFBU3lKLEVBQVFGLEVBQUtHLE1BQU0xSixJQUduRHVKLEVBQUt2SyxPQUFVL0IsRUFBUW1OLEtBQUsvRixFQUFNb0csWUFBWWxCLEVBQUt2SyxTQUVuRHVLLEVBQUs3SCxPQUFPMUMsT0FBT3VLLEVBQUtHLE1BQU0xSixPQUU5QnVKLEVBQUs3SCxPQUFPbUosU0FBUytGLE1BQU0sU0FBVXJTLEdBRW5DLE1BQW1DLFdBQS9CQSxFQUFRaUssS0FBS25HLGVBQ2Y5RCxFQUFRMk0sWUFBYzNNLEVBQVEyTSxZQUFZakwsT0FBTyxTQUFVa0wsR0FDekQsTUFBT0EsR0FBRzNDLEtBQUtuRyxnQkFBa0JyQyxLQUU1QixJQUdGLElBR1R1SixFQUFLUyxTQUFVLEdBR2pCVCxFQUFLc0gsaUJBQW1CLFNBQVVoRSxFQUFNaUUsR0FFdEMsTUFEQXZILEdBQUtTLFNBQVUsRUFDUjZDLEVBQUt3RCxPQUFPUyxFQUFPLElBRzVCbFQsRUFBT21ULGNBQ1B4SCxFQUFLeUgsY0FBZ0IsU0FBVXpQLEVBQU9zTCxFQUFNckUsRUFBTUgsR0FDbEMsS0FBVjlHLEdBQW9DLEtBQW5COEcsRUFBTzRJLFNBQXFDLElBQW5CNUksRUFBTzRJLFVBQ25EcEUsRUFBS2pNLEtBQUtXLEdBQ1YzRCxFQUFPbVQsV0FBV3ZJLEdBQVEsR0FDMUJlLEVBQUtTLFNBQVUsSUFJbkJULEVBQUsySCxvQkFBc0IsU0FBVTNQLEVBQU9zTCxFQUFNckUsR0FDbEMsS0FBVmpILElBQ0ZzTCxFQUFLak0sS0FBS1csR0FDVjNELEVBQU9tVCxXQUFXdkksR0FBUSxHQUMxQmUsRUFBS1MsU0FBVSxJQVFuQlQsRUFBSzRILFNBQVcsU0FBVXJPLEdBQ3RCLEdBQUlzTyxFQWVGLE9BZEFBLEdBQVdoTixFQUFHaU4sUUFDZDlILEVBQUsrSCxZQUFhLEVBR2QvSCxFQUFLUyxTQUFXcE0sRUFBTzJULGFBQWFDLE9BQ3RDakksRUFBSytDLGFBQWEzSixLQUFLLFdBRXJCc0csRUFBVXNDLE9BQU9qQyxHQUNqQjhILEVBQVNLLFlBR1hMLEVBQVNLLFVBR0pMLEVBQVM1SyxRQUFRSCxRQUFRLFdBQzlCa0QsRUFBSy9ELFNBQ0hnQixRQUFTa0MsT0FDVDlGLFVBQVUsRUFDVkUsSUFBS0EsT0FLZmxGLEVBQU84VCxTQUFVLEVBQ2pCbkksRUFBSytDLFdBQWEsV0FDaEIsR0FBSTlGLEdBQ0E0SyxDQW1DSixPQWpDQTVQLEdBQVlFLE9BQVN6RSxFQUFRbU4sS0FBS2YsR0FDbEN6TCxFQUFPc08seUJBQXlCMUssRUFBWUUsT0FBT0MsVUFBVUQsT0FBTzFDLFFBQ3BFdUssRUFBSzZCLGtCQUFrQjVKLEVBQVlFLE9BQU9DLFVBQVVELFFBQVEsR0FFNUQwUCxFQUFXaE4sRUFBR2lOLFFBR2RwSSxFQUFVc0MsT0FBT2pDLEdBRWpCOUMsRUFBVWhGLEVBQVltUSxTQUV0Qm5MLEVBQVE3RCxLQUFLLFdBQ1gvRSxFQUFPZ1UsZUFBaUIsbUJBQXFCdE4sRUFBUSxRQUFRLEdBQUk2SSxNQUFRLGFBQ3pFNUQsRUFBS1MsU0FBVSxFQUNmcE0sRUFBTzJULGFBQWFNLGlCQUVuQjNLLE1BQU0sV0FFTHRKLEVBQU84VCxTQUFVLEVBQ2pCOVQsRUFBT2tVLGdCQUFrQixxRkFFMUJ6TCxRQUFRLFdBR1BrRCxFQUFLNkIsa0JBQWtCNUosRUFBWUUsT0FBT0MsVUFBVUQsUUFHcEQ5RCxFQUFPeU4sV0FDUCtGLEVBQVNLLFlBR2JsSSxFQUFLaEIsTUFBTS9CLFFBQVNBLElBRWI0SyxFQUFTNUssU0FHbEI1SSxFQUFPeU4sU0FBVyxXQUVoQi9CLEVBQWtCTCxFQUFVLFdBRTFCLEdBQUlNLEVBQUtTLFNBQVdwTSxFQUFPMlQsYUFBYUMsT0FBUSxDQUM5QyxHQUFJdkYsR0FBV2hQLEVBQVFtTixLQUFLZixFQUM1QnpMLEdBQU9zTyx5QkFBeUJELEVBQVN0SyxVQUFVRCxPQUFPMUMsUUFFMUR3QyxFQUFZRSxPQUFTdUssRUFFckIxQyxFQUFLNkIsa0JBQWtCNUosRUFBWUUsT0FBT0MsVUFBVUQsUUFBUSxHQUc1RHVILEVBQVVzQyxPQUFPakMsR0FFakI5SCxFQUFZbVEsU0FDVGhQLEtBQUssV0FDSjRHLEVBQUtTLFNBQVUsRUFDZnBNLEVBQU8yVCxhQUFhTSxlQUNwQmpVLEVBQU9nVSxlQUFpQixtQkFBcUJ0TixFQUFRLFFBQVEsR0FBSTZJLE1BQVEsYUFHekU1RCxFQUFLNkIsa0JBQWtCNUosRUFBWUUsT0FBT0MsVUFBVUQsUUFFcEQ5RCxFQUFPeU4sZUFHWixNQUdMek4sRUFBT3NPLHlCQUEyQixTQUFVbE4sR0FDMUMsR0FBSTBMLEVBQ0osS0FBS0EsSUFBUzFMLEdBQ0UsV0FBVjBMLElBQ0YxTCxFQUFPMEwsR0FBUzFMLEVBQU8wTCxHQUFPcUgsS0FBSyxPQUt6Q3hJLEVBQUt5SSxXQUFhLFNBQVUxSyxFQUFNa0YsRUFBS3lGLEdBQ2pDM0ssSUFDRmtGLEVBQUl5RixHQUFRLEtBS2hCclUsRUFBT3NVLFlBQ0xDLE1BQU8sR0FBSWhGLE1BQ1RpRixhQUNBQyxZQUFhLEVBQ2JDLFdBQVcsRUFDWEMsUUFBUyxVQUliaEosRUFBS2lKLGFBQWUsU0FBVUMsRUFBTTdFLEdBQ2xDLEdBQ0kyQixHQUNBQyxFQUZBMkMsRUFBUSxHQUFJaEYsS0FRaEIsSUFKQW9DLEVBQVlrRCxFQUFLQyxNQUNqQmxELEVBQVVpRCxFQUFLRSxLQUdWMVYsRUFBUTJWLE9BQU9yRCxLQUFnQnRTLEVBQVEyVixPQUFPcEQsS0FBYWlELEVBQUtoRCxVQUNuRSxNQUFPLDJDQUlULElBQUl4UyxFQUFRMlYsT0FBT3JELElBQWNBLEVBQVVsQyxVQUFZOEUsRUFBTTlFLFVBQzNELE1BQU8sa0NBSVQsS0FBS29GLEVBQUtoRCxVQUFXLENBQ25CLEdBQUl4UyxFQUFRMlYsT0FBT3BELElBQVlBLEVBQVFuQyxVQUFZOEUsRUFBTTlFLFVBQ3ZELE1BQU8sa0NBR1QsSUFBSXBRLEVBQVEyVixPQUFPcEQsSUFBWXZTLEVBQVEyVixPQUFPckQsSUFBY0MsRUFBUW5DLFdBQWFrQyxFQUFVbEMsVUFDekYsTUFBTyx5Q0FHUE8sSUFDRnJFLEVBQUtTLFNBQVUsSUFLbkJULEVBQUtzSixXQUFhLFNBQVUvVCxHQUUxQixNQUFLQSxHQUlBLGlCQUFpQmdVLEtBQUtoVSxJQUkzQkEsRUFBTWlVLFdBQVdqVSxHQUNiQSxFQUFNLEVBQ0QseUJBRVR5SyxFQUFLUyxTQUFVLEVBQWZULFNBUFMsY0FMVCxRQWVGQSxFQUFLeUosYUFBZSxXQUNsQixHQUFJeE0sRUFFSkEsR0FBVWhGLEVBQVlxRyxPQUFPckcsRUFBWUUsT0FBT0ssS0FBS0MsSUFDbERXLEtBQUssV0FDSjRHLEVBQUtTLFNBQVUsSUFHbkJULEVBQUsxQixRQUFRckIsUUFBU0EsS0FHeEIrQyxFQUFLMEosV0FBYSxTQUFVekcsRUFBS3lGLEdBQy9CLE1BQU96RixNQUFTQSxFQUFJeUYsSUFJdEIxSSxFQUFLdUosS0FBTyxXQUNWSSxRQUFRQyxJQUFJLFNBR2Q1SixFQUFLNkosV0FBYSxTQUFVakUsR0FDdEJBLEVBQVFHLFVBQVlsRyxJQUN0QitGLEVBQVFFLE1BQVEsS0FLZjlGLEVBQUtPLFFBSVJQLEVBQUt2RCxRQUhKdUQsRUFBS1osTUFBUTFMLEVBQVFzSSxVQU81QmxFLGFBQWMsYUFDZEMsa0JBQWtCLE1BSXZCckUsU0FLSCxTQUFXQSxHQUdUQSxFQUFRQyxPQUFPLHdCQUNiLG9DQUNFLGVBQ0EsZUFDQSxzQkFDQSxlQUNBLGlCQUVEUyxXQUFXLG9CQUNWLGNBQ0UsWUFDQSxTQUNBLFVBQ0EsS0FDQSxTQUNBLGVBQ0EsU0FBVTZELEVBQWEzRCxFQUFRRCxFQUFRMEcsRUFBU0YsRUFBSUcsRUFBUUYsR0FTNUQsUUFBU0csR0FBYUMsR0FDcEIsR0FBSUMsTUFHQUMsRUFBV0wsRUFBUSxVQUFVOUMsRUFBWW9ELFlBQWFILE1BQVNBLEdBRW5FLE9BQUlFLEdBQVNoRSxRQUNYZ0UsRUFBV0EsRUFBUyxHQUVwQkQsRUFBUzlELEtBQUtZLEVBQVlmLElBQUlrRSxJQUM5QkQsRUFBUzlELEtBQUtZLEVBQVlxRCxlQUFlRixFQUFTM0MsS0FDbEQwQyxFQUFTOUQsS0FBS1ksRUFBWXNELGtCQUMxQkosRUFBUzlELEtBQUtZLEVBQVl1RCxhQUVuQlgsRUFBR1ksSUFBSU4sS0FHUCxFQXpCWCxHQUFJM0QsR0FBS0MsSUFFVEQsR0FBRzBFLFNBQVcxRSxFQUFHMEUsVUFBWXhJLEVBQVFzSSxLQUdyQy9ELEVBQVl3RSxLQUFLakYsRUFBR3dCLFdBQ3BCM0UsRUFBT2dILFdBQWFwRCxFQUFZb0QsV0F1QmhDN0QsRUFBRzZFLFlBQWMsV0FFZixHQUFJM0ksRUFBUW1MLFdBQVdySCxFQUFHNEUsVUFBWTVFLEVBQUc0RSxVQUV2QyxPQURDNUUsRUFBRzJGLGNBQWdCekosRUFBUXNJLE9BQU9vQixTQUFVNUYsRUFBRzZFLGNBQ2hELE1BR0YsSUFBSWtCLEdBQ0FDLENBRUpBLEdBQVNuSixFQUFPdUgsT0FJaEIzRCxFQUFZNlIsVUFBVyxFQUV2QnRNLEVBQU9DLE9BQVMsU0FBVXFCLEVBQVE1RCxHQUNoQzRELEVBQU9DLDJCQUVIN0QsR0FDRnNDLEVBQU9FLFNBQVUsRUFFakJ6RixFQUFZK0csTUFBTUMsS0FBTSxNQUFPeEksS0FBTXlFLElBQ2xDOUIsS0FBSyxXQUNKLE1BQU82QixHQUFhQyxLQUdyQjlCLEtBQUssV0FDSm1FLEVBQWM5QyxNQUFNeEMsRUFBWUUsT0FBT0ssS0FBS0MsR0FBSyxVQUFZLFVBRzlEa0YsTUFBTSxTQUFVQyxHQUNmSixFQUFPRSxTQUFVLEVBR2ZGLEVBQU9LLE1BRFUsTUFBZkQsRUFBSUUsT0FDU0YsRUFBSUcsS0FBS0MsWUFBWSxHQUFHQyxhQUd4Qix3RUFLckJULEVBQU9LLE1BQVEsNEJBQ2ZMLEVBQU9FLFNBQVUsSUFLckJILEVBQWdCakosRUFBT0UsTUFDckJDLFlBQWEsNkNBRVhzSCxVQUFVLEVBQ1ZoSSxNQUFPeUosSUFJWGhHLEVBQUcwRSxVQUFVZSxRQUFTTSxFQUFjVyxVQUl0QzFHLEVBQUc4RSxPQUFTLFNBQVV5QixHQUVwQixHQUFJckssRUFBUW1MLFdBQVdySCxFQUFHNEUsVUFBWTVFLEVBQUc0RSxVQUV2QyxPQURDNUUsRUFBRzJGLGNBQWdCekosRUFBUXNJLE9BQU9vQixTQUFVdEMsRUFBTXVDLGdCQUFnQjdGLEVBQUc2RSxhQUFjMEIsTUFDcEYsTUFHRixJQUFJZCxFQUNKNUksR0FBTzZLLFlBQWNDLE9BRWpCcEIsR0FBUUEsRUFBSzNHLFNBQ2Y2RixFQUFVaEYsRUFBWStHLE1BQU1DLEtBQU0sU0FBVWxCLEtBQU1BLElBQy9DM0UsS0FBSyxXQUNKLE1BQU82QixHQUFhRCxFQUFPLFFBQVErQyxNQUVwQzNFLEtBQUssV0FDSixNQUFPLFlBRVJ1RSxNQUFNLFNBQVVqQixHQUNmckksRUFBTzZLLFlBQWN4QyxFQUFLcUIsS0FBS0MsWUFBWSxHQUFHQyxlQUdsRHpHLEVBQUcwRSxVQUFVZSxRQUFTQSxNQUsxQnpGLEVBQUd1UyxhQUFlLFdBQ2hCLE1BQU85UixHQUFZK0csTUFBTUMsS0FBTSxlQUlwQ3JMLFVBQVUsaUJBQWtCLFdBQzNCLE9BQ0VDLFNBQVUsSUFDVkMsU0FBUyxFQUNUQyxPQUNFaUYsVUFBVyxPQUNUa0QsU0FBVSxjQUNWRSxRQUFTLElBQ1RlLGFBQWdCLEtBRXBCMUksWUFBYSxtQ0FDYkwsV0FBWSxtQkFDWjBELGFBQWMsU0FDZEMsa0JBQWtCLE1BSXZCckUsU0FNSCxTQUFXQSxHQUdUQSxFQUFRQyxPQUFPLG1CQUNacVcsUUFBUSxnQkFBaUIsV0FDeEIsT0FDRTNNLGdCQUFpQixTQUFVNE0sRUFBTUMsR0FDL0IsTUFBTyxZQUNEeFcsRUFBUTBOLFFBQVE4SSxJQUFTQSxFQUFLOVMsT0FDaEM2UyxFQUFLN0YsU0FBVThGLEdBR2ZELE1BS04vSSxZQUFhLFNBQVMrQixHQUNwQixHQUFJa0gsR0FBZ0J6RixPQUFPQyxLQUFLMUIsR0FBSzJCLElBQUksU0FBU3dGLEdBQzlDLE9BQVFBLEVBQUVuSCxFQUFJbUgsS0FHbEJELEdBQWNFLEtBQUssU0FBU0MsRUFBR0MsR0FDN0IsTUFBT0QsR0FBRSxHQUFLQyxFQUFFLEdBQUssR0FBS0QsRUFBRSxHQUFLQyxFQUFFLEdBQUksRUFBSSxHQUc3QyxJQUFJQyxLQUlKLE9BSEFMLEdBQWMxSSxRQUFRLFNBQVM2SSxHQUM5QkUsRUFBU0YsRUFBRSxJQUFNQSxFQUFFLEtBRWJFLFFBTWQ5VyxTQU1ILFNBQVdBLEdBYVRBLEVBQVFDLE9BQU8sZ0JBQ2IsdUNBRUNnQixTQUFTLGtCQUFtQixpQkFDNUJxVixRQUFRLGVBQ1AsaUJBQ0UsS0FDQSxTQUNBLE9BQ0EsVUFDQSxrQkFDQSxTQUFVUyxFQUFTNVAsRUFBSUcsRUFBUWhGLEVBQU1pRSxFQUFTNEYsR0FDOUMsR0FDSTdHLEdBRUEwUixFQUhBbk8sS0FFQW9PLEdBQWMsQ0E2T2xCLE9Bek9BcE8sR0FBTUUsS0FBTyxTQUFVaEUsR0FDckIsTUFBS2tTLEdBWUlELEdBWFAxUixFQUFZUCxFQUNaa1MsR0FBYyxFQUVkRCxFQUFjbk8sRUFBTXFDLGNBQ2pCOUIsUUFBUSxXQUNQNk4sR0FBYyxNQVl0QnBPLEVBQU1xQyxZQUFjLFdBQ2xCLE1BQU82TCxHQUFRbkgsS0FBS3RLLEdBQ2pCSSxLQUFLLFNBQVV3UixHQUNkck8sRUFBTWxCLFdBQWFMLEVBQU8sY0FBYzRQLE1BVzlDck8sRUFBTXJGLElBQU0sU0FBVWtFLEdBS3BCLE1BSkFtQixHQUFNcEUsUUFDSkssS0FBTTRDLEdBR0RxUCxFQUFRdlQsS0FBSzhCLFVBQVdBLEVBQVdULE1BQU9nRSxFQUFNcEUsT0FBT0ssS0FBS0MsS0FDaEVXLEtBQUssU0FBVWhCLEdBQ2RtRSxFQUFNcEUsT0FBT0MsVUFBWUEsRUFBVTJGLFFBS3pDeEIsRUFBTXdFLG9CQUFzQixTQUFVM0ksR0FDcEMsR0FBSWdMLEdBQ0FDLENBRUNqTCxHQUFVRCxPQUFPdkQsUUFBUWlXLGNBQWM5RSxVQUMxQzNOLEVBQVVELE9BQU92RCxRQUFRaVcsY0FBYzlFLFFBQVVsRyxHQUkvQ3pILEVBQVVELE9BQU9sRCxZQUFjbUQsRUFBVUQsT0FBT2xELFdBQVdtTyxPQUM3REEsRUFBT2hMLEVBQVVELE9BQU9sRCxXQUFXbU8sS0FDbkMxUCxFQUFRK04sUUFBUTJCLEVBQU0sU0FBU3BMLEdBQ3hCQSxFQUFNNE4sUUFBUUcsVUFDakIvTixFQUFNNE4sUUFBUUcsUUFBVWxHLE1BTTFCekgsRUFBVUQsT0FBTy9DLFdBQWFnRCxFQUFVRCxPQUFPL0MsVUFBVWlPLFVBQzNEQSxFQUFVakwsRUFBVUQsT0FBTy9DLFVBQVVpTyxRQUNyQzNQLEVBQVErTixRQUFRNEIsRUFBUyxTQUFTckwsR0FDM0JBLEVBQU00TixRQUFRRyxVQUNqQi9OLEVBQU00TixRQUFRRyxRQUFVbEcsT0FPaEN0RCxFQUFNakIsZUFBaUIsU0FBVS9DLEdBQy9CLE1BQU9rUyxHQUFRblAsZ0JBQWdCdEMsVUFBV0EsRUFBV1QsTUFBT0EsSUFDekRhLEtBQUssU0FBVWQsR0FDZGlFLEVBQU1wRSxPQUFPRyxZQUFjQSxFQUFZeUYsUUFLN0N4QixFQUFNcEQsY0FBZ0IsU0FBVVosRUFBT3dGLEdBQ3JDLE1BQU8wTSxHQUFRdFIsZUFBZUgsVUFBV0EsRUFBV1QsTUFBT0EsRUFBT3VTLFFBQVMvTSxLQUk3RXhCLEVBQU13TyxhQUFlLFdBQ25CLEdBQUlDLEdBQU92VCxJQUNYLE9BQU9nVCxHQUFRTSxlQUNaM1IsS0FBSyxTQUFVZixHQUNkMlMsRUFBSzNTLFVBQVlBLEVBQVUwRixLQUFLa04sU0FLdEMxTyxFQUFNNUQsWUFBYyxXQUNsQixNQUFPbEIsTUFBSzBCLGNBQWNvRCxFQUFNcEUsT0FBT0ssTUFBT0kseUJBQTBCbkIsS0FBS2EsWUFBWU0sNEJBSTNGMkQsRUFBTXlDLEtBQU8sU0FBVThMLEdBQ3JCLEdBQUk3TixHQUFTK04sQ0FvQmIsT0FsQkFBLEdBQU92VCxLQU1Md0YsRUFGbUIsV0FBakI2TixFQUFRN0wsS0FFQXdMLEVBQVFTLE9BQU9sUyxFQUFXOFIsRUFBUS9NLE1BRXBCLFdBQWpCK00sRUFBUTdMLEtBRUx3TCxFQUFRVSxlQUFlblMsR0FJdkJ5UixFQUFRVyxPQUFPcFMsR0FBWXZDLEtBQU1xVSxFQUFRclUsT0FJOUN3RyxFQUFRN0QsS0FBS21ELEVBQU1xQyxjQUc1QnJDLEVBQU0rQixPQUFTLFNBQVUvRixHQUN2QixNQUFJQSxHQUNLa1MsRUFBUW5NLFFBQVF0RixVQUFXQSxFQUFXVCxNQUFPQSxJQUNqRGEsS0FBS21ELEVBQU1xQyxhQUVQL0QsRUFBR3dRLE9BQU8sMkNBS3JCOU8sRUFBTTZMLE9BQVMsV0FDYixHQUFJNEMsR0FBT3ZULElBQ1gsT0FBT2dULEdBQVFyQyxRQUFRcFAsVUFBV0EsRUFBV1QsTUFBT2QsS0FBS1UsT0FBT0ssS0FBS0MsR0FBSXNGLEtBQU10RyxLQUFLVSxPQUFPQyxZQUN4RmdCLEtBQUssU0FBVWpCLEdBQ2Q2UyxFQUFLN1MsT0FBT0MsVUFBWUQsRUFBTzRGLFFBS3JDeEIsRUFBTStPLGtCQUFvQixTQUFVbkYsR0FDbEMsR0FBSTZFLEdBQU92VCxJQUVYLE9BQU9nVCxHQUFRckMsUUFDYnBQLFVBQVdBLEVBQ1RULE1BQU9kLEtBQUtVLE9BQU9LLEtBQUtDLEdBQ3hCc0YsTUFDQXRILEtBQVEwUCxFQUNOaE8sVUFDQW9ULFdBQWMsSUFDZHpOLE9BQVUsY0FHYjFFLEtBQUssU0FBVWpCLEdBQ2Q2UyxFQUFLN1MsT0FBT0MsVUFBWUQsRUFBTzRGLE9BRWhDM0UsS0FBS21ELEVBQU1xQyxjQUloQnJDLEVBQU1pUCxjQUFnQixXQU1wQixNQUxBL1QsTUFBS1UsT0FBT0csWUFBWW1ULFdBQWFoQixFQUFRZ0IsWUFDM0N6UyxVQUFXQSxFQUNYVCxNQUFPZCxLQUFLVSxPQUFPSyxLQUFLQyxHQUN4QnRFLFNBQVVzRCxLQUFLVSxPQUFPRyxZQUFZTSwwQkFBNEIsWUFFekRuQixLQUFLVSxPQUFPRyxZQUFZbVQsWUFHakNsUCxFQUFNbVAsV0FBYSxXQUNqQixHQUFJek8sR0FBUytOLENBQ2JBLEdBQU92VCxLQUNQd0YsRUFBVXdOLEVBQVF4TyxTQUNoQmpELFVBQVdBLEVBQ1gyUyxPQUFRbFUsS0FBS2UsS0FBS0MsR0FDbEJzRixLQUFNdEcsS0FBS2EsWUFBWU0sMkJBRXpCcUUsRUFBUTdELEtBQUssU0FBVXdSLEdBQ3JCLEdBQUlnQixFQUNKQSxHQUFXM1IsRUFBUU8sU0FBU3FSLGNBQWMsUUFDMUNELEVBQVNFLFVBQVlsQixFQUFJN00sS0FFekJpTixFQUFLN1UsUUFBVXlWLEVBQVNHLGNBQWMsUUFBUUQsVUFFOUNkLEVBQUs3VSxRQUFXNlUsRUFBWSxRQUFFbFgsUUFBUSxVQUFXLE1BQzlDQSxRQUFRLFVBQVcsTUFDbkJBLFFBQVEsV0FBWSxPQUN2QmtYLEVBQUs3VSxRQUFVSCxFQUFLSSxZQUFZNFUsRUFBSzdVLFlBS3pDb0csRUFBTXdPLGVBR054TyxFQUFNZSxnQkFBa0IsU0FBVS9FLEVBQU85QixHQUN2QyxNQUFPZ1UsR0FBUXVCLFdBQ2JoVCxVQUFXQSxFQUNYVCxNQUFPQSxFQUNQd0YsTUFDRXRILEtBQU1BLEVBQ044VSxXQUFZLE9BSWJuUyxLQUFLbUQsRUFBTXFDLGNBR2hCckMsRUFBTTBQLE1BQVEsaUJBQ0wxUCxHQUFNbEIsaUJBQ05rQixHQUFNcEUsUUFLZm9FLEVBQU1oQixlQUFpQixXQUNyQixNQUFPa1AsR0FBUWxQLGlCQUFpQm5DLEtBQUssU0FBVThTLEdBQzdDM1AsRUFBTXBFLE9BQU82SSxVQUFZa0wsRUFBU25PLFFBS3RDeEIsRUFBTWYsVUFBWSxXQUNoQixNQUFPaVAsR0FBUWpQLFlBQVlwQyxLQUFLLFNBQVU4UyxHQUN4QzNQLEVBQU1wRSxPQUFPOEksT0FBU2lMLEVBQVNuTyxLQUFLRyxPQUFPSCxRQUl4Q3hCLE1BR1o3SSxTQUtILFNBQVdBLEdBSVRBLEVBQVFDLE9BQU8sd0NBQ1pxRSxNQUFNLHFDQUNMbVUsT0FBTyxFQUNMQyxjQUFjLElBS3BCMVksRUFBUUMsT0FBTyw4QkFFWCxvQ0FDRSx3QkFDQSx1QkFDQSxzQkFDQSx1QkFDQSx3QkFDQSxTQUNBLGlCQUdIMFksS0FBSyxpQkFBa0IsU0FBVXpSLEdBQ2hDQSxFQUFlckQsSUFBSSw2Q0FBOEMsaXpCQXFCakVxRCxFQUFlckQsSUFBSSwyQ0FBNEMsOFlBVy9EcUQsRUFBZXJELElBQUksNkNBQThDLHV6QkFxQmpFcUQsRUFBZXJELElBQUksNkNBQThDLDBoQkFXakVxRCxFQUFlckQsSUFBSSx3Q0FBeUM7S0FZL0Q3RCIsImZpbGUiOiJhcG9sbG8tYW5ndWxhci1yZXN1bWUtYnVpbGRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgeXJnYW50YSBvbiA1LzE4LzE1LlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tbW9kYWwtc2FtcGxlLWJ1dHRvbicsIFtcbiAgJ3VpLmJvb3RzdHJhcCdcbl0pXG5cbiAgLmRpcmVjdGl2ZSgnYXBNb2RhbFNhbXBsZUJ1dHRvbicsIFsnJHVpYk1vZGFsJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0FFJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBidXR0b25UZXh0OiAnQCcsXG4gICAgICAgICAgbW9kYWxQYXRoOiAnQCcsXG4gICAgICAgICAgbW9kYWxTaXplOiAnQCcgIC8vIGRlZmF1bHRzIHRvIGxnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImNvbCBidXR0b24tY29sXCI+PGEgcm9sZT1cImJ1dHRvblwiIGhyZWYgY2xhc3M9XCJjdGEgc2FtcGxlXCIgbmctY2xpY2s9XCJ2aWV3U2FtcGxlKCk7XCI+e3tidXR0b25UZXh0fX08L2E+PC9kaXY+JyxcbiAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsJyxcbiAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWwpIHtcblxuICAgICAgICAgICAgJHNjb3BlLnZpZXdTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJHNjb3BlLm1vZGFsUGF0aCxcbiAgICAgICAgICAgICAgICBzaXplOiAkc2NvcGUubW9kYWxTaXplIHx8ICdsZydcbiAgICAgICAgICAgICAgICAvKiBiYWNrZHJvcDogZmFsc2UgKi9cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gIF0pO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgc3Nocm9mZiBvbiAxMC8yMy8xNS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyLkluZm9UaXBzQ29udGVudCcsIFtdKVxuICAuY29uc3RhbnQoJ0lORk9USVBTQ09OVEVOVCcsIHtcbiAgJ2NvbnRhY3QnOntcbiAgICAnZW1haWwnOic8cD48c3Ryb25nPkVtYWlsPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+Jm5ic3A7TWFrZSBzdXJlIHlvdSZuYnNwO3VzZSBhIHByb2Zlc3Npb25hbC1sb29raW5nIGVtYWlsIGFkZHJlc3Mgd2l0aCB5b3VyIG5hbWUgbGlrZSA8YSBocmVmPVwibWFpbHRvOkpvaG4uU21pdGhAZW1haWwuY29tXCI+Sm9obi5TbWl0aEBlbWFpbC5jb208L2E+LiBBZGRyZXNzZXMgc3VjaCBhcyA8YSBocmVmPVwibWFpbHRvOlN1cmZlcjgyQGVtYWlsLmNvbVwiPlN1cmZlcjgyQGVtYWlsLmNvbTwvYT4gb3IgPGEgaHJlZj1cIm1haWx0bzpob3JzZWxvdmVyM0BlbWFpbC5jb20gXCI+aG9yc2Vsb3ZlcjNAZW1haWwuY29tPC9hPiBhcmUgbm90IGNvbnNpZGVyZWQgcHJvZmVzc2lvbmFsLiZuYnNwO01ha2Ugc3VyZSB0byBjaGVjayB0aGUgaW5ib3ggb2YgdGhlIGVtYWlsIGFkZHJlc3MgeW91IGxpc3Qgb24gYSBkYWlseSBiYXNpcy48L3A+JyxcblxuICAgICd3ZWJzaXRlcyc6JzxwPjxzdHJvbmc+V2Vic2l0ZXM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgICc8cD48c3Ryb25nPjxzdHJvbmc+VGlwOjwvc3Ryb25nPjwvc3Ryb25nPiZuYnNwO0luY2x1ZGUgYW55IHBlcnNvbmFsIHdlYnNpdGVzIG9yIG9ubGluZSBwb3J0Zm9saW9zIHlvdSBoYXZlIHRoYXQgYXJlIHJlbGV2YW50IHRvIHRoZSBqb2IgZm9yIHdoaWNoIHlvdSBhcmUgYXBwbHlpbmcuIFlvdSBzaG91bGQgPGVtPm5vdDwvZW0+IGluY2x1ZGUgYSBsaW5rIHRvIGEgcGVyc29uYWwgRmFjZWJvb2sgcGFnZS4mbmJzcDtBZGRpbmcgeW91ciBMaW5rZWRJbiBhZGRyZXNzIHdvdWxkIGJlIGFwcHJvcHJpYXRlOyBob3dldmVyLCBtYWtlIHN1cmUgdG8gY3JlYXRlIGEgc2hvcnQgVVJMIHRoYXQgbG9va3Mgc2ltaWxhciB0byB0aGlzOiBodHRwOi8vd3d3LmxpbmtlZGluLmNvbS9pbi9teW5hbWU8L3A+J1xuICB9LFxuICAnc3VtbWFyeSc6e1xuICAgICdzZWN0aW9uJyA6JzxwPjxzdHJvbmc+U3VtbWFyeSBvZiBRdWFsaWZpY2F0aW9uczwvc3Ryb25nPjwvcD4nK1xuICAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiZuYnNwO1RoaXMgc2VjdGlvbiBpcyB5b3VyIGNoYW5jZSB0byBxdWlja2x5IHRlbGwgdGhlIGhpcmluZyBtYW5hZ2VyIHdoeSBZT1UgYXJlIHRoZSByaWdodCBwZXJzb24gZm9yIHRoZSBqb2IuIFdlIHJlY29tbWVuZCB3b3JraW5nIG9uIHRoaXMgc2VjdGlvbiBsYXN0IGFmdGVyIHlvdSBoYXZlIGFkZGVkIGFsbCBvZiB5b3VyIGluZm9ybWF0aW9uIHRvIHlvdXIgcmVzdW1lLiBUaGUgc2VjdGlvbiBzaG91bGQgYmUgMy00IGJ1bGxldCBwb2ludHMgdGhhdCBiZXN0IHN1bW1hcml6ZSB5b3VyIGV4cGVyaWVuY2UgYW5kIHF1YWxpZmljYXRpb25zLiBGb2N1cyBvbiB5b3VyIGFjaGlldmVtZW50cywgcmVjb2duaXRpb25zIGFuZCByZXN1bHRzIHRoYXQgYXJlIHJlbGV2YW50IHRvIHRoZSBqb2IgZGVzY3JpcHRpb24uPC9wPicrXG4gICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPiZuYnNwO0hlcmUgaXMgYW4gZXhhbXBsZSBvZiBhIGdyZWF0IHN1bW1hcnkgZm9yIGFuIGluZGl2aWR1YWwgYXBwbHlpbmcgZm9yIGEgbWFuYWdlcmlhbCBzYWxlcyBwb3NpdGlvbi48L3A+JytcbiAgICAgICAgICAgICAgICc8dWw+JytcbiAgICAgICAgICAgICAgICAnPGxpPjUrIHllYXJzIG9mIGJ1c2luZXNzIGV4cGVyaWVuY2UgaW5jbHVkaW5nIG1hbmFnZW1lbnQgcmVzcG9uc2liaWxpdHkgb2YgYSBmb3VyLXBlcnNvbiBzYWxlcyB0ZWFtLjwvbGk+JytcbiAgICAgICAgICAgICAgICAnPGxpPlNvbGQgJDQwMCwwMDAgaW4gYWR2ZXJ0aXNpbmcgc3BhY2UgdG8gbGFyZ2UgY29tcGFuaWVzIHN1Y2ggYXMgR29vZ2xlLCBBVCZhbXA7VCwgYW5kIEJlc3QgQnV5LjwvbGk+JytcbiAgICAgICAgICAgICAgICAnPGxpPlJlY2VpdmVkICZxdW90O1NhbGVzIExlYWRlcnNoaXAmcXVvdDsgYXdhcmQgZm9yIHNoYXJpbmcgYmVzdCBwcmFjdGljZXMgd2l0aCB0aGUgZW50aXJlIHNhbGVzIHRlYW0uPC9saT4nK1xuICAgICAgICAgICAgICAgJzxsaT5Fc3RhYmxpc2hlZCBtZW50b3JzaGlwIHByb2dyYW0gZm9yIG5ldyBoaXJlcyBpbiB0aGUgc2FsZXMgZGVwYXJ0bWVudC48L2xpPicrXG4gICAgICAgICAgICAgICAnPC91bD4nXG4gIH0sXG4gICdleHBlcmllbmNlJzp7XG4gICAgJ3NlY3Rpb24nOic8cD48c3Ryb25nPlByb2Zlc3Npb25hbCBFeHBlcmllbmNlPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiZuYnNwO0RvbiYjMzk7dCBoYXZlIGEgbG90IG9mIHdvcmsgZXhwZXJpZW5jZT8gSGVyZSBhcmUgdHdvIGhlbHBmdWwgaGludHM6PC9wPicrXG4gICAgICAgICAgICAgICAgJzx1bD4nK1xuICAgICAgICAgICAgICAgICAgJzxsaT5Nb3ZlIHlvdXIgRWR1Y2F0aW9uIHNlY3Rpb24gYWJvdmUgUHJvZmVzc2lvbmFsIEV4cGVyaWVuY2UgdG8gZW1waGFzaXplIHlvdXIgZWR1Y2F0aW9uLjwvbGk+JytcbiAgICAgICAgICAgICAgICAgICc8bGk+RXhwYW5kIG9uIHRoZSB3b3JrIGV4cGVyaWVuY2UgeW91IGRvIGhhdmUsIGJ5IGFkZGluZyByZWxldmFudCBpbnRlcm5zaGlwcywgcGFydCB0aW1lIHdvcmsgb3Igdm9sdW50ZWVyIHdvcmsuPC9saT4nK1xuICAgICAgICAgICAgICAgJzwvdWw+JytcbiAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+Jm5ic3A7SGF2ZSBhIGxvdCBvZiB3b3JrIGV4cGVyaWVuY2U/IFRyeSB0byBtYWtlIHlvdXIgcmVzdW1lIGNvbmNpc2UgYW5kLCBpZiBwb3NzaWJsZSwgZml0IHdpdGhpbiBvbmUgcGFnZS4gTGVhdmUgb3V0IG9sZGVyIGpvYnMgYW5kIGN1dCBkb3duIG9uIGlycmVsZXZhbnQgaW5mb3JtYXRpb24uICZuYnNwO0EgY29uY2lzZSByZXN1bWUgd2l0aCBoaWdobHkgcmVsZXZhbnQgZXhwZXJpZW5jZSBpcyBiZXR0ZXIgdGhhbiBhIGxvbmcgcmVzdW1lIHdpdGggc2VtaS1yZWxldmFudCBleHBlcmllbmNlLiZuYnNwOzwvcD4nK1xuICAgICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4gU29tZSBodW1hbiByZXNvdXJjZXMgc29mdHdhcmUgc3lzdGVtcyBzZWxlY3QgY2FuZGlkYXRlcyBieSBhdXRvbWF0ZWQga2V5d29yZCBzZWFyY2hlcy4mbmJzcDsgTG9vayBhdCB0aGUgam9iIGRlc2NyaXB0aW9uIGZvciB5b3VyIHRhcmdldCByb2xlIGFuZCBpZGVudGlmeSBhbnkga2V5d29yZHMgdGhhdCBtaWdodCBiZSByZWxldmFudC4gSWYgdGhvc2Uga2V5d29yZHMgYXBwbHkgdG8geW91LCB1c2UgdGhvc2Ugd29yZHMgdGhyb3VnaG91dCB5b3VyIHJlc3VtZS48L3A+JyxcblxuICAgICdqb2J0aXRsZSc6JzxwPjxzdHJvbmc+Sm9iIFRpdGxlPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+IFNvbWUgZW1wbG95ZXJzIHVzZSB1bmlxdWUgdGl0bGVzIGZvciBjb21tb24gam9icy4gVHJ5IHRvIHVzZSBjb21tb24gaW5kdXN0cnkgdGl0bGVzIHNvIHRoYXQgYSBoaXJpbmcgbWFuYWdlciBjYW4gcXVpY2tseSBpZGVudGlmeSB5b3VyIHBvc2l0aW9uLjwvcD4nK1xuICAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+RXhhbXBsZTo8L3N0cm9uZz4gVXNlIFNhbGVzIEV4ZWN1dGl2ZSBpbnN0ZWFkIG9mIFNhbGVzIE5pbmphLiBJZiB5b3UgZG8gYWRqdXN0IHlvdXIgam9iIHRpdGxlLCBtYWtlIHN1cmUgdGhhdCBpdCBpcyB0cnV0aGZ1bCBhbmQgdGhhdCBpdCBkb2VzIG5vdCBpbmZsYXRlIHlvdXIgZXhwZXJpZW5jZSBsZXZlbC48L3A+JyxcbiAgICAnYWNoaWV2ZW1lbnRzJzonPHA+PHN0cm9uZz5BY2hpZXZlbWVudCBCdWxsZXRzPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4mbmJzcDtSZXZpZXcgdGhlIGpvYiBkZXNjcmlwdGlvbiBvZiB0aGUgcG9zaXRpb24geW91IHdhbnQgdG8gYXBwbHkuIE1ha2Ugc3VyZSB0aGF0IHRoZSBhY2hpZXZlbWVudHMgeW91IGluY2x1ZGUgaGVyZSByZWxhdGUgdG8gd2hhdCB0aGUgZW1wbG95ZXIgaXMgc2Vla2luZy4gWW91ciBtb3N0IHJlbGV2YW50IGFjaGlldmVtZW50cyBzaG91bGQgYXBwZWFyIGZpcnN0LjwvcD4nK1xuICAgICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+IEVhY2ggYWNoaWV2ZW1lbnQgYnVsbGV0IHNob3VsZCBoYXZlIHR3byBwYXJ0cy48L3A+JytcbiAgICAgICAgICAgICAgICAgICAgJzx1bD4nK1xuICAgICAgICAgICAgICAgICAgICAgICc8bGk+V2hhdCBkaWQgeW91IGFjY29tcGxpc2g/IChTdGFydCB3aXRoIGFuIGFjdGlvbiB2ZXJiLCBzdWNoIGFzICZxdW90O01hbmFnZWQmcXVvdDsgb3IgJnF1b3Q7SW5jcmVhc2VkJnF1b3Q7KTwvbGk+JytcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpPkhvdyBkaWQgaXQgaW1wYWN0IHRoZSBvcmdhbml6YXRpb24/IChRdWFudGlmeSByZXN1bHRzIHdoZW4gcG9zc2libGUpPC9saT4nK1xuICAgICAgICAgICAgICAgICAgICAnPC91bD4nK1xuICAgICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPiZuYnNwOyBIZXJlJiMzOTtzIGEgZ3JlYXQgZXhhbXBsZSBvZiBmb3VyIGFjaGlldmVtZW50IGJ1bGxldHMgZm9yIGEgcGFzdCByZXRhaWwgc3RvcmUgbWFuYWdlbWVudCBqb2IuJm5ic3A7PC9wPicrXG4gICAgICAgICAgICAgICAgICAgICc8dWw+JytcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpPkltcGxlbWVudGVkIGVtcGxveWVlIGluY2VudGl2ZSBwcm9ncmFtIHRoYXQgcmVkdWNlZCBlbXBsb3llZSB0dXJub3ZlciBieSAyNSUuPC9saT4nK1xuICAgICAgICAgICAgICAgICAgICAgICc8bGk+SW5jcmVhc2VkIGN1c3RvbWVyIHNhdGlzZmFjdGlvbiBzY29yZSBieSAzMCBwb2ludHMgKG91dCBvZiAxMDApIGluIG9uZSB5ZWFyIHRocm91Z2ggYSBzZXJpZXMgb2YgdHJhaW5pbmcgaW5pdGlhdGl2ZXMgdGhhdCBmb2N1c2VkIG9uIGltcHJvdmluZyByZXNwb25zZSB0aW1lIG9mIHN0YWZmLjwvbGk+JytcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpPk92ZXJzYXcgZGF5LXRvLWRheSBvcGVyYXRpb25zIGluY2x1ZGluZyBpbnZlbnRvcnkgbWFuYWdlbWVudCwgc2FsZXMgcmVwb3J0aW5nIGFuZCBleHBlbnNlIHRyYWNraW5nLjwvbGk+JytcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpPkltcHJvdmVkIHN0b3JlIHJhbmtpbmcgZnJvbSAyNXRoIHRvIDNyZCBpbiB0aGUgcmVnaW9uIGluIGEgdHdvLXllYXIgcGVyaW9kLjwvbGk+JytcbiAgICAgICAgICAgICAgICAgICAgJzwvdWw+J1xuICB9LFxuICAnZWR1Y2F0aW9uJzp7XG4gICAgJ2RlZ3JlZVR5cGUnOic8cD48c3Ryb25nPkRlZ3JlZVR5cGU8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiBBcnRzIG9yIFNjaWVuY2UgYXJlIHRoZSB0d28gbW9zdCBjb21tb24gZGVncmVlIHR5cGVzLiBNYWtlIHN1cmUgd2hhdCB5b3UgZW50ZXIgaXMgd2hhdCB5b3VyIGRpcGxvbWEgc3RhdGVzLjwvcD4nK1xuICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPiBCYWNoZWxvciBvZiA8c3Ryb25nPkFydHM8L3N0cm9uZz4gaW4gRW5nbGlzaDwvcD4nLFxuICAgICdtYWpvcic6JzxwPjxzdHJvbmc+TWFqb3IvRW1waGFzaXM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4gWW91IGNhbiBpbmNsdWRlIG11bHRpcGxlIG1ham9ycyBvciBlbXBoYXNlcyBieSBzZXBhcmF0aW5nIHRoZW0gd2l0aCBjb21tYXMuPC9wPicrXG4gICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPiBEZWdyZWUgd2l0aCBhIGRvdWJsZSBtYWpvcjombmJzcDtCYWNoZWxvciBvZiBTY2llbmNlIGluIDxzdHJvbmc+Q29tbXVuaWNhdGlvbiwgSm91cm5hbGlzbTwvc3Ryb25nPjwvcD4nLFxuXG4gICAgJ2dwYSc6JzxwPjxzdHJvbmc+QWRkaXRpb25hbCBJbmZvPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiBXZSByZWNvbW1lbmQgaW5jbHVkaW5nIHlvdXIgR1BBIGlmIGl0IGlzIDMuMCBvciBhYm92ZTwvcD4nLFxuXG4gICAgJ2RldGFpbHMnOic8cD48c3Ryb25nPkVkdWNhdGlvbiBEZXRhaWxzPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4gSWYgeW91IGFyZSBzaG9ydCBvbiBwcm9mZXNzaW9uYWwgZXhwZXJpZW5jZSwgY29uc2lkZXIgYWRkaW5nIGEgY291cGxlIG9mIHlvdXIgbW9zdCByZWxldmFudCBjb3Vyc2VzIG9yIHByb2plY3RzIHRoYXQgcmVsYXRlIHRvIHlvdXIgdGFyZ2V0IHBvc2l0aW9uIGhlcmUuPC9wPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPkV4YW1wbGU6PC9zdHJvbmc+IEhlcmUgaXMgYW4gZXhhbXBsZSBvZiB3aGF0IHNvbWVvbmUgYXBwbHlpbmcgZm9yIGEgbWFya2V0aW5nIGpvYiB3aXRoIGxpdHRsZSByZWxldmFudCBleHBlcmllbmNlIG1pZ2h0IHdyaXRlOjwvcD4nK1xuICAgICAgICAgICAgICAnPHA+UmVsZXZhbnQgY291cnNld29yazogTWFya2V0IEFuYWx5c2lzLCBJbnRlcm5hdGlvbmFsIE1hcmtldGluZyBhbmQgUHJvZHVjdCBQcmljaW5nIFN0cnVjdHVyZXM8L3A+J1xuICB9LFxuICAnc2tpbGxzJzp7XG4gICAgJ3NlY3Rpb24nOic8cD48c3Ryb25nPkFkZGl0aW9uYWwgSW5mb3JtYXRpb248L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiZuYnNwO0RvbiYjMzk7dCBoYXZlIGEgbG90IG9mIGV4cGVyaWVuY2U/PC9wPicrXG4gICAgICAgICAgICAgICc8dWw+JytcbiAgICAgICAgICAgICAgICAnPGxpPldlIHJlY29tbWVuZCBpbmNsdWRpbmcgdXAgdG8gZm91ciB0eXBlcyBvZiBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGluIHRoaXMgc2VjdGlvbi4gVGhpbmdzIGxpa2Ugc2tpbGxzLCB2b2x1bnRlZXIgd29yaywgbGFuZ3VhZ2VzLCBpbnRlcmVzdHMgYW5kIGhvYmJpZXMgd2lsbCBzaG93IHRoYXQgeW91IGhhdmUgcGFzc2lvbnMgb3V0c2lkZSBvZiB3b3JrIGFuZCBoZWxwIGJ1aWxkIHlvdXIgY2FuZGlkYWN5LiBUaGlzIGlzIGFuIGVhc3kgd2F5IHRvIHN0cmVuZ3RoZW4geW91ciByZXN1bWUgYW5kIHRvIG1ha2UgeW91cnNlbGYgbW9yZSBtYXJrZXRhYmxlIHRvIGVtcGxveWVycy4mbmJzcDs8L2xpPicrXG4gICAgICAgICAgICAgICc8L3VsPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4mbmJzcDtIYXZlIGEgbG90IG9mIGV4cGVyaWVuY2U/PC9wPicrXG4gICAgICAgICAgICAgICc8dWw+JytcbiAgICAgICAgICAgICAgICAnPGxpPk9ubHkgaW5jbHVkZSB3aGF0IGlzIG1vc3QgcmVsZXZhbnQgdG8geW91ciB0YXJnZXQgam9iLiBTZXBhcmF0ZSBtdWx0aXBsZSBpdGVtcyB3aXRoIGNvbW1hcyAoZS5nLiBQb3dlclBvaW50LCBFeGNlbCwgV29yZCkuPC9saT4nK1xuICAgICAgICAgICAgICAnPC91bD4nLFxuICAgICdjZXJ0aWZpY2F0aW9ucyc6JzxwPjxzdHJvbmc+Q2VydGlmaWNhdGlvbnM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4mbmJzcDtJbmNsdWRlIHRoZSBwcm9mZXNzaW9uYWwgY2VydGlmaWNhdGlvbnMgeW91IGhhdmUgdGhhdCBhcmUgcmVsZXZhbnQgZm9yIHRoZSBqb2IgeW91IGFyZSBzZWVraW5nLiBBcmUgeW91IFN1biBKYXZhIGNlcnRpZmllZD8gQWRkIHRoYXQgaGVyZS4gQXJlIHlvdSBJQk0gY2VydGlmaWVkIGRhdGFiYXNlIGFkbWluaXN0cmF0b3I/IEFkZCB0aGF0IGhlcmUuIFdlIHJlY29tbWVuZCBhZGRpbmcgYW55IGNlcnRpZmljYXRpb24gdGhhdCB5b3UgbWF5IGhhdmU7IHJlbWVtYmVyIHRvIG1ha2Ugc3VyZSB0aGV5IGFyZSByZWxldmFudCBmb3IgdGhlIGpvYiB5b3UgYXJlIHNlZWtpbmcuJm5ic3A7PC9wPicrXG4gICAgICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPiZuYnNwO0hlcmUgaXMgYSBncmVhdCBleGFtcGxlIG9mIGEgY2VydGlmaWNhdGlvbiBzZWN0aW9uIGZvciBzb21lb25lIHNlZWtpbmcgYSBEYXRhYmFzZSBhZG1pbmlzdHJhdG9yIHBvc2l0aW9uOjwvcD4nK1xuICAgICAgICAgICAgICAgICAgICAgJzx1bD4nK1xuICAgICAgICAgICAgICAgICAgICAgICc8bGk+Q2VydGlmaWNhdGlvbnM6IElCTSBjZXJ0aWZpZWQgQWR2YW5jZWQgZGF0YWJhc2UgYWRtaW5pc3RyYXRvcjwvbGk+JytcbiAgICAgICAgICAgICAgICAgICAgICc8L3VsPicsXG4gICAgJ3NraWxscyc6JzxwPjxzdHJvbmc+U2tpbGxzPC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPlRpcDo8L3N0cm9uZz4mbmJzcDtJbmNsdWRlIHRoZSBwcm9mZXNzaW9uYWwgc2tpbGxzIHlvdSBoYXZlIHRoYXQgYXJlIHJlbGV2YW50IGZvciB0aGUgam9iIHlvdSBhcmUgc2Vla2luZy4gQXJlIHlvdSBnb29kIHdpdGggTWljcm9zb2Z0IEV4Y2VsPyBBZGQgdGhhdCBoZXJlLiBBcmUgeW91IGEgc3Ryb25nIGxlYWRlcj8gQWRkIHRoYXQgaGVyZS4gV2UgcmVjb21tZW5kIGhhdmluZyA1LTEwIHNraWxscyBsaXN0ZWQ7IHJlbWVtYmVyIHRvIG1ha2Ugc3VyZSB0aGV5IGFyZSByZWxldmFudCBmb3IgdGhlIGpvYiB5b3UgYXJlIHNlZWtpbmcuJm5ic3A7PC9wPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPkV4YW1wbGU6PC9zdHJvbmc+Jm5ic3A7SGVyZSBpcyBhIGdyZWF0IGV4YW1wbGUgb2YgYSBza2lsbHMgc2VjdGlvbiBmb3Igc29tZW9uZSBzZWVraW5nIGFuIEFkbWluaXN0cmF0aXZlIEFzc2lzdGFudCBwb3NpdGlvbjo8L3A+JytcbiAgICAgICAgICAgICAgJzx1bD4nK1xuICAgICAgICAgICAgICAgICc8bGk+U2tpbGxzOiBXb3JkLCBFeGNlbCwgUG93ZXJQb2ludCwgc2NoZWR1bGluZywgcHJvZmVzc2lvbmFsIGNvbW11bmljYXRpb24sIG9yZ2FuaXphdGlvbiwgNjArIHdwbSB0eXBpbmcgc3BlZWQ8L2xpPicrXG4gICAgICAgICAgICAgICc8L3VsPicsXG5cbiAgICAnYXdhcmRzJzonPHA+PHN0cm9uZz5Bd2FyZHM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+RXhhbXBsZTo8L3N0cm9uZz4mbmJzcDtIZXJlIGlzIGEgYW4gZXhhbXBsZSBvZiBhIHByb2Zlc3Npb25hbCBhd2FyZCB0aGF0IGEgcGVyc29uIGFwcGx5aW5nIGZvciBhIHNhbGVzIGpvYiBtaWdodCBpbmNsdWRlOjwvcD4nK1xuICAgICAgICAgICAgICAnPHA+RW50ZXJwcmlzZSBTYWxlcyBQZXJzb24gb2YgdGhlIFllYXIgLSBPdmVyICQyNTBLIGluIGFubnVhbCBzYWxlcyAoMjAxMik8L3A+JyxcblxuICAgICdsYW5ndWFnZXMnOic8cD48c3Ryb25nPkxhbmd1YWdlczwvc3Ryb25nPjwvcD4nK1xuICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+Jm5ic3A7S25vd2luZyBhIGZvcmVpZ24gbGFuZ3VhZ2Ugc2V0cyB5b3UgYXBhcnQgZnJvbSBvdGhlciBjYW5kaWRhdGVzLiBZb3UgZG9uJiMzOTt0IGhhdmUgdG8gYmUgY29tcGxldGVseSBmbHVlbnQgdG8gaW5jbHVkZSBhIGZvcmVpZ24gbGFuZ3VhZ2Ugb24geW91ciByZXN1bWUuJm5ic3A7PC9wPicrXG4gICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5FeGFtcGxlOjwvc3Ryb25nPjwvcD4nK1xuICAgICAgICAgICAgICAgICAnPHVsPicrXG4gICAgICAgICAgICAgICAgICAgICc8bGk+U3BlYWsgc29tZSBTcGFuaXNoPyBTYXkgJnF1b3Q7QmFzaWMgb3JhbCBwcm9maWNpZW5jeSBpbiBTcGFuaXNoJnF1b3Q7PC9saT4nK1xuICAgICAgICAgICAgICAgICAgICAnPGxpPkFsbW9zdCBmbHVlbnQgaW4gRnJlbmNoPyBTYXkgJnF1b3Q7UHJvZmljaWVuY3kgaW4gRnJlbmNoJnF1b3Q7PC9saT4nK1xuICAgICAgICAgICAgICAgICAgICAnPGxpPkNvbXBsZXRlbHkgZmx1ZW50IGluIEdlcm1hbj8gU2F5ICZxdW90O1dyaXR0ZW4gYW5kIG9yYWwgZmx1ZW5jeSBpbiBHZXJtYW4mcXVvdDs8L2xpPicrXG4gICAgICAgICAgICAgICAgICAnPC91bD4nLFxuICAgICd2b2x1bnRlZXJXb3JrJzonPHA+PHN0cm9uZz5Wb2x1bnRlZXIgV29yazwvc3Ryb25nPjwvcD4nK1xuICAgICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+Jm5ic3A7Vm9sdW50ZWVyIHdvcmsgaXMgYW4gaW1wb3J0YW50IGV4cGVyaWVuY2UgdG8gaGlnaGxpZ2h0LCBhcyBpdCBkZW1vbnN0cmF0ZXMgeW91ciBjaGFyYWN0ZXIuIChOb3RlOiBJZiB5b3UgZG8gbm90IGhhdmUgYSBsb3Qgb2Ygd29yayBleHBlcmllbmNlLCB5b3UgbWF5IGNob29zZSB0byBwdXQgeW91ciB2b2x1bnRlZXIgd29yayBpbnRvIHlvdXIgUHJvZmVzc2lvbmFsIEV4cGVyaWVuY2Ugc2VjdGlvbiBpbnN0ZWFkLik8L3A+JytcbiAgICAgICAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+RXhhbXBsZTo8L3N0cm9uZz4mbmJzcDtWb2x1bnRlZXIgbWF0aCB0dXRvciBhdCBCaWcgQnJvdGhlcnMgJmFtcDsgU2lzdGVycyAoMjAwOC0yMDEyKS48L3A+JyxcblxuICAgICdwZXJzb25hbEhvYmJpZXMnOic8cD48c3Ryb25nPlBlcnNvbmFsIEhvYmJpZXM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgICAgICAgICAnPHA+PHN0cm9uZz5UaXA6PC9zdHJvbmc+IEFkZGluZyBob2JiaWVzIGNhbiBoZWxwIGh1bWFuaXplIHlvdXIgYXBwbGljYXRpb24uIEF2b2lkIGhvYmJpZXMgdGhhdCBjb3VsZCBiZSBjb25zaWRlcmVkIGNvbnRyb3ZlcnNpYWwgb3IgY291bGQgaHVydCB5b3VyIGNhbmRpZGFjeS48L3A+J1xuICB9LFxuICAnY3VzdG9tJzp7XG4gICAgJ3NlY3Rpb24nOic8cD48c3Ryb25nPkRldGFpbHM8L3N0cm9uZz48L3A+JytcbiAgICAgICAgICAgICAgJzxwPjxzdHJvbmc+VGlwOjwvc3Ryb25nPiZuYnNwO1VzZSB0aGlzIGN1c3RvbSBzZWN0aW9uIGlmIHRoZSBqb2IvaW5kdXN0cnkgcmVxdWlyZXMgc29tZXRoaW5nIGV4dHJhLiZuYnNwO0ZvciBpbnN0YW5jZSwgaWYgeW91IGhhdmUgc3BlY2lhbCBzZWN1cml0eSBjbGVhcmFuY2UgeW91IG1pZ2h0IHdhbnQgdG8gaW5jbHVkZSB0aGF0IGhlcmUuJm5ic3A7PC9wPicrXG4gICAgICAgICAgICAgICc8cD48c3Ryb25nPkV4YW1wbGU6PC9zdHJvbmc+PC9wPicrXG4gICAgICAgICAgICAgICc8dWw+JytcbiAgICAgICAgICAgICAgICAnPGxpPiZxdW90O0FjdGl2ZSBHb3Zlcm5tZW50IFNlY3VyaXR5IENsZWFyYW5jZSZxdW90OzwvbGk+JytcbiAgICAgICAgICAgICAgJzwvdWw+J1xuIH1cbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncmVzdW1lLWluZm8tdGlwcycsIFtcbiAgICAndWkuYm9vdHN0cmFwJ1xuICAsICduZ1Nhbml0aXplJ1xuXSlcbi5kaXJlY3RpdmUoJ3Jlc3VtZUluZm9UaXBzJywgWyAnJHNjZScsXG4gIGZ1bmN0aW9uICgkc2NlKXtcbiAgICBmdW5jdGlvbiBsaW5rKHNjb3BlKSB7XG4gICAgICBzY29wZS5pbmZvVGlwc1BvcG92ZXIgPSB7XG4gICAgICAgIGNvbnRlbnQ6ICRzY2UudHJ1c3RBc0h0bWwoc2NvcGUuY29udGVudCkgfHwgJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL2luZm8tdGlwcy1wb3BvdmVyLmh0bWwnXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgY29udGVudDogJ0AnLFxuICAgICAgICB9LFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL2luZm8tdGlwcy5odG1sJyxcbiAgICAgIGxpbms6IGxpbmtcbiAgICB9O1xuICB9XG5dKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8yLzE1LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tc2FtcGxlLXJlc3VtZXMnLCBbXG4gICAgJ3Jlc3VtZS1idWlsZGVyLXRwbHMnXG4gICAgLCAnYXBvbGxvLW1vZGFsLXNhbXBsZS1idXR0b24nXG4gIF0pXG4gICAgLmRpcmVjdGl2ZSgnYXBTYW1wbGVSZXN1bWVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBudW1Db2xzOiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL3NhbXBsZS1yZXN1bWVzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbiAoJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBzYW1wbGVzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvbW9kZXJuLWFjY291bnRhbnQtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnQWNjb3VudGFudCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICwge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvbW9kZXJuLWV4ZWN1dGl2ZWFzc2lzdGVudC1yZXN1bWUuaHRtbCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdFeGVjdXRpdmUgQXNzaXN0YW50J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9tb2Rlcm4tZmluYW5jaWFsLWFuYWx5c3QtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnRmluYW5jaWFsIEFuYWx5c3QnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2NsYXNzaWMtaXRtYW5hZ2VtZW50LXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ0lUIE1hbmFnZXInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2FsdGVybmF0ZS1tYW5hZ21lbnQtcHJvZmVzc2lvbmFsLXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ01hbmFnZW1lbnQgUHJvZmVzc2lvbmFsJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9jbGFzc2ljLWNvdW5zZWxpbmctcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnTWVudGFsIEhlYWx0aCAvIEJlaGF2aW9yYWwgQ291bnNlbG9yJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLCB7XG4gICAgICAgICAgICAgIHBhdGg6ICcvcmIvc2FtcGxlcy9hbHRlcm5hdGUtbnVyc2UtcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnTnVyc2UnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAsIHtcbiAgICAgICAgICAgICAgcGF0aDogJy9yYi9zYW1wbGVzL2NsYXNzaWMtc2VjdXJpdHktcHJvZmVzc2lvbmFsLXJlc3VtZS5odG1sJyxcbiAgICAgICAgICAgICAgbmFtZTogJ1NlY3VyaXR5IFByb2Zlc3Npb25hbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICwge1xuICAgICAgICAgICAgICBwYXRoOiAnL3JiL3NhbXBsZXMvYWx0ZXJhbnRlLXRlYWNoZXItcmVzdW1lLmh0bWwnLFxuICAgICAgICAgICAgICBuYW1lOiAnVGVhY2hlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIChhcnIsIHNpemUpIHtcbiAgICAgICAgICAgIGlmICghYXJyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFycmF5Q2FjaGVcbiAgICAgICAgICAgICAgLCBjYWNoZWRQYXJ0c1xuICAgICAgICAgICAgICAsIGFyclN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGFycilcbiAgICAgICAgICAgICAgLCBuZXdBcnI7XG5cblxuICAgICAgICAgICAgYXJyYXlDYWNoZSA9ICRjYWNoZUZhY3RvcnkuZ2V0KCdyYnBhcnRpdGlvbicpO1xuICAgICAgICAgICAgaWYgKCFhcnJheUNhY2hlKSB7XG4gICAgICAgICAgICAgIGFycmF5Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdyYnBhcnRpdGlvbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZWRQYXJ0cyA9IGFycmF5Q2FjaGUuZ2V0KGFyclN0cmluZyArIHNpemUpO1xuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGNhY2hlZFBhcnRzKSA9PT0gYXJyU3RyaW5nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZWRQYXJ0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3QXJyID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gc2l6ZSkge1xuICAgICAgICAgICAgICBuZXdBcnIucHVzaChhcnIuc2xpY2UoaSwgaSArIHNpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycmF5Q2FjaGUucHV0KGFyclN0cmluZyArIHNpemUsIG5ld0Fycik7XG4gICAgICAgICAgICByZXR1cm4gbmV3QXJyO1xuICAgICAgICAgIH07XG5cblxuICAgICAgICAgIHZhciBfXyA9IHRoaXM7XG4gICAgICAgICAgdmFyIG51bUNvbHMgPSBfXy5udW1Db2xzIHx8IDM7XG5cbiAgICAgICAgICBfXy5zYW1wbGVzID0gZmlsdGVyKHNhbXBsZXMsIG51bUNvbHMpO1xuICAgICAgICAgIF9fLmNvbENsYXNzID0gJ2NvbC1tZC0nICsgTWF0aC5mbG9vcigxMi9NYXRoLmNlaWwoc2FtcGxlcy5sZW5ndGgvIG51bUNvbHMpKTtcblxuICAgICAgICB9XSxcbiAgICAgICAgY29udHJvbGxlckFzOiAnc3JDdHJsJyxcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgfTtcbiAgICB9KTtcbn0pKGFuZ3VsYXIpO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgeXJnYW50YSBvbiA2LzgvMTUuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2Fwb2xsby1wcmV2aWV3LXJlc3VtZScsIFtcbiAgICAncmVzdW1lLW1vZGVsJ1xuICAgICwgJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVTZXJ2aWNlcy5jb25maWcnXG4gICAgLCAnbmdTYW5pdGl6ZSdcbiAgXSlcbiAgICAgLnZhbHVlKCdwcmludEh0bWxXaW4nLCBudWxsKSAgICAvLyBzdG9yZSB0aGUgcmVmZXJlbmNlIHRvIHByaW50IHdpbmRvd1xuICAgIC5jb250cm9sbGVyKCdSZXN1bWVQcmV2aWV3Q3RybCcsIFtcbiAgICAgICdyZXN1bWVNb2RlbCdcbiAgICAgICwgJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVTZXJ2aWNlcy5jb25maWcnXG4gICAgICAsICckc2NlJ1xuICAgICAgLCBmdW5jdGlvbiAocmVzdW1lTW9kZWwsIHJlc3VtZVNlcnZpY2VDb25maWcsICRzY2UpIHtcbiAgICAgICAgdmFyIF9fID0gdGhpcztcblxuICAgICAgICAvLyBleHBvc2UgcmVzdW1lIG1vZGVsIHRocm91Z2ggY29udHJvbGxlci5cbiAgICAgICAgX18ucmVzdW1lID0gcmVzdW1lTW9kZWwucmVzdW1lLnJlc3VtZU9iai5yZXN1bWU7XG4gICAgICAgIF9fLnRlbXBsYXRlcyA9IHJlc3VtZU1vZGVsLnRlbXBsYXRlcztcbiAgICAgICAgX18ucHJlZmVyZW5jZXMgPSByZXN1bWVNb2RlbC5wcmVmZXJlbmNlcztcbiAgICAgICAgX18uZG9jSWQgPSByZXN1bWVNb2RlbC5yZXN1bWUubWV0YS5pZDtcbiAgICAgICAgX18udGVuYW50ID0gcmVzdW1lU2VydmljZUNvbmZpZy50ZW5hbnQ7XG5cbiAgICAgICAgdmFyIHNldFRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF9fLnRlbXBsYXRlID0gcmVzdW1lTW9kZWwucmVzdW1lLnByZWZlcmVuY2VzLnJlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZSB8fCAnY2xhc3NpYyc7XG4gICAgICAgICAgX18udGVtcGxhdGVVcmwgPSAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCgnL3JiL3RlbXBsYXRlcy8nICsgX18udGVtcGxhdGUudG9Mb3dlckNhc2UoKSArICctcHJldmlldy5odG1sJyk7XG4gICAgICAgICAgX18uaHRtbFByZXZpZXdVcmwgPSAnL2FwaS9yZXN1bWUtc2VydmljZS8xLycgKyBfXy50ZW5hbnQgICsgJy91c2Vycy8nICsgX18ucHJvZmlsZUlkICsgJy9yZXN1bWUvJyArIF9fLmRvY0lkICsgJy9odG1sP3RlbXBsYXRlPScgKyBfXy50ZW1wbGF0ZS50b0xvd2VyQ2FzZSgpICsgJyZkb3dubG9hZD10cnVlJztcbiAgICAgICAgfTtcblxuICAgICAgICBzZXRUZW1wbGF0ZSgpO1xuXG4gICAgICAgIC8vIFRlbXBsYXRlIHByZWZlcmVuY2VcbiAgICAgICAgX18udXBkYXRlUHJlZmVyZW5jZSA9IGZ1bmN0aW9uICh0cGxOYW1lKSB7XG5cbiAgICAgICAgICByZXN1bWVNb2RlbC5yZXN1bWUucHJlZmVyZW5jZXMucmVzdW1lVGVtcGxhdGVQcmVmZXJlbmNlID0gdHBsTmFtZTtcblxuICAgICAgICAgIHJldHVybiByZXN1bWVNb2RlbC5zZXRQcmVmZXJlbmNlKHJlc3VtZU1vZGVsLnJlc3VtZS5tZXRhLmlkLCB7J3Jlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZSc6IHRwbE5hbWV9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzZXRUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ2FwUHJldmlld1Jlc3VtZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgcHJvZmlsZUlkOiAnPXBpZCdcbiAgICAgICAgICAsIGhpZGVFZGl0OiAnPSdcbiAgICAgICAgICAsIGVkaXQ6ICcmb25FZGl0J1xuICAgICAgICAgICwgY3RhOiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL3ByZXZpZXctcmVzdW1lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnUmVzdW1lUHJldmlld0N0cmwnLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdwdkN0cmwnLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICB9O1xuICAgIH0pXG4gICAgLy8gYWRkIGFuZCByZW1vdmUgaWZyYW1lLCBzbyB0aGF0IGl0IHdvbid0IGltcGFjdCBicm93c2VyIGhpc3RvcnlcbiAgICAvLyBUT0RPOiB3aWxsIGhhdmUgdG8gc2hvdyBsb2FkaW5nIHZpZXcsIHdoZW4gaWZyYW1lIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgIC5kaXJlY3RpdmUoJ3ByZXZpZXdJZnJhbWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMucHJldmlld0lmcmFtZSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgIHZhciBpZnJhbWVFbG0gPSAnPGlmcmFtZSB0aXRsZT1cIlJlc3VtZSBQcmV2aWV3XCIgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDB2aDtwYWRkaW5nOjA7XCIgIGNsYXNzPVwicGFwZXJcIiBzcmM9XCInKyBuZXdWYWwgKydcIj48L2lmcmFtZT4nO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnaWZyYW1lJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoaWZyYW1lRWxtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0pXG4gICAgLy8gbG9naWMgaXMgc2FtZSBhcyBpbXBsZW1udGVkIGluIENHUzIuMFxuICAgIC5kaXJlY3RpdmUoJ3ByaW50UmVzdW1lJywgWyckd2luZG93JywgJ3ByaW50SHRtbFdpbicsIGZ1bmN0aW9uICgkd2luZG93LCBwcmludEh0bWxXaW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VtZVBhdGggPSBhdHRycy5wcmludFJlc3VtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmludEh0bWxXaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50SHRtbFdpbiA9ICR3aW5kb3cub3BlbihyZXN1bWVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50SHRtbFdpbi5kb2N1bWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRIdG1sV2luLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmludEh0bWxXaW4ub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRIdG1sV2luLnByaW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50SHRtbFdpbi5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50SHRtbFdpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50SHRtbFdpbi5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRIdG1sV2luLnByaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XSk7XG59KShhbmd1bGFyKTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIC8qKlxuICAgKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8zLzE1LlxuICAgKi9cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tbGlzdC1yZXN1bWVzJywgW1xuICAgICdyZXN1bWUtbW9kZWwnXG4gICAgLCAndWkuYm9vdHN0cmFwJ1xuICAgICwgJ3Jlc3VtZS1idWlsZGVyLXRwbHMnXG4gICAgLCAncmVzdW1lLXV0aWxzJ1xuICAgICwgJ25nRmlsZVVwbG9hZCdcbiAgXSkuY29udHJvbGxlcignUmVzdW1lTGlzdEN0cmwnLCAgW1xuICAgICAgJyR0ZW1wbGF0ZUNhY2hlJ1xuICAgICAgLCAncmVzdW1lTW9kZWwnXG4gICAgICAsICckdWliTW9kYWwnXG4gICAgICAsICckcSdcbiAgICAgICwgJyRzY29wZSdcbiAgICAgICwgJ3Jlc3VtZS11dGlscydcbiAgICAgICwgJyRmaWx0ZXInXG4gICAgICAsICckcGFyc2UnXG4gICAgICAsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgcmVzdW1lTW9kZWwsICRtb2RhbCwgJHEsICRzY29wZSwgdXRpbHMsICRmaWx0ZXIsICRwYXJzZSkge1xuXG4gICAgICAgIHZhciBfXyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXhSZXN1bWVMaW1pdCA9IDI1OyAgLy8gbWF4IG51bWJlciBvZiBwZXJtaXNzaWJsZSByZXN1bWVzXG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGEgbm9vcCBmdW5jIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICAgIF9fLmVkaXQgPSBfXy5lZGl0IHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgX18ucHJldmlldyA9IF9fLnByZXZpZXcgfHwgYW5ndWxhci5ub29wO1xuICAgICAgICBfXy5jb21wbGV0ZSA9IF9fLmNvbXBsZXRlIHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgX18uc2VsZWN0aW9uQ29tcGxldGUgPSBfXy5zZWxlY3Rpb25Db21wbGV0ZSB8fCBhbmd1bGFyLm5vb3A7XG4gICAgICAgIF9fLmlzS25vd24gPSBfXy5pc0tub3duIHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgX18uZnJvbVNjcmF0Y2ggPSBfXy5mcm9tU2NyYXRjaCB8fCBhbmd1bGFyLm5vb3A7XG4gICAgICAgIF9fLmZyb21GUyA9IF9fLmZyb21GUyB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgJHNjb3BlLm1vZGVsID0gcmVzdW1lTW9kZWw7XG4gICAgICAgICRzY29wZS5oYXNNYXhlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdW1lTW9kZWwucmVzdW1lTGlzdC5sZW5ndGggPj0gbWF4UmVzdW1lTGltaXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtb2RlbCBmb3IgYSBnaXZlbiBwcm9maWxlSWQuXG4gICAgICAgIF9fLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHJlc3A7XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIHZpZXcgdG8gdXNlIHdoaWxlIGRpc3BsYXlpbmcuXG4gICAgICAgICAgX18udmlldyA9IF9fLm1pbmkgPyAnbWluaScgOiAnJztcblxuICAgICAgICAgIC8vIGlmIGluIGtub3duIHN0YXRlLCByZXR1cm4gaW1tZWRpYXRlbHkgdG8gYXZvaWQgYW55IHNlcnZpY2UgNDAzLzQwMSBlcnJvcnNcbiAgICAgICAgICByZXNwID0gJHEud2hlbihfXy5pc0tub3duKCkgPyBbXSA6IHJlc3VtZU1vZGVsLmluaXQoX18ucHJvZmlsZUlkKSlcbiAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAvLyBXYXRjaCB0aGUgbW9kZWwgZm9yIGNoYW5nZXMgYW5kIHVwZGF0ZSB0aGUgcmVmZXJlbmNlcyBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgIC8vIHRvIG5ldyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbW9kZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gRXhwb3NlIHRoZSBsaXN0IG9mIHJlc3VtZXMgcmV0cmlldmVkIHRvIERPTSB0aHJvdWdoIGNvbnRyb2xsZXIuXG4gICAgICAgICAgICAgICAgX18ucmVzdW1lTGlzdCA9IHJlc3VtZU1vZGVsLnJlc3VtZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICAvLyBFeHBvc2UgdGhlIHNpemUgb2YgcmVzdW1lIGxpc3QuXG4gICAgICAgICAgICAgICAgX18uc2l6ZSh7c2l6ZTogcmVzdW1lTW9kZWwucmVzdW1lTGlzdCA/IHJlc3VtZU1vZGVsLnJlc3VtZUxpc3QubGVuZ3RoIDogMH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHdoZXRoZXIga25vd25cbiAgICAgICAgICAgICAgICBfXy5rbm93biA9IF9fLmlzS25vd24oKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAvLyBJbnZva2UgYW55IGNhbGxiYWNrIGJvdW5kIHdpdGggdGhlIHByb21pc2VcbiAgICAgICAgICBfXy5jb21wbGV0ZSh7cHJvbWlzZTogcmVzcH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVkaXRWaWV3IEluaXRpYWxpemVzIHJlc3VtZSBmb3IgdXNlciB0byBlZGl0LlxuICAgICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgYSBwcm9taXNlIG9iamVjdC4gVG8gYmUgdXNlZCBieSB2aWV3cyB0b1xuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGNvbXBsZXRlIGZvciBtb2RlbCBiZWZvcmUgbGV0dGluZyB1c2VyIGludGVyYWN0IHdpdGggdmlldy5cbiAgICAgICAgICovXG4gICAgICAgIF9fLnZpZXdFZGl0b3IgPSBmdW5jdGlvbiAobWV0YUluZm8pIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXVxuICAgICAgICAgICAgLCByZXNwO1xuXG4gICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgaWYgKF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLnZpZXdFZGl0b3IsIFttZXRhSW5mb10pfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvbWlzZXMucHVzaChyZXN1bWVNb2RlbC5nZXQobWV0YUluZm8pKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldFByZWZlcmVuY2VzKG1ldGFJbmZvLmlkKSk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChyZXN1bWVNb2RlbC5nZXRDb3VudHJ5TGlzdCgpKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldFN0YXRlcygpKTtcblxuICAgICAgICAgIHJlc3AgPSAkcS5hbGwocHJvbWlzZXMpO1xuXG5cbiAgICAgICAgICAvLyBJbnZva2UgYW55IGNhbGxiYWNrIGJvdW5kIHdpdGggdGhlIHByb21pc2VcbiAgICAgICAgICBfXy5lZGl0KHtwcm9taXNlOiByZXNwfSk7XG5cbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBDcmVhdGUgYSBkdXBsaWNhdGUgb2YgYW4gZXhpc3RpbmcgcmVzdW1lIHdoZW4gdXNlciBlbnRlcnMgYSB1c2VyXG4gICAgICAgICAqIG5hbWUgZm9yIHJlc3VtZS5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIF9fLmNyZWF0ZUR1cGxpY2F0ZSA9IGZ1bmN0aW9uIChtZXRhSW5mbykge1xuICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlXG4gICAgICAgICAgICAsIG1TY29wZTtcblxuICAgICAgICAgIC8vIGNoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgICAgICAgIGlmIChfXy5pc0tub3duKCkpIHtcbiAgICAgICAgICAgIChfXy5hdXRoZW50aWNhdGUgfHwgYW5ndWxhci5ub29wKSh7Y2FsbGJhY2s6IHV0aWxzLmNsb3N1cmVGdW5jdGlvbihfXy5jcmVhdGVEdXBsaWNhdGUsIFttZXRhSW5mb10pfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbVNjb3BlID0gJHNjb3BlLiRuZXcoKTtcblxuICAgICAgICAgIG1TY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAobGFiZWwpIHtcblxuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgIG1TY29wZS5pblZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgLy9yZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAnbmV3JywgbmFtZTogbGFiZWx9KVxuICAgICAgICAgICAgICByZXN1bWVNb2RlbC5jcmVhdGVEdXBsaWNhdGUobWV0YUluZm8uaWQsIGxhYmVsKVxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBtb2RhbCBvbmNlIHRoZSByZXN1bWUgaXMgc2F2ZWRcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgbVNjb3BlLmluVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1TY29wZS5lcnJvciA9IGVyci5kYXRhLmZpZWxkRXJyb3JzWzBdLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtU2NvcGUuZXJyb3IgPSAnT29wcy4uc29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIHRyeSBhZ2Fpbi4nO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1TY29wZS5lcnJvciA9ICdSZXN1bWUgdGl0bGUgY2Fubm90IGJlIGxlZnQgZW1wdHknO1xuICAgICAgICAgICAgICBtU2NvcGUuaW5WYWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuXG4gICAgICAgICAgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3JiL3RlbXBsYXRlcy9kdXAtcmVzdW1lLWNvbmZpcm1hdGlvbi5odG1sJ1xuICAgICAgICAgICAgLy8sIHNpemU6ICdzbSdcbiAgICAgICAgICAgICwgYmFja2Ryb3A6IHRydWVcbiAgICAgICAgICAgICwgc2NvcGU6IG1TY29wZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX18uY29tcGxldGUoe3Byb21pc2U6IG1vZGFsSW5zdGFuY2UucmVzdWx0fSk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGVsZXRlUmVzdW1lIERlbGV0ZXMgY3VycmVudCB1c2VyIHJlc3VtZVxuICAgICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgYSBwcm9taXNlIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIF9fLmNvbmZpcm0gPSBmdW5jdGlvbiAobWV0YUluZm8pIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICBpZiAoX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAoX18uYXV0aGVudGljYXRlIHx8IGFuZ3VsYXIubm9vcCkoe2NhbGxiYWNrOiB1dGlscy5jbG9zdXJlRnVuY3Rpb24oX18uY29uZmlybSwgW21ldGFJbmZvXSl9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdG1wU2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuICAgICAgICAgIHRtcFNjb3BlLnF1ZXN0aW9uID0gJ0RvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGUgdGhlIHJlc3VtZT8nO1xuXG5cbiAgICAgICAgICB2YXIgcmVzcCA9ICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3JiL3RlbXBsYXRlcy9kZWxldGUtcmVzdW1lLWNvbmZpcm0uaHRtbCdcbiAgICAgICAgICAgICwgc2l6ZTogJ3NtJ1xuICAgICAgICAgICAgLCBiYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgICAgLCBzY29wZTogdG1wU2NvcGVcbiAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChib2wpIHtcbiAgICAgICAgICAgICAgaWYgKGJvbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bWVNb2RlbC5kZWxldGUobWV0YUluZm8uaWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIF9fLmNvbXBsZXRlKHtwcm9taXNlOiByZXNwfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dXAgcHJldmlldyBwYXJhbWV0ZXJzIG9uIHJlc3VtZSBtb2RlbC5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIF9fLnZpZXdQcmV2aWV3ID0gZnVuY3Rpb24gKG1ldGFJbmZvKSB7XG4gICAgICAgICAgdmFyIHAgPSBbXVxuICAgICAgICAgICAgLCByZXNwO1xuXG4gICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgaWYgKF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLnZpZXdQcmV2aWV3LCBbbWV0YUluZm9dKX0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlcXVlc3QgcmVzdW1lIG9iaiBhbmQgcXVldWUgaXQgdXAuXG4gICAgICAgICAgcC5wdXNoKHJlc3VtZU1vZGVsLmdldChtZXRhSW5mbykpO1xuXG4gICAgICAgICAgLy8gTWFrZSB0aGUgcmVxdWVzdCB0byBnZXQgcmVzdW1lIHByZWZlcmVuY2UgYW5kIHF1ZXVlIGl0IHVwLlxuICAgICAgICAgIHAucHVzaChyZXN1bWVNb2RlbC5nZXRQcmVmZXJlbmNlcyhtZXRhSW5mby5pZCkpO1xuXG4gICAgICAgICAgLy8gV3JhcCB0aGUgdGhlIHF1ZXVlZCBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2VcbiAgICAgICAgICByZXNwID0gJHEuYWxsKHApO1xuXG4gICAgICAgICAgX18ucHJldmlldyh7cHJvbWlzZTogcmVzcH0pO1xuXG4gICAgICAgIH07XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogUHVibGlzaCBhIHJlc3VtZSB0byBiZSBwdWJsaWMgd2hpbGUgcmVzZXR0aW5nIHJlbWFpbmluZ1xuICAgICAgICAgKiByZXN1bWVzIHRvIHByaXZhdGUuXG4gICAgICAgICAqL1xuICAgICAgICBfXy5wdWJsaXNoID0gZnVuY3Rpb24gKG1ldGFJbmZvKSB7XG5cbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICBpZiAoX18uaXNLbm93bigpKSB7XG4gICAgICAgICAgICAoX18uYXV0aGVudGljYXRlIHx8IGFuZ3VsYXIubm9vcCkoe2NhbGxiYWNrOiB1dGlscy5jbG9zdXJlRnVuY3Rpb24oX18ucHVibGlzaCwgW21ldGFJbmZvXSl9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVzcCA9IHJlc3VtZU1vZGVsLnNldFByZWZlcmVuY2UobWV0YUluZm8uaWQsIHsnc2VhcmNoYWJsZSc6IChtZXRhSW5mby5wcml2YWN5U2V0dGluZyA9PT0gJ1BSSVZBVEUnKX0pXG4gICAgICAgICAgICAudGhlbihyZXN1bWVNb2RlbC5nZXRNZXRhSW5mbylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX18ucmVzdW1lTGlzdCA9IHJlc3VtZU1vZGVsLnJlc3VtZUxpc3Q7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIF9fLmNvbXBsZXRlKHtwcm9taXNlOiByZXNwfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZE1ldGFJbmZvKGxhYmVsKSB7XG4gICAgICAgICAgdmFyIHByb21pc2VzID0gW107XG5cbiAgICAgICAgICAvLyBmaWx0ZXIgZm9yIGN1cnJlbnRseSB1cGxvYWRlZCBkb2MgbWV0YSBpbmZvXG4gICAgICAgICAgdmFyIG1ldGFJbmZvID0gJGZpbHRlcignZmlsdGVyJykocmVzdW1lTW9kZWwucmVzdW1lTGlzdCwgeydsYWJlbCc6IGxhYmVsfSk7XG5cbiAgICAgICAgICBpZiAobWV0YUluZm8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBtZXRhSW5mbyA9IG1ldGFJbmZvWzBdO1xuXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldChtZXRhSW5mbykpO1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyZXN1bWVNb2RlbC5nZXRQcmVmZXJlbmNlcyhtZXRhSW5mby5pZCkpO1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyZXN1bWVNb2RlbC5nZXRDb3VudHJ5TGlzdCgpKTtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVzdW1lTW9kZWwuZ2V0U3RhdGVzKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd01heExpbWl0RXJyb3IoKSB7XG4gICAgICAgICAgdmFyIHRtcFNjb3BlO1xuICAgICAgICAgIHRtcFNjb3BlID0gJHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICB0bXBTY29wZS5tZXNzYWdlID0gJ1lvdSBoYXZlIGV4Y2VlZGVkIHRoZSBtYXhpbXVtIG51bWJlciBvZiAnKyBtYXhSZXN1bWVMaW1pdCArICcgcmVzdW1lcyBhbGxvd2VkLic7XG4gICAgICAgICAgJG1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL3Jlc3VtZS1saW1pdC1lcnJvci5odG1sJ1xuICAgICAgICAgICAgLCBiYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgICAgLCBzY29wZTogdG1wU2NvcGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgcmVzdW1lIGZyb20gc2NyYXRjaFxuICAgICAgICAgKi9cbiAgICAgICAgX18uZnJvbVNjcmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihfXy5pc0tub3duKSAmJiBfXy5pc0tub3duKCkpIHtcbiAgICAgICAgICAgIChfXy5hdXRoZW50aWNhdGUgfHwgYW5ndWxhci5ub29wKSh7Y2FsbGJhY2s6IF9fLmZyb21TY3JhdGNofSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2VcbiAgICAgICAgICAgICwgbVNjb3BlO1xuXG4gICAgICAgICAgbVNjb3BlID0gJHNjb3BlLiRuZXcoKTtcblxuICAgICAgICAgIG1TY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoJGV2ZW50LCBsYWJlbCkge1xuICAgICAgICAgICAgJGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgbVNjb3BlLmluVmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAnbmV3JywgbmFtZTogbGFiZWx9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2FkTWV0YUluZm8obGFiZWwpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgdGhlIG1vZGFsIG9uY2UgdGhlIHJlc3VtZSBpcyBzYXZlZFxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UocmVzdW1lTW9kZWwucmVzdW1lLm1ldGEuaWQgPyAnU3VjY2VzcycgOiAnRmFpbCcpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8udGhlbihyZXN1bWVNb2RlbC5pbml0KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICBzaG93TWF4TGltaXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1TY29wZS5lcnJvciA9ICdSZXN1bWUgdGl0bGUgaXMgcmVxdWlyZWQuJztcbiAgICAgICAgICAgICAgbVNjb3BlLmluVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cblxuICAgICAgICAgIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvbmV3LXJlc3VtZS1jb25maXJtYXRpb24uaHRtbCdcbiAgICAgICAgICAgIC8vLCBzaXplOiAnc20nXG4gICAgICAgICAgICAsIGJhY2tkcm9wOiB0cnVlXG4gICAgICAgICAgICAsIHNjb3BlOiBtU2NvcGVcbiAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgX18uc2VsZWN0aW9uQ29tcGxldGUoe3Byb21pc2U6IG1vZGFsSW5zdGFuY2UucmVzdWx0fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyByZXN1bWUgYnkgdXBsb2FkaW5nIGEgZmlsZVxuICAgICAgICAgKi9cbiAgICAgICAgX18uZnJvbUZTID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKF9fLmlzS25vd24pICYmIF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLmZyb21TY3JhdGNoLCBbZGF0YV0pfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHByb21pc2U7XG4gICAgICAgICAgJHNjb3BlLnVwbG9hZEVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAndXBsb2FkJywgZGF0YTogZGF0YX0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZE1ldGFJbmZvKCRwYXJzZSgnbmFtZScpKGRhdGEpKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnc3VjY2Vzcyc7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgIHNob3dNYXhMaW1pdEVycm9yKCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEVycm9yID0gcmVzcC5kYXRhLmZpZWxkRXJyb3JzWzBdLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF9fLnNlbGVjdGlvbkNvbXBsZXRlKHtwcm9taXNlOiBwcm9taXNlfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnYXBMaXN0UmVzdW1lcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgcHJvZmlsZUlkOiAnPXBpZCdcbiAgICAgICAgICAsIG1pbmk6ICc9J1xuICAgICAgICAgICwgJ2VkaXQnOiAnJm9uRWRpdCdcbiAgICAgICAgICAsICdwcmV2aWV3JzogJyZvblByZXZpZXcnXG4gICAgICAgICAgLCAnc2l6ZSc6ICcmJ1xuICAgICAgICAgICwgJ2NvbXBsZXRlJzogJyZvbkNvbXBsZXRlJ1xuICAgICAgICAgICwgJ3NlbGVjdGlvbkNvbXBsZXRlJzogJyZvblNlbGVjdGlvbkNvbXBsZXRlJ1xuICAgICAgICAgICwgaXNLbm93bjogJyYnXG4gICAgICAgICAgLCAnYXV0aGVudGljYXRlJzogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3JiL3RlbXBsYXRlcy9saXN0LXJlc3VtZXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdSZXN1bWVMaXN0Q3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2xyQ3RybCcsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgIH07XG4gICAgfSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgeXJnYW50YSBvbiA2LzMvMTUuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnYXBvbGxvLXJlc3VtZS1lZGl0b3InLCBbXG4gICAgJ3VpLmJvb3RzdHJhcCdcbiAgICAsICdyZXN1bWUtYnVpbGRlci10cGxzJ1xuICAgICwgJ3Jlc3VtZS1tb2RlbCdcbiAgICAvLywgJ3J0ZS1hbmd1bGFyJ1xuICAgICwgJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyLkluZm9UaXBzQ29udGVudCdcbiAgICAsICdyZXN1bWUtaW5mby10aXBzJ1xuICAgICwgJ25nRHJhZ0Ryb3AnXG4gICAgLCAndGV4dEFuZ3VsYXInXG4gIF0pXG4gICAgLmRpcmVjdGl2ZSgnYXBSZXN1bWVFZGl0b3InLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgcHJvZmlsZUlkOiAnPXBpZCdcbiAgICAgICAgICAsIGRlbGV0ZTogJyZvbkRlbGV0ZSdcbiAgICAgICAgICAsIHByZXZpZXc6ICcmb25QcmV2aWV3J1xuICAgICAgICAgICwgc2F2ZTogJyZvblNhdmUnXG4gICAgICAgICAgLCBmYWlsOiAnJm9uRmFpbCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL2VkaXRvci5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogW1xuICAgICAgICAgICckc2NvcGUnXG4gICAgICAgICAgLCAncmVzdW1lTW9kZWwnXG4gICAgICAgICAgLCAnJGxvZydcbiAgICAgICAgICAsICckdWliTW9kYWwnXG4gICAgICAgICAgLCAnYXBvbGxvQW5ndWxhclJlc3VtZUJ1aWxkZXIuY29uZmlnJ1xuICAgICAgICAgICwgJ0lORk9USVBTQ09OVEVOVCdcbiAgICAgICAgICAsICckZG9jdW1lbnQnXG4gICAgICAgICAgLCAnJHBhcnNlJ1xuICAgICAgICAgICwgJyR0aW1lb3V0J1xuICAgICAgICAgICwgJyRxJ1xuICAgICAgICAgICwgJyRpbnRlcnZhbCdcbiAgICAgICAgICAsICckZmlsdGVyJ1xuICAgICAgICAgICwgJyRyb290U2NvcGUnXG4gICAgICAgICAgLCAnJHN0YXRlJ1xuICAgICAgICAgICwgJ3Jlc3VtZS11dGlscydcbiAgICAgICAgICAsICdERUZBVUxUX0NPVU5UUlknXG4gICAgICAgICAgLCBmdW5jdGlvbiAoJHNjb3BlLCByZXN1bWVNb2RlbCwgJGxvZywgJG1vZGFsLCByYkNvbmZpZywgSU5GT1RJUFNDT05URU5ULCAkZG9jdW1lbnQsICRwYXJzZSwgJHRpbWVvdXQsICRxLCAkaW50ZXJ2YWwsICRmaWx0ZXIsICRyb290U2NvcGUsICRzdGF0ZSwgdXRpbHMsIERFRkFVTFRfQ09VTlRSWSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgICAgICAgICAvLyBMaXN0IG9mIGF2YWlsYWJsZSBzZWN0aW9ucyB0aGUgdXNlciBjYW4gYWRkLlxuICAgICAgICAgICAgICAsIF9zZWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAnc3VtbWFyeSc6ICdzdW1tYXJ5J1xuICAgICAgICAgICAgICAgICwgJ2V4cGVyaWVuY2UnOiAnZXhwZXJpZW5jZSdcbiAgICAgICAgICAgICAgICAsICdlZHVjYXRpb24nOiAnZWR1Y2F0aW9uJ1xuICAgICAgICAgICAgICAgICwgJ3NraWxscyc6ICdhZGRpdGlvbmFsIGluZm8nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExpc3Qgb2Ygc3ViIHNlY3Rpb25zIGF2YWlsYWJsZSB0byB1c2VyIGluaXRpYWxseS5cbiAgICAgICAgICAgICAgLCBfc2tpbGxzID0ge1xuICAgICAgICAgICAgICAgICAnYXdhcmRzJzogJ2F3YXJkcydcbiAgICAgICAgICAgICAgICAsICdjZXJ0aWZpY2F0aW9ucyc6ICdjZXJ0aWZpY2F0aW9ucydcbiAgICAgICAgICAgICAgICAsICdwZXJzb25hbEhvYmJpZXMnOiAnaG9iYmllcydcbiAgICAgICAgICAgICAgICAsICdsYW5ndWFnZXMnOiAnbGFuZ3VhZ2VzJ1xuICAgICAgICAgICAgICAgIC8vLCAnaG9iYmllcyc6ICdwZXJzb25hbEhvYmJpZXMnXG4gICAgICAgICAgICAgICAgLCdza2lsbHMnOiAnc2tpbGxzJ1xuICAgICAgICAgICAgICAgIC8vLCAndm9sdW50ZWVyJzogJ3ZvbHVudGVlcldvcmsnXG4gICAgICAgICAgICAgICAgLCAndm9sdW50ZWVyV29yayc6ICd2b2x1bnRlZXInXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLCBfbW9kZWxcbiAgICAgICAgICAgICAgLCBhdXRvU2F2ZVByb21pc2U7XG5cbiAgICAgICAgICAgIHNlbGYudHJhbnMgPSB7XG4gICAgICAgICAgICAgICdza2lsbHNfc3Vic2VjdGlvbic6ICdza2lsbHMnXG4gICAgICAgICAgICAgICwgJ3NraWxscyc6ICdza2lsbHMnXG4gICAgICAgICAgICAgICwgJ2F3YXJkcyc6ICdhd2FyZHMnXG4gICAgICAgICAgICAgICwgJ2NlcnRpZmljYXRpb25zJzogJ2NlcnRpZmljYXRpb25zJ1xuICAgICAgICAgICAgICAsICdsYW5ndWFnZXMnOiAnbGFuZ3VhZ2VzJ1xuICAgICAgICAgICAgICAsICdob2JiaWVzJzogJ3BlcnNvbmFsSG9iYmllcydcbiAgICAgICAgICAgICAgLy8sICdwZXJzb25hbEhvYmJpZXMnOiAnaG9iYmllcydcbiAgICAgICAgICAgICAgLCAndm9sdW50ZWVyJzogJ3ZvbHVudGVlcldvcmsnXG4gICAgICAgICAgICAgIC8vLCAndm9sdW50ZWVyV29yayc6ICd2b2x1bnRlZXInXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmlzUmVhZHkgPSBhbmd1bGFyLmlzT2JqZWN0KHJlc3VtZU1vZGVsLnJlc3VtZSk7XG4gICAgICAgICAgICBzZWxmLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZGVmYXVsdENvdW50cnkgPSBERUZBVUxUX0NPVU5UUlk7XG5cbiAgICAgICAgICAgIHNlbGYuSW5mb1RpcHNDb250ZW50ID0gYW5ndWxhci5leHRlbmQoe30sIElORk9USVBTQ09OVEVOVCk7XG5cbiAgICAgICAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIGN1cnJlbnQgcmVzdW1lIG9iamVjdCB0byBkZWNvdXBsZSBpdCBmcm9tXG4gICAgICAgICAgICAvLyBhY3R1YWwgbW9kYWwgdXNlIHRoaXMgZGVjb3VwbGVkIG1vZGVsIHRvIGF1dG8gc2F2ZS5cbiAgICAgICAgICAgIF9tb2RlbCA9IGFuZ3VsYXIuY29weShyZXN1bWVNb2RlbC5yZXN1bWUpO1xuXG4gICAgICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lTWV0YSA9IF9tb2RlbC5yZXN1bWVPYmo7XG5cbiAgICAgICAgICAgICAgLy91cGRhdGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgICAgcmVzdW1lTW9kZWwudXBkYXRlRGVmYXVsdFZhbHVlcyhfbW9kZWwucmVzdW1lT2JqKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lID0gX21vZGVsLnJlc3VtZU9iai5yZXN1bWU7XG4gICAgICAgICAgICAgIHNlbGYuY291bnRyaWVzID0gX21vZGVsLmNvdW50cmllcztcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZXMgPSBfbW9kZWwuc3RhdGVzO1xuXG4gICAgICAgICAgICAgIC8vIENvcHkgb3ZlciBzdWIgc2VjdGlvbnMgdG8gY29udHJvbGxlciBvYmouXG4gICAgICAgICAgICAgIHNlbGYuc2tpbGxzID0gYW5ndWxhci5jb3B5KHV0aWxzLnNvcnRCeVZhbHVlKF9za2lsbHMpKTtcblxuICAgICAgICAgICAgICAvLyBGb3IgcmVhc29ucyB1bmtub3duIGFkZGl0aW9uYWwgc2tpbGxzIGhhdmUgZGlmZmVyZW50IGRhdGEgdHlwZXMgdG8gc3RvcmluZy5cbiAgICAgICAgICAgICAgLy8gT25lIGFjY2VwdHMgYW5kIGFycmF5IHR5cGUgYW5kIHJlc3QgYXJlIGNvbW1hIHNlcGFyYXRlZCBzdHJpbmdzLlxuICAgICAgICAgICAgICB2YXIgc2tpbGxzID0gc2VsZi5yZXN1bWUuc2tpbGxzO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIHNraWxsIGluIHNraWxscykge1xuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KHNraWxsc1tza2lsbF0pKSB7XG4gICAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdID0gc2tpbGxzW3NraWxsXS5sZW5ndGggPiAwID8gc2tpbGxzW3NraWxsXS5zcGxpdCgnLCcpIDogW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ29weSBvdmVyIHNlY3Rpb25zIGFuZCBzdWIgc2VjdGlvbnMgb3ZlciB0byBjb250cm9sbGVyIGZvciBkaXNwbGF5XG4gICAgICAgICAgICAgIHNlbGYuc2VjdGlvbnMgPSBhbmd1bGFyLmNvcHkoX3NlY3Rpb25zKTtcblxuICAgICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSBzZWxmLnJlc3VtZS5zZWN0aW9ucztcblxuICAgICAgICAgICAgICB2YXIgblR5cGUsIG5zVHlwZTtcbiAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggc2VjdGlvbiB0byBkZXRlcm1pbmUgdGhlIG5ldyBsaXN0XG4gICAgICAgICAgICAgIC8vIG9mIHNlY3Rpb25zIGFuZCBzdWIgc2VjdGlvbiB0aGF0IHVzZXIgY2FuIGFkZC5cbiAgICAgICAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc2VjKSB7XG4gICAgICAgICAgICAgICAgblR5cGUgPSBzZWMudHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFraW5nIHN1cmUgd2Ugc2hvdyBzZWN0aW9ucyB0aGF0IHVzZXIgaGFzIHNhdmVkIGFuZFxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSBsaXN0IG9mIHNlY3Rpb25zIHVzZXIgY2FuIGFkZCBiYXNlZCBvbiB0aGlzLlxuICAgICAgICAgICAgICAgIGlmIChfc2VjdGlvbnNbblR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5zZWN0aW9uc1tuVHlwZV07XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHNraWxscyBpcyBvbmUgb2YgdGhlIHNlY3Rpb25zIHRoYXQgaXMgb24gdGhlaXJcbiAgICAgICAgICAgICAgICAgIC8vIHJlc3VtZSBsZXRzIGdvIGFoZWFkIGFuZCBidWlsZCB0aGUgbGlzdCBvZiBzdWIgc2VjdGlvbnNcbiAgICAgICAgICAgICAgICAgIC8vIHRoYXQgY2FuIGJlIGFkZGVkLlxuICAgICAgICAgICAgICAgICAgaWYgKG5UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdza2lsbHMnICYmIGFuZ3VsYXIuaXNBcnJheShzZWMuc3ViU2VjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlYy5zdWJTZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzcykge1xuICAgICAgICAgICAgICAgICAgICAgIG5zVHlwZSA9IHNzLnR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChfc2tpbGxzW3NlbGYudHJhbnNbbnNUeXBlXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNraWxsc1tzZWxmLnRyYW5zW25zVHlwZV1dO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBjb252ZXJ0IGRhdGUgc3RyaW5nIG9mIGZyb20gZXhwZXJpZW5jZSBhbmQgZWR1Y2F0aW9uIHNlY3Rpb25zIG9mIHJlc3VtZSB0byBzdHJpbmdcbiAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyhzZWxmLnJlc3VtZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICRzY29wZS5hdXRvU2F2ZSgpO1xuXG4gICAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChhdXRvU2F2ZVByb21pc2UpO1xuICAgICAgICAgICAgICAgIC8vIFVuIHJlZ2lzdGVyIHRoZSBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy9DR1MtNTAzIEF1dG8gc2F2ZSBhZnRlciBjaGFuZ2UgaW4gc2VjdGlvbnMgb3JkZXJcbiAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYucmVzdW1lLnNlY3Rpb25zO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKG5ld1ZhbCwgb2xkVmFsKSkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICAgIHZhciBsZWF2ZVBhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wTW9kZWwgPSBhbmd1bGFyLmNvcHkoX21vZGVsKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhbnNmb3JtU2tpbGxzQXJyYXkyU3RyKHRtcE1vZGVsLnJlc3VtZU9iai5yZXN1bWUuc2tpbGxzKTtcbiAgICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybUFsbERhdGVzKHRtcE1vZGVsLnJlc3VtZU9iai5yZXN1bWUsIGZhbHNlLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIFNob3cgcG9wIG9ubHkgaWYgdGhlcmUgYXJlIHVuc2F2ZWQgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICBpZiAocmVzdW1lTW9kZWwucmVzdW1lLnJlc3VtZU9iaiAmJiBzZWxmLmlzRGlydHkgJiYgIWxlYXZlUGFnZSAmJiBmcm9tUGFyYW1zLnRvb2xJZCA9PT0gJ3Jlc3VtZUJ1aWxkZXInICYmIGZyb21QYXJhbXMudmlld0lkID09PSAnZWRpdG9yJykge1xuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlUmVzdW1lKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIGxlYXZlUGFnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKHRvU3RhdGUsIHRvUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBhbGwgZGF0ZXMgdG8gZnJvbSBkYXRlL3N0cmluZ1xuICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyA9IGZ1bmN0aW9uIChvYmosIGNvbnZlcnRUb1N0cikge1xuICAgICAgICAgICAgICAvLyBjb252ZXJ0IGRhdGUgc3RyaW5nIG9mIGZyb20gZXhwZXJpZW5jZSBhbmQgZWR1Y2F0aW9uIHNlY3Rpb25zIG9mIHJlc3VtZS5cbiAgICAgICAgICAgICAgaWYgKCRwYXJzZSgnZXhwZXJpZW5jZS5qb2JzJykob2JqKSkge1xuICAgICAgICAgICAgICAgIHNlbGYudHJhbnNmb3JtRGF0ZShvYmouZXhwZXJpZW5jZS5qb2JzLCAnc3RhcnREYXRlJywgJ2VuZERhdGUnLCBjb252ZXJ0VG9TdHIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCRwYXJzZSgnZWR1Y2F0aW9uLnNjaG9vbHMnKShvYmopKSB7XG4gICAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1EYXRlKG9iai5lZHVjYXRpb24uc2Nob29scywgJ3N0YXJ0RGF0ZScsICdjb21wbGV0aW9uRGF0ZScsIGNvbnZlcnRUb1N0cik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgc3RvcmVkIElTTyBzdHJpbmcgdG8gZGF0ZSBvYmplY3Qgb3Igc3RyaW5nLlxuICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1EYXRlID0gZnVuY3Rpb24gKGxpc3QsIHByb3AxLCBwcm9wMiwgY29udmVydFRvU3RyKSB7XG4gICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wRGF0ZTtcblxuICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbVtwcm9wMV0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJ0VG9TdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW1bcHJvcDFdID0gKGxpc3RJdGVtW3Byb3AxXSkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBEYXRlID0gbmV3IERhdGUobGlzdEl0ZW1bcHJvcDFdKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wRGF0ZS5zZXRUaW1lKHRtcERhdGUuZ2V0VGltZSgpICsgdG1wRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbVtwcm9wMV0gPSB0bXBEYXRlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbVtwcm9wMl0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJ0VG9TdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW1bcHJvcDJdID0gbGlzdEl0ZW1bcHJvcDJdID8gKGxpc3RJdGVtW3Byb3AyXSkudG9JU09TdHJpbmcoKSA6IGxpc3RJdGVtW3Byb3AyXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBEYXRlID0gbmV3IERhdGUobGlzdEl0ZW1bcHJvcDJdKTtcbiAgICAgICAgICAgICAgICAgICAgdG1wRGF0ZS5zZXRUaW1lKHRtcERhdGUuZ2V0VGltZSgpICsgdG1wRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbVtwcm9wMl0gPSB0bXBEYXRlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmNvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIChmbiwgYXJyUGFyYW1zLCBzdHIpIHtcbiAgICAgICAgICAgICAgdmFyIHF1ZXN0aW9uID0gJ0RvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGUge3s/fX0gZnJvbSByZXN1bWU/JztcblxuICAgICAgICAgICAgICBxdWVzdGlvbiA9IHF1ZXN0aW9uLnJlcGxhY2UoJ3t7P319Jywgc3RyKTtcblxuICAgICAgICAgICAgICB2YXIgdG1wU2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICB0bXBTY29wZS5xdWVzdGlvbiA9IHF1ZXN0aW9uO1xuXG4gICAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9yYi90ZW1wbGF0ZXMvZGVsZXRlLXJlc3VtZS1jb25maXJtLmh0bWwnXG4gICAgICAgICAgICAgICAgLCBzaXplOiAnc20nXG4gICAgICAgICAgICAgICAgLCBiYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgICAgICAgICwgc2NvcGU6IHRtcFNjb3BlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChib2wpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChib2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIGFyclBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLm1hcmtEaXJ0eSA9IGZ1bmN0aW9uIChuZXdWYWwsIHByb3BQYXRoKSB7XG4gICAgICAgICAgICAgIHZhciAkcmVzdW1lUGFyc2VyID0gJHBhcnNlKHJlc3VtZU1vZGVsLnJlc3VtZSk7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5pc0RpcnR5ICYmIChwcm9wUGF0aCA9PT0gdW5kZWZpbmVkIHx8ICRyZXN1bWVQYXJzZXIocHJvcFBhdGgpICE9PSBuZXdWYWwpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFRvIG1hcmsgaW5kaXZpZHVhbCBpbnB1dCBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFNldHRlcnMgYW5kIGdldHRlcnMgZm9yIHNlY3Rpb25zIGFuZCBza2lsbHMgc2VjdGlvbnMgb2YgcmVzdW1lLlxuICAgICAgICAgICAgc2VsZi5kZWxldGVTZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgLy8gV2hlbiBkZWxldGluZyBhIHNlY3Rpb24gZnJvbSByZXN1bWUgbm9kZSBhZGQgdGhlIHNhbWVcbiAgICAgICAgICAgICAgLy8gdG8gc2VjdGlvbnMgYXZhaWxhYmxlIHRvIGFkZCBsaXN0LlxuICAgICAgICAgICAgICBzZWxmLnNlY3Rpb25zW25hbWVdID0gX3NlY3Rpb25zW25hbWVdO1xuXG4gICAgICAgICAgICAgIC8vIFNldCB0aGUgbm9kZSB0byBlbXB0eSBsaXN0IGFuZCBkZWxldGUgdGhlIHNlY3Rpb25cbiAgICAgICAgICAgICAgLy8gZnJvbSBzZWN0aW9ucyBsaXN0LlxuICAgICAgICAgICAgICBpZiAobmFtZSAhPT0gJ3NraWxscycpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlc3VtZVtuYW1lXVtub2RlXSA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgc2tpbGxzIGlzIGEgc3BlY2lhbCBjYXNlLlxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZWxmLnJlc3VtZVtuYW1lXSlcbiAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBldmVyeSB0aGluZyB0byBlbXB0eSB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXN1bWVbbmFtZV1ba2V5XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBwb3B1bGF0ZSB0aGUgc3ViIHNlY3Rpb24gZHJvcCBkb3duLlxuICAgICAgICAgICAgICAgIHNlbGYuc2tpbGxzID0gYW5ndWxhci5jb3B5KF9za2lsbHMpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2VjdGlvbnMgPSBzZWxmLnJlc3VtZS5zZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbi50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5hbWU7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHNlbGYuaXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmFkZFNlY3Rpb24gPSAkc2NvcGUuYWRkU2VjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHZhbGlkYXRpb24gc3RhdGVcbiAgICAgICAgICAgICAgJHNjb3BlLnJlc3VtZVZhbGlkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAkc2NvcGUuZm9ybVN0YXR1cyA9ICcnO1xuXG4gICAgICAgICAgICAgIC8vIFdoaWxlIGFkZGluZyBhIHNlbGVjdGVkIHNlY3Rpb24gdG8gcmVzdW1lIG5vZGUgZGVsZXRlXG4gICAgICAgICAgICAgIC8vIHRoZSBzZWN0aW9uIGZyb20gYXZhaWxhYmxlIHRvIGFkZCBsaXN0LlxuICAgICAgICAgICAgICBkZWxldGUgc2VsZi5zZWN0aW9uc1tuYW1lXTtcblxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIHNlY3Rpb24gYmVpbmcgYWRkZWQgdG8gcmVzdW1lIG9iamVjdC5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2VjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgJ3R5cGUnOiBuYW1lLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICAgICAsICdzdWJTZWN0aW9ucyc6IFtdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gSGFuZGxlciBmb3IgZGVsZXRpbmcgY3VzdG9tIHNlY3Rpb25cbiAgICAgICAgICAgIHNlbGYuZGVsZXRlQ3VzdG9tU2VjdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5hZGRpdGlvbmFsU2VjdGlvbnMgPSBzZWxmLnJlc3VtZS5hZGRpdGlvbmFsU2VjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb24uaWQgIT09IGlkO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5zZWN0aW9ucyA9IHNlbGYucmVzdW1lLnNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uLmlkICE9PSBpZDtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuYWRkQ3VzdG9tU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMDApKSArIDE7XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2VjdGlvbnMucHVzaCh7J3R5cGUnOiAnQ1VTVE9NX1NFQ1RJT04nLCBpZDogc2VjdGlvbklkfSk7XG5cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2VsZi5yZXN1bWUuYWRkaXRpb25hbFNlY3Rpb25zKSkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVzdW1lLmFkZGl0aW9uYWxTZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLmFkZGl0aW9uYWxTZWN0aW9ucy5wdXNoKHtpZDogc2VjdGlvbklkLCBzZWN0aW9uOiAnQ1VTVE9NIFNFQ1RJT04nLCBjb250ZW50OiAnJ30pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEVuZCBvZiBzZWN0aW9uIHJlbGF0ZWQgbWV0aG9kc1xuXG5cbiAgICAgICAgICAgIC8vIEFkZCBhbmQgZGVsZXRpbmcgb2Ygc3ViIHNlY3Rpb24gcmVsYXRlZCBtZXRob2RzOlxuICAgICAgICAgICAgc2VsZi5hZGRTdWJTZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgLy8gTk9URTogSSB0aGluayB0aGUgb2JqZWN0IGNvbXBhcmlzb24gaXMgZmFpbGluZyBiZWNhdXNlIG9mXG4gICAgICAgICAgICAgIC8vIGRpZmZlcmluZyBpZHMgdGhhdCBnZXQgcG9wdWxhdGVkIG9uY2UgYWRkaW5nIGEgc2VjdGlvbi5cbiAgICAgICAgICAgICAgdmFyIHRwbCA9IHtcbiAgICAgICAgICAgICAgICAgIGpvYnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVyJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdhZGRyZXNzJzogeydjaXR5JzogJycsICdzdGF0ZSc6ICcnLCAnY291bnRyeSc6IERFRkFVTFRfQ09VTlRSWX0sXG4gICAgICAgICAgICAgICAgICAgICdzdGFydERhdGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2VuZERhdGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2lzQ3VycmVudCc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLCBzY2hvb2xzOiB7XG4gICAgICAgICAgICAgICAgICAgICdkZXRhaWxzJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdpc0F0dGVuZGluZyc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAnY29tcGxldGlvbkRhdGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0RGF0ZSc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnZ3BhJzogeydtYXgnOiA0LjAsICd2YWx1ZSc6ICcnfSxcbiAgICAgICAgICAgICAgICAgICAgJ21ham9yJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdxdWFsaWZpY2F0aW9uTGV2ZWwnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZ3JlZVR5cGUnOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ3F1YWxpZmljYXRpb24nOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FkZHJlc3MnOiB7J2NpdHknOiAnJywgJ3N0YXRlJzogJycsICdjb3VudHJ5JzogREVGQVVMVF9DT1VOVFJZfSxcbiAgICAgICAgICAgICAgICAgICAgJ2luc3RpdHV0aW9uJzogJycsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAsIG9ialJlZjtcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNjaG9vbFxuICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VjdGlvbiBub2RlIGRvZXMgbm90IGhhdmUgYSBub2RlIHRvIGhvbGQgdGhlIGRldGFpbHMgb2Ygc3ViIHNlY3Rpb24gY3JlYXRlIG9uZS5cbiAgICAgICAgICAgICAgLy8gTk9URTogV2UgYXJlIGhhdmluZyB0byBkbyB0aGVzZSBiZWNhdXNlIG9mIHF1aXJrcyBpbiB0aGUgc2VydmljZS5cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2VsZi5yZXN1bWVbbmFtZV1bbm9kZV0pKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZXN1bWVbbmFtZV1bbm9kZV0gPSBbXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9ialJlZiA9IHNlbGYucmVzdW1lW25hbWVdW25vZGVdO1xuXG4gICAgICAgICAgICAgIG9ialJlZi5wdXNoKGFuZ3VsYXIuY29weSh0cGxbbm9kZV0pKTtcblxuICAgICAgICAgICAgICAvLyBvbmNlIHdlIHB1c2ggdGhlIG5vZGUgY3JlYXRlIGFuIGlkIGZvciB0aGUgbmV3bHkgY3JlYXRlZFxuICAgICAgICAgICAgICAvLyBub2RlIGJhc2VkIG9uIGl0cyBwb3NpdGlvbi5cblxuICAgICAgICAgICAgICBvYmpSZWZbb2JqUmVmLmxlbmd0aCAtIDFdLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMCkpICsgMTtcblxuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5zZWN0aW9ucyA9IHNlbGYucmVzdW1lLnNlY3Rpb25zLm1hcChmdW5jdGlvbiAoc2VjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24udHlwZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VjdGlvbnMgZG9lcyBub3QgYWxyZWFkeSBoYXZlIGEgc3ViIHNlY3Rpb24gYWRkIGFuZCBsaXN0IHRvIGtlZXAgdHJhY2sgb2YgdGhlbS5cbiAgICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KHNlY3Rpb24uc3ViU2VjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uc3ViU2VjdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgc2VjdGlvbi5zdWJTZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogc2VjdGlvbi50eXBlLnRvVXBwZXJDYXNlKCkgKyAnX1NVQlNFQ1RJT04nXG4gICAgICAgICAgICAgICAgICAgICwgaWQ6IG9ialJlZltvYmpSZWYubGVuZ3RoIC0gMV0uaWRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuZGVsZXRlU3ViU2VjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBub2RlLCBwb3MpIHtcbiAgICAgICAgICAgICAgdmFyIHRhcmdldFN1YlNlY3Rpb24gPSBzZWxmLnJlc3VtZVtuYW1lXVtub2RlXS5zcGxpY2UocG9zLCAxKTtcblxuICAgICAgICAgICAgICB2YXIgdGFyZ2V0U2VjdGlvbiA9IHNlbGYucmVzdW1lLnNlY3Rpb25zLlxuICAgICAgICAgICAgICAgIHJlZHVjZShmdW5jdGlvbiAocHJldiwgc2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgaWYgKHByZXYudHlwZSA9PT0gbmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHt9KTtcblxuICAgICAgICAgICAgICB0YXJnZXRTZWN0aW9uLnN1YlNlY3Rpb25zID0gdGFyZ2V0U2VjdGlvbi5zdWJTZWN0aW9uc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YlNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJTZWN0aW9uLmlkICE9PSB0YXJnZXRTdWJTZWN0aW9uWzBdLmlkO1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuYWRkU2tpbGxzU3ViU2VjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnNraWxsc1tzZWxmLnRyYW5zW25hbWVdXTtcblxuICAgICAgICAgICAgICBzZWxmLnJlc3VtZS5zZWN0aW9ucyA9IHNlbGYucmVzdW1lLnNlY3Rpb25zLm1hcChmdW5jdGlvbiAoc2VjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24udHlwZS50b0xvd2VyQ2FzZSgpID09PSAnc2tpbGxzJykge1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VjdGlvbnMgZG9lcyBub3QgYWxyZWFkeSBoYXZlIGEgc3ViIHNlY3Rpb24gYWRkIGFuZCBsaXN0IHRvIGtlZXAgdHJhY2sgb2YgdGhlbS5cbiAgICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KHNlY3Rpb24uc3ViU2VjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uc3ViU2VjdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgc2VjdGlvbi5zdWJTZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbmFtZSA9PT0gJ3NraWxscycgPyBuYW1lLnRvVXBwZXJDYXNlKCkgKyAnX1NVQlNFQ1RJT04nIDogbmFtZS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5yZXN1bWUuc2tpbGxzW3NlbGYudHJhbnNbbmFtZV1dID0gW107XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmRlbGV0ZVNraWxsc1N1YlNlY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpOyAvL3dpbGwgYmUgdHJhbnNwb3J0ZWQgbmFtZVxuXG4gICAgICAgICAgICAgIHNlbGYuc2tpbGxzW3NlbGYudHJhbnNbbmFtZV1dID0gX3NraWxsc1tzZWxmLnRyYW5zW25hbWVdXTtcblxuICAgICAgICAgICAgICAvL3Jlb3JkZXIgdGhlIHNraWxscyBtZW51IGl0ZW1zXG4gICAgICAgICAgICAgIHNlbGYuc2tpbGxzID0gIGFuZ3VsYXIuY29weSh1dGlscy5zb3J0QnlWYWx1ZShzZWxmLnNraWxscykpO1xuXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLnNraWxsc1tzZWxmLnRyYW5zW25hbWVdXSA9IFtdO1xuXG4gICAgICAgICAgICAgIHNlbGYucmVzdW1lLnNlY3Rpb25zLmV2ZXJ5KGZ1bmN0aW9uIChzZWN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdza2lsbHMnKSB7XG4gICAgICAgICAgICAgICAgICBzZWN0aW9uLnN1YlNlY3Rpb25zID0gc2VjdGlvbi5zdWJTZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcy50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5hbWU7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuZGVsZXRlU2tpbGxJbnB1dCA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCkge1xuICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmFkZEluZm9PYmogPSB7fTtcbiAgICAgICAgICAgIHNlbGYuYWRkU2tpbGxJbnB1dCA9IGZ1bmN0aW9uICh2YWx1ZSwgbGlzdCwgdHlwZSwgJGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgKCRldmVudC5rZXlDb2RlID09PSAxMyB8fCAkZXZlbnQua2V5Q29kZSA9PT0gOSkpIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICRzY29wZS5hZGRJbmZvT2JqW3R5cGVdID0gJyc7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5hZGRTa2lsbElucHV0T25CbHVyID0gZnVuY3Rpb24gKHZhbHVlLCBsaXN0LCB0eXBlKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICRzY29wZS5hZGRJbmZvT2JqW3R5cGVdID0gJyc7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gRW5kIHN1YiBzZWN0aW9uIHJlbGF0ZWQgbWV0aG9kc1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBSZW5hbWUgaXQgdG8gc29tZXRoaW5nIG1vcmUgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgIC8vIG5vdyB0aGF0IHRoZSBpbnRlbnQgaGFzIGNoYW5nZWQuXG4gICAgICAgICAgICBzZWxmLmRvd25sb2FkID0gZnVuY3Rpb24gKGN0YSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZDtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgICAgIHNlbGYuZG9BdXRvU2F2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBzYXZlIHJlc3VtZSBpZiBpcyBtb2RpZmllZCBiZWZvcmVcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIHRvIHNlZSBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZi5pc0RpcnR5IHx8ICRzY29wZS5yZXN1bWVFZGl0b3IuJGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZVJlc3VtZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGF1dG8gc2F2ZSB0aW1lciwgYXMgd2UgbWF5IG5vdCByZXF1aXJlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChhdXRvU2F2ZVByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJldmlldyh7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgIGhpZGVFZGl0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGN0YTogY3RhXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuaXNTYXZlZCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnNhdmVSZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9taXNlXG4gICAgICAgICAgICAgICAgLCBkZWZlcnJlZDtcblxuICAgICAgICAgICAgICByZXN1bWVNb2RlbC5yZXN1bWUgPSBhbmd1bGFyLmNvcHkoX21vZGVsKTtcbiAgICAgICAgICAgICAgJHNjb3BlLnRyYW5zZm9ybVNraWxsc0FycmF5MlN0cihyZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqLnJlc3VtZS5za2lsbHMpO1xuICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybUFsbERhdGVzKHJlc3VtZU1vZGVsLnJlc3VtZS5yZXN1bWVPYmoucmVzdW1lLCB0cnVlKTtcblxuICAgICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgICAgLy8gQ2FuY2VsIGF1dG8gc2F2ZSB0aW1lciBzaW5jZSB3ZSBhcmUgYWxyZWFkeSBpbiB0aGUgc2F2aW5nIHBoYXNlLlxuICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGF1dG9TYXZlUHJvbWlzZSk7XG5cbiAgICAgICAgICAgICAgcHJvbWlzZSA9IHJlc3VtZU1vZGVsLnVwZGF0ZSgpO1xuXG4gICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDb25maXJtTXNnID0gJ1Jlc3VtZSBzYXZlZCBhdCAnICsgJGZpbHRlcignZGF0ZScpKG5ldyBEYXRlKCksICdzaG9ydFRpbWUnKTtcbiAgICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVzdW1lRWRpdG9yLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUbyByZXNldCBidXR0b24gc3RhdGVcbiAgICAgICAgICAgICAgICAgICRzY29wZS5pc1NhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0aW9uRXJyb3IgPSAnU29ycnksIHRoZXJlIHdhcyBwcm9ibGVtIHNhdmluZyB5b3VyIHJlc3VtZSBhdCB0aGlzIHRpbWUgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gYWxsIGRhdGVzIHRvIGRhdGUgb2JqZWN0c1xuICAgICAgICAgICAgICAgICAgc2VsZi50cmFuc2Zvcm1BbGxEYXRlcyhyZXN1bWVNb2RlbC5yZXN1bWUucmVzdW1lT2JqLnJlc3VtZSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgYXV0byBzYXZlIGFmdGVyIHVzZXJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5hdXRvU2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHNlbGYuc2F2ZSh7cHJvbWlzZTogcHJvbWlzZX0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmF1dG9TYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyBTdGFydCB0aW1lciBmb3IgYXV0byBzYXZlXG4gICAgICAgICAgICAgIGF1dG9TYXZlUHJvbWlzZSA9ICRpbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBvbmx5IHdoZW4gc29tZXRoaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmlzRGlydHkgfHwgJHNjb3BlLnJlc3VtZUVkaXRvci4kZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0bXBNb2RlbCA9IGFuZ3VsYXIuY29weShfbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLnRyYW5zZm9ybVNraWxsc0FycmF5MlN0cih0bXBNb2RlbC5yZXN1bWVPYmoucmVzdW1lLnNraWxscyk7XG5cbiAgICAgICAgICAgICAgICAgIHJlc3VtZU1vZGVsLnJlc3VtZSA9IHRtcE1vZGVsO1xuXG4gICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybUFsbERhdGVzKHJlc3VtZU1vZGVsLnJlc3VtZS5yZXN1bWVPYmoucmVzdW1lLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGF1dG8gc2F2ZSB0aW1lciBzaW5jZSB3ZSBhcmUgYWxyZWFkeSBpbiB0aGUgc2F2aW5nIHBoYXNlLlxuICAgICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChhdXRvU2F2ZVByb21pc2UpO1xuXG4gICAgICAgICAgICAgICAgICByZXN1bWVNb2RlbC51cGRhdGUoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VtZUVkaXRvci4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNvbmZpcm1Nc2cgPSAnUmVzdW1lIHNhdmVkIGF0ICcgKyAkZmlsdGVyKCdkYXRlJykobmV3IERhdGUoKSwgJ3Nob3J0VGltZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNmb3JtIGFsbCBkYXRlcyB0byBkYXRlIG9iamVjdHNcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zZm9ybUFsbERhdGVzKHJlc3VtZU1vZGVsLnJlc3VtZS5yZXN1bWVPYmoucmVzdW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hdXRvU2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDEwMDAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS50cmFuc2Zvcm1Ta2lsbHNBcnJheTJTdHIgPSBmdW5jdGlvbiAoc2tpbGxzKSB7XG4gICAgICAgICAgICAgIHZhciBza2lsbDtcbiAgICAgICAgICAgICAgZm9yIChza2lsbCBpbiBza2lsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpbGwgIT09ICdza2lsbHMnKSB7XG4gICAgICAgICAgICAgICAgICBza2lsbHNbc2tpbGxdID0gc2tpbGxzW3NraWxsXS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZURhdGUgPSBmdW5jdGlvbiAoZGF0YSwgb2JqLCBwcm9wKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgJHNjb3BlLmRhdGVDb25maWcgPSB7XG4gICAgICAgICAgICAgIHRvZGF5OiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICwgZGF0ZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcbiAgICAgICAgICAgICAgICBzaG93V2Vla3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1pbk1vZGU6ICdtb250aCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi52YWxpZGF0ZURhdGUgPSBmdW5jdGlvbiAoZGF0ZSwgbWFya0RpcnR5KSB7XG4gICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAsIHN0YXJ0RGF0ZVxuICAgICAgICAgICAgICAgICwgZW5kRGF0ZTtcblxuICAgICAgICAgICAgICBzdGFydERhdGUgPSBkYXRlLnN0YXJ0O1xuICAgICAgICAgICAgICBlbmREYXRlID0gZGF0ZS5lbmQ7XG5cblxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEYXRlKHN0YXJ0RGF0ZSkgfHwgKCFhbmd1bGFyLmlzRGF0ZShlbmREYXRlKSAmJiAhZGF0ZS5pc0N1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdQbGVhc2UgZW50ZXIgdGhlIGRhdGUgaW4gc3BlY2lmaWVkIGZvcm1hdCc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyAgQ2hlY2sgaWYgdXNlciBoYXMgcGlja2VkIGEgZnV0dXJlIGRhdGUuXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShzdGFydERhdGUpICYmIHN0YXJ0RGF0ZS5nZXRUaW1lKCkgPiB0b2RheS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1lvdSBjYW5ub3QgcGljayBhIGRhdGUgaW4gZnV0dXJlJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgd29ya2luZyBvciBhdHRlbmRpbmdcbiAgICAgICAgICAgICAgaWYgKCFkYXRlLmlzQ3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShlbmREYXRlKSAmJiBlbmREYXRlLmdldFRpbWUoKSA+IHRvZGF5LmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICdZb3UgY2Fubm90IHBpY2sgYSBkYXRlIGluIGZ1dHVyZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGVuZERhdGUpICYmIGFuZ3VsYXIuaXNEYXRlKHN0YXJ0RGF0ZSkgJiYgZW5kRGF0ZS5nZXRUaW1lKCkgPD0gc3RhcnREYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICdFbmQgZGF0ZSBjYW5ub3QgZmFsbCBiZWZvcmUgc3RhcnQgZGF0ZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChtYXJrRGlydHkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNlbGYuaXNWYWxpZEdQQSA9IGZ1bmN0aW9uIChncGEpIHtcbiAgICAgICAgICAgICAgLy8gSWYgbm8gdmFsdWVzIGp1c3QgcmV0dXJuIHdpdGhvdXQgYW55IHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgIGlmICghZ3BhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCEvXlxcZHsxfVxcLlxcZHsxfSQvLnRlc3QoZ3BhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnSW52YWxpZCBHUEEnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZ3BhID0gcGFyc2VGbG9hdChncGEpO1xuICAgICAgICAgICAgICBpZiAoZ3BhID4gNC4wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdHUEEgY2Fubm90IGV4Y2VlZCA0LjAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlbGYuaXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzZWxmLmRlbGV0ZVJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgICAgICAgICAgcHJvbWlzZSA9IHJlc3VtZU1vZGVsLmRlbGV0ZShyZXN1bWVNb2RlbC5yZXN1bWUubWV0YS5pZClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBzZWxmLmRlbGV0ZSh7cHJvbWlzZTogcHJvbWlzZX0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2VsZi5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKG9iaiwgcHJvcCkge1xuICAgICAgICAgICAgICByZXR1cm4gb2JqICYmICEhb2JqW3Byb3BdO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICBzZWxmLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdURVNUJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZWxmLmVtcHR5U3RhdGUgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAgICAgICBpZiAoYWRkcmVzcy5jb3VudHJ5ICE9PSBERUZBVUxUX0NPVU5UUlkpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzLnN0YXRlID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEZpcmUgYSBjYWxsYmFjayBpZiBwcm92aWRlZCB0byBsZXQga25vdyB0aGUgbW9kZWwgaXMgdW5hdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAoIXNlbGYuaXNSZWFkeSkge1xuICAgICAgICAgICAgICAoc2VsZi5mYWlsIHx8IGFuZ3VsYXIubm9vcCkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2VkaXRvckN0cmwnLFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICB9O1xuXG4gICAgfSk7XG59KShhbmd1bGFyKTtcblxuLyoqXG4gKiBDcmVhdGVkIGJ5IHlyZ2FudGEgb24gNi8yLzE1LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdhcG9sbG8tY3JlYXRlLXJlc3VtZScsIFtcbiAgICAnYXBvbGxvQW5ndWxhclJlc3VtZUJ1aWxkZXIuY29uZmlnJ1xuICAgICwgJ3Jlc3VtZS1tb2RlbCdcbiAgICAsICd1aS5ib290c3RyYXAnXG4gICAgLCAncmVzdW1lLWJ1aWxkZXItdHBscydcbiAgICAsICduZ0ZpbGVVcGxvYWQnXG4gICAgLCAncmVzdW1lLXV0aWxzJ1xuICBdKVxuICAgIC5jb250cm9sbGVyKCdDcmVhdGVSZXN1bWVDdHJsJywgW1xuICAgICAgJ3Jlc3VtZU1vZGVsJ1xuICAgICAgLCAnJHVpYk1vZGFsJ1xuICAgICAgLCAnJHNjb3BlJ1xuICAgICAgLCAnJGZpbHRlcidcbiAgICAgICwgJyRxJ1xuICAgICAgLCAnJHBhcnNlJ1xuICAgICAgLCAncmVzdW1lLXV0aWxzJ1xuICAgICAgLCBmdW5jdGlvbiAocmVzdW1lTW9kZWwsICRtb2RhbCwgJHNjb3BlLCAkZmlsdGVyLCAkcSwgJHBhcnNlLCB1dGlscykge1xuICAgICAgICB2YXIgX18gPSB0aGlzO1xuXG4gICAgICAgIF9fLmNvbXBsZXRlID0gX18uY29tcGxldGUgfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgbW9kZWwgZm9yIGEgZ2l2ZW4gcHJvZmlsZUlkLlxuICAgICAgICByZXN1bWVNb2RlbC5pbml0KF9fLnByb2ZpbGVJZCk7XG4gICAgICAgICRzY29wZS5yZXN1bWVMaXN0ID0gcmVzdW1lTW9kZWwucmVzdW1lTGlzdDtcblxuICAgICAgICBmdW5jdGlvbiBsb2FkTWV0YUluZm8obGFiZWwpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICAgIC8vIGZpbHRlciBmb3IgY3VycmVudGx5IHVwbG9hZGVkIGRvYyBtZXRhIGluZm9cbiAgICAgICAgICB2YXIgbWV0YUluZm8gPSAkZmlsdGVyKCdmaWx0ZXInKShyZXN1bWVNb2RlbC5yZXN1bWVMaXN0LCB7J2xhYmVsJzogbGFiZWx9KTtcblxuICAgICAgICAgIGlmIChtZXRhSW5mby5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1ldGFJbmZvID0gbWV0YUluZm9bMF07XG5cbiAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVzdW1lTW9kZWwuZ2V0KG1ldGFJbmZvKSk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldFByZWZlcmVuY2VzKG1ldGFJbmZvLmlkKSk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJlc3VtZU1vZGVsLmdldENvdW50cnlMaXN0KCkpO1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyZXN1bWVNb2RlbC5nZXRTdGF0ZXMoKSk7XG5cbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfXy5mcm9tU2NyYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKF9fLmlzS25vd24pICYmIF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogX18uZnJvbVNjcmF0Y2h9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZVxuICAgICAgICAgICAgLCBtU2NvcGU7XG5cbiAgICAgICAgICBtU2NvcGUgPSAkc2NvcGUuJG5ldygpO1xuXG4gICAgICAgICAgLy9pZiByZXN1bWUgUmVzdW1lIGlzIGNyZWF0ZWQgdXNpbmcgQWN0aW9uIGJ1dHRvblxuICAgICAgICAgIC8vIGhpZGUgcmVzdW1lIGxpc3RcbiAgICAgICAgICByZXN1bWVNb2RlbC5zaG93TGlzdCA9IGZhbHNlO1xuXG4gICAgICAgICAgbVNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgkZXZlbnQsIGxhYmVsKSB7XG4gICAgICAgICAgICAkZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICBtU2NvcGUuaW5WYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIHJlc3VtZU1vZGVsLnNhdmUoe3R5cGU6ICduZXcnLCBuYW1lOiBsYWJlbH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRNZXRhSW5mbyhsYWJlbCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgbW9kYWwgb25jZSB0aGUgcmVzdW1lIGlzIHNhdmVkXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5jbG9zZShyZXN1bWVNb2RlbC5yZXN1bWUubWV0YS5pZCA/ICdTdWNjZXNzJyA6ICdGYWlsJyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLy50aGVuKHJlc3VtZU1vZGVsLmluaXQpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIG1TY29wZS5pblZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICBtU2NvcGUuZXJyb3IgPSBlcnIuZGF0YS5maWVsZEVycm9yc1swXS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbVNjb3BlLmVycm9yID0gJ09vcHMuLnNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtU2NvcGUuZXJyb3IgPSAnUmVzdW1lIHRpdGxlIGlzIHJlcXVpcmVkLic7XG4gICAgICAgICAgICAgIG1TY29wZS5pblZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcmIvdGVtcGxhdGVzL25ldy1yZXN1bWUtY29uZmlybWF0aW9uLmh0bWwnXG4gICAgICAgICAgICAvLywgc2l6ZTogJ3NtJ1xuICAgICAgICAgICAgLCBiYWNrZHJvcDogdHJ1ZVxuICAgICAgICAgICAgLCBzY29wZTogbVNjb3BlXG4gICAgICAgICAgfSk7XG5cblxuICAgICAgICAgIF9fLmNvbXBsZXRlKHtwcm9taXNlOiBtb2RhbEluc3RhbmNlLnJlc3VsdH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgX18uZnJvbUZTID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKF9fLmlzS25vd24pICYmIF9fLmlzS25vd24oKSkge1xuICAgICAgICAgICAgKF9fLmF1dGhlbnRpY2F0ZSB8fCBhbmd1bGFyLm5vb3ApKHtjYWxsYmFjazogdXRpbHMuY2xvc3VyZUZ1bmN0aW9uKF9fLmZyb21TY3JhdGNoLCBbZGF0YV0pfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHByb21pc2U7XG4gICAgICAgICAgJHNjb3BlLnVwbG9hZEVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSByZXN1bWVNb2RlbC5zYXZlKHt0eXBlOiAndXBsb2FkJywgZGF0YTogZGF0YX0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZE1ldGFJbmZvKCRwYXJzZSgnbmFtZScpKGRhdGEpKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnc3VjY2Vzcyc7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRFcnJvciA9IHJlc3AuZGF0YS5maWVsZEVycm9yc1swXS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfXy5jb21wbGV0ZSh7cHJvbWlzZTogcHJvbWlzZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIF9fLmZyb21MaW5rZWRJbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdW1lTW9kZWwuc2F2ZSh7dHlwZTogJ2ltcG9ydCd9KTtcbiAgICAgICAgfTtcblxuICAgICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnYXBDcmVhdGVSZXN1bWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHByb2ZpbGVJZDogJz1waWQnXG4gICAgICAgICAgLCBjb21wbGV0ZTogJyZvbkNvbXBsZXRlJ1xuICAgICAgICAgICwgaXNLbm93bjogJyYnXG4gICAgICAgICAgLCAnYXV0aGVudGljYXRlJzogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3JiL3RlbXBsYXRlcy9jcmVhdGUtcmVzdW1lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ3JlYXRlUmVzdW1lQ3RybCcsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2NyQ3RybCcsXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgIH07XG4gICAgfSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG4vKipcbiAqIENyZWF0ZWQgYnkgeXJnYW50YSBvbiA5LzQvMTUuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgncmVzdW1lLXV0aWxzJywgW10pXG4gICAgLmZhY3RvcnkoJ3Jlc3VtZS11dGlscycsIFtmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsb3N1cmVGdW5jdGlvbjogZnVuY3Rpb24gKGZ1bmMsIGFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShhcmdzKSAmJiBhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmdW5jLmFwcGx5KHt9LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBzb3J0QnlWYWx1ZTogZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICB2YXIga2V5VmFsdWVBcnJheSA9IE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspe1xuICAgICAgICAgICAgICByZXR1cm4gW2ssb2JqW2tdXTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGtleVZhbHVlQXJyYXkuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYVsxXSA8IGJbMV0gPyAtMSA6IGFbMV0gPiBiWzFdPyAxIDogMDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBzb3J0YWJsZSA9IHt9O1xuICAgICAgICAgIGtleVZhbHVlQXJyYXkuZm9yRWFjaChmdW5jdGlvbihhKXtcbiAgICAgICAgICAgc29ydGFibGVbYVswXV0gPSBhWzFdO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzb3J0YWJsZTtcbiAgICAgICAgfVxuXG4gICAgICB9O1xuICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbi8qKlxuICogQ3JlYXRlZCBieSB5cmdhbnRhIG9uIDUvMTUvMTUuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgYnVpbGQteW91ci1yZXN1bWUucmVzdW1lTW9kZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEEgbW9kZWwgdGhhdCBpcyBzaGFyZWQgYmV0d2VlbiBleGVyY2lzZSBjb250cm9sbGVyIGFuZCBkb25lIGNvbnRyb2xsZXIgdG8gaW50ZXJhY3Qgd2l0aFxuICAgKiBhY3R1YWwgcmVzdW1lIG1vZGVsLlxuICAgKlxuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ3Jlc3VtZS1tb2RlbCcsIFtcbiAgICAnYXBvbGxvQW5ndWxhclJlc3VtZVNlcnZpY2VzLnJlc3VtZSdcbiAgXSlcbiAgICAuY29uc3RhbnQoJ0RFRkFVTFRfQ09VTlRSWScsICdVbml0ZWQgU3RhdGVzJylcbiAgICAuZmFjdG9yeSgncmVzdW1lTW9kZWwnLCBbXG4gICAgICAnJHJlc3VtZXNlcnZpY2UnXG4gICAgICAsICckcSdcbiAgICAgICwgJyRwYXJzZSdcbiAgICAgICwgJyRzY2UnXG4gICAgICAsICckd2luZG93J1xuICAgICAgLCAnREVGQVVMVF9DT1VOVFJZJ1xuICAgICAgLCBmdW5jdGlvbiAoJHJlc3VtZSwgJHEsICRwYXJzZSwgJHNjZSwgJHdpbmRvdywgREVGQVVMVF9DT1VOVFJZKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHt9XG4gICAgICAgICAgLCBwcm9maWxlSWRcbiAgICAgICAgICAsIGluaXRMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICAsIGluaXRQcm9taXNlO1xuXG4gICAgICAgIC8vIGluaXRcbiAgICAgICAgbW9kZWwuaW5pdCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIGlmICghaW5pdExvYWRpbmcpIHtcbiAgICAgICAgICAgIHByb2ZpbGVJZCA9IGlkO1xuICAgICAgICAgICAgaW5pdExvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgLy8gR2V0IG1ldGEgaW5mby5cbiAgICAgICAgICAgIGluaXRQcm9taXNlID0gbW9kZWwuZ2V0TWV0YUluZm8oKVxuICAgICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5pdExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbml0UHJvbWlzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdFByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gUmV0cmlldmUgbW9kZWwgbWV0YSBpbmZvIGlmIGFueSBhdmFpbGFibGUuXG4gICAgICAgIG1vZGVsLmdldE1ldGFJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmxpc3QocHJvZmlsZUlkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICBtb2RlbC5yZXN1bWVMaXN0ID0gJHBhcnNlKCdkYXRhLml0ZW1zJykocmVzKTtcblxuICAgICAgICAgICAgICAvLyBOT1RFOiBOb3Qgc3VyZSB3aGF0IHRoZSBiZWxvdyBjb2RlIGlzIGRvaW5nIGFueW1vcmUuXG4gICAgICAgICAgICAgIC8vaWYgKCFhbmd1bGFyLmlzQXJyYXkocmVzdW1lTGlzdCkgJiYgcmVzdW1lTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gIC8vIFJlamVjdCB0aGUgcHJvbWlzZS5cbiAgICAgICAgICAgICAgLy8gIHJldHVybiAkcS5yZWplY3QoJ0Nhbm5vdCBmaW5kIGFuIGV4aXN0aW5nIHJlc3VtZS4gTm8gam95Li4ubm8gam95LicpO1xuICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEdldCB0aGUgcmVzdW1lIG1vZGVsIGZyb20gZGIuXG4gICAgICAgIG1vZGVsLmdldCA9IGZ1bmN0aW9uIChtZXRhSW5mbykge1xuICAgICAgICAgIG1vZGVsLnJlc3VtZSA9IHtcbiAgICAgICAgICAgIG1ldGE6IG1ldGFJbmZvXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmdldCh7cHJvZmlsZUlkOiBwcm9maWxlSWQsIGRvY0lkOiBtb2RlbC5yZXN1bWUubWV0YS5pZH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdW1lT2JqKSB7XG4gICAgICAgICAgICAgIG1vZGVsLnJlc3VtZS5yZXN1bWVPYmogPSByZXN1bWVPYmouZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vc2V0IGRlZmF1bHQgdmFsdWUgZm9yIENvdW50cnkgYXMgJ1VuaXRlZCBTdGF0ZXMnXG4gICAgICAgIG1vZGVsLnVwZGF0ZURlZmF1bHRWYWx1ZXMgPSBmdW5jdGlvbiAocmVzdW1lT2JqKSB7XG4gICAgICAgICAgdmFyIGpvYnM7XG4gICAgICAgICAgdmFyIHNjaG9vbHM7XG4gICAgICAgICAgLy9jb250YWN0IHNlY3Rpb25cbiAgICAgICAgICBpZiAoIXJlc3VtZU9iai5yZXN1bWUuY29udGFjdC5wb3N0YWxBZGRyZXNzLmNvdW50cnkpIHtcbiAgICAgICAgICAgIHJlc3VtZU9iai5yZXN1bWUuY29udGFjdC5wb3N0YWxBZGRyZXNzLmNvdW50cnkgPSBERUZBVUxUX0NPVU5UUlk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9leHBlcmllbmNlXG4gICAgICAgICAgaWYgKHJlc3VtZU9iai5yZXN1bWUuZXhwZXJpZW5jZSAmJiByZXN1bWVPYmoucmVzdW1lLmV4cGVyaWVuY2Uuam9icykge1xuICAgICAgICAgICAgam9icyA9IHJlc3VtZU9iai5yZXN1bWUuZXhwZXJpZW5jZS5qb2JzO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGpvYnMsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5hZGRyZXNzLmNvdW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5hZGRyZXNzLmNvdW50cnkgPSBERUZBVUxUX0NPVU5UUlk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vZWR1Y2F0aW9uXG4gICAgICAgICAgaWYgKHJlc3VtZU9iai5yZXN1bWUuZWR1Y2F0aW9uICYmIHJlc3VtZU9iai5yZXN1bWUuZWR1Y2F0aW9uLnNjaG9vbHMpIHtcbiAgICAgICAgICAgIHNjaG9vbHMgPSByZXN1bWVPYmoucmVzdW1lLmVkdWNhdGlvbi5zY2hvb2xzO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNjaG9vbHMsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5hZGRyZXNzLmNvdW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5hZGRyZXNzLmNvdW50cnkgPSBERUZBVUxUX0NPVU5UUlk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBnZXQgbW9kZWwgcHJlZmVyZW5jZXNcbiAgICAgICAgbW9kZWwuZ2V0UHJlZmVyZW5jZXMgPSBmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS5nZXRQcmVmZXJlbmNlcyh7cHJvZmlsZUlkOiBwcm9maWxlSWQsIGRvY0lkOiBkb2NJZH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgbW9kZWwucmVzdW1lLnByZWZlcmVuY2VzID0gcHJlZmVyZW5jZXMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBwcmVmZXJlbmNlc1xuICAgICAgICBtb2RlbC5zZXRQcmVmZXJlbmNlID0gZnVuY3Rpb24gKGRvY0lkLCBkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuICRyZXN1bWUuc2V0UHJlZmVyZW5jZSh7cHJvZmlsZUlkOiBwcm9maWxlSWQsIGRvY0lkOiBkb2NJZCwgcGF5bG9hZDogZGF0YX0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGdldCByZXN1bWUgdGVtcGxhdGVzXG4gICAgICAgIG1vZGVsLmdldFRlbXBsYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuICRyZXN1bWUuZ2V0VGVtcGxhdGVzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgICAgdGhhdC50ZW1wbGF0ZXMgPSB0ZW1wbGF0ZXMuZGF0YS5pdGVtcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCB0ZW1wbGF0ZVxuICAgICAgICBtb2RlbC5zZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRQcmVmZXJlbmNlKG1vZGVsLnJlc3VtZS5tZXRhLCB7cmVzdW1lVGVtcGxhdGVQcmVmZXJlbmNlOiB0aGlzLnByZWZlcmVuY2VzLnJlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZX0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNyZWF0ZSwgdXBsb2FkIG9yIGltcG9ydCBhIHJlc3VtZVxuICAgICAgICBtb2RlbC5zYXZlID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSwgdGhhdDtcblxuICAgICAgICAgIHRoYXQgPSB0aGlzO1xuICAgICAgICAgIC8vIElmIGEgcmVzdW1lIGFscmVhZHkgZXhpdCB0cmlnZ2VyIGEgcmVxdWVzdCB0byBkZWxldGUgYmVmb3JlIGNyZWF0aW5nIGEgbmV3LlxuICAgICAgICAgIC8vdGhpcy5kZWxldGUoKTtcblxuICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUgPT09ICd1cGxvYWQnKSB7XG4gICAgICAgICAgICAvLyB1cGxvYWQgZXhpc3RpbmcgcmVzdW1lXG4gICAgICAgICAgICBwcm9taXNlID0gJHJlc3VtZS51cGxvYWQocHJvZmlsZUlkLCBwYXlsb2FkLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChwYXlsb2FkLnR5cGUgPT09ICdpbXBvcnQnKSB7XG4gICAgICAgICAgICAvLyBpbXBvcnQgZnJvbSBsaW5rZWRJblxuICAgICAgICAgICAgcHJvbWlzZSA9ICRyZXN1bWUuaW1wb3J0TGlua2VkSW4ocHJvZmlsZUlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOZXcgcmVzdW1lIGZyb20gc2NyYXRjaC5cbiAgICAgICAgICAgIHByb21pc2UgPSAkcmVzdW1lLmNyZWF0ZShwcm9maWxlSWQsIHtuYW1lOiBwYXlsb2FkLm5hbWV9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBtb2RlbCBiZWZvcmUgcmV0dXJuaW5nLlxuICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4obW9kZWwuZ2V0TWV0YUluZm8pO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1vZGVsLmRlbGV0ZSA9IGZ1bmN0aW9uIChkb2NJZCkge1xuICAgICAgICAgIGlmIChkb2NJZCkge1xuICAgICAgICAgICAgcmV0dXJuICRyZXN1bWUuZGVsZXRlKHtwcm9maWxlSWQ6IHByb2ZpbGVJZCwgZG9jSWQ6IGRvY0lkfSlcbiAgICAgICAgICAgICAgLnRoZW4obW9kZWwuZ2V0TWV0YUluZm8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdEb2N1bWVudCBpZCByZXF1aXJlZCB0byBkZWxldGUgcmVzdW1lIScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTYXZlLCB1cGRhdGUgZGF0YSBiYWNrIGluIGRiXG4gICAgICAgIG1vZGVsLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuICRyZXN1bWUudXBkYXRlKHtwcm9maWxlSWQ6IHByb2ZpbGVJZCwgZG9jSWQ6IHRoaXMucmVzdW1lLm1ldGEuaWQsIGRhdGE6IHRoaXMucmVzdW1lLnJlc3VtZU9ian0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdW1lKSB7XG4gICAgICAgICAgICAgIHRoYXQucmVzdW1lLnJlc3VtZU9iaiA9IHJlc3VtZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVXBkYXRlIHRpdGxlXG4gICAgICAgIG1vZGVsLnVwZGF0ZVJlc3VtZVRpdGxlID0gZnVuY3Rpb24gKHRpdGxlKSB7XG4gICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgcmV0dXJuICRyZXN1bWUudXBkYXRlKHtcbiAgICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZUlkXG4gICAgICAgICAgICAsIGRvY0lkOiB0aGlzLnJlc3VtZS5tZXRhLmlkXG4gICAgICAgICAgICAsIGRhdGE6IHtcbiAgICAgICAgICAgICAgJ25hbWUnOiB0aXRsZVxuICAgICAgICAgICAgICAsICdyZXN1bWUnOiB7fVxuICAgICAgICAgICAgICAsICdwcmltYXJ5SW5kJzogJ1knXG4gICAgICAgICAgICAgICwgJ3N0YXR1cyc6ICdDT01QTEVURSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VtZSkge1xuICAgICAgICAgICAgICB0aGF0LnJlc3VtZS5yZXN1bWVPYmogPSByZXN1bWUuZGF0YTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihtb2RlbC5nZXRNZXRhSW5mbyk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBtb2RlbC5nZXRQcmV2aWV3VXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMucmVzdW1lLnByZWZlcmVuY2VzLnByZXZpZXdVcmwgPSAkcmVzdW1lLnByZXZpZXdVcmwoe1xuICAgICAgICAgICAgcHJvZmlsZUlkOiBwcm9maWxlSWQsXG4gICAgICAgICAgICBkb2NJZDogdGhpcy5yZXN1bWUubWV0YS5pZCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnJlc3VtZS5wcmVmZXJlbmNlcy5yZXN1bWVUZW1wbGF0ZVByZWZlcmVuY2UgfHwgJ2NsYXNzaWMnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVzdW1lLnByZWZlcmVuY2VzLnByZXZpZXdVcmw7XG4gICAgICAgIH07XG5cbiAgICAgICAgbW9kZWwuZ2V0UHJldmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSwgdGhhdDtcbiAgICAgICAgICB0aGF0ID0gdGhpcztcbiAgICAgICAgICBwcm9taXNlID0gJHJlc3VtZS5wcmV2aWV3KHtcbiAgICAgICAgICAgIHByb2ZpbGVJZDogcHJvZmlsZUlkLFxuICAgICAgICAgICAgZG9jaUlkOiB0aGlzLm1ldGEuaWQsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnByZWZlcmVuY2VzLnJlc3VtZVRlbXBsYXRlUHJlZmVyZW5jZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICB2YXIgaHRtbEVsZW07XG4gICAgICAgICAgICBodG1sRWxlbSA9ICR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgICAgICAgICAgaHRtbEVsZW0uaW5uZXJIVE1MID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAvLyBRdWljayB3YXkgdG8gcmV0cmlldmUgY29udGVudHMgb2YgdGhlIGJvZHkuXG4gICAgICAgICAgICB0aGF0LmNvbnRlbnQgPSBodG1sRWxlbS5xdWVyeVNlbGVjdG9yKCdib2R5JykuaW5uZXJIVE1MO1xuICAgICAgICAgICAgLy8gZG8gc29tZSBjbGVhbiB1cCB0byBwbGVhc2UgYW5ndWxhciB0byBpbnNlcnQgaXQgYmFjayBpbnRvIGRvbVxuICAgICAgICAgICAgdGhhdC5jb250ZW50ID0gKHRoYXQuY29udGVudCkucmVwbGFjZSgvXFxzKyg8KS9nLCAnJDEnKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvKD4pXFxzKy9nLCAnJDEnKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzK+KAk1xccysvZywgJyAtICcpO1xuICAgICAgICAgICAgdGhhdC5jb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCh0aGF0LmNvbnRlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEdldCB0ZW1wbGF0ZS5cbiAgICAgICAgbW9kZWwuZ2V0VGVtcGxhdGVzKCk7XG5cbiAgICAgICAgLy8gTWFrZSBkdXBsaWNhdGUgb2YgYSByZXN1bWUuXG4gICAgICAgIG1vZGVsLmNyZWF0ZUR1cGxpY2F0ZSA9IGZ1bmN0aW9uIChkb2NJZCwgbmFtZSkge1xuICAgICAgICAgIHJldHVybiAkcmVzdW1lLmR1cGxpY2F0ZSh7XG4gICAgICAgICAgICBwcm9maWxlSWQ6IHByb2ZpbGVJZCxcbiAgICAgICAgICAgIGRvY0lkOiBkb2NJZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgcHJpbWFyeUluZDogJ04nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIFJlIGdldCB0aGUgbmV3IGxpc3Qgb2YgcmVzdW1lcy5cbiAgICAgICAgICAgIC50aGVuKG1vZGVsLmdldE1ldGFJbmZvKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtb2RlbC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkZWxldGUgbW9kZWwucmVzdW1lTGlzdDtcbiAgICAgICAgICBkZWxldGUgbW9kZWwucmVzdW1lO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gZ2V0IGNvdW50cnkgbGlzdFxuICAgICAgICBtb2RlbC5nZXRDb3VudHJ5TGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS5nZXRDb3VudHJ5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBtb2RlbC5yZXN1bWUuY291bnRyaWVzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvL2dldCBVUyBzdGF0ZSBsaXN0XG4gICAgICAgIG1vZGVsLmdldFN0YXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJHJlc3VtZS5nZXRTdGF0ZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgbW9kZWwucmVzdW1lLnN0YXRlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0LmRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuLy8gQ3JlYXRlIGFsbCBtb2R1bGVzIGFuZCBkZWZpbmUgZGVwZW5kZW5jaWVzIHRvIG1ha2Ugc3VyZSB0aGV5IGV4aXN0XG4vLyBhbmQgYXJlIGxvYWRlZCBpbiB0aGUgY29ycmVjdCBvcmRlciB0byBzYXRpc2Z5IGRlcGVuZGVuY3kgaW5qZWN0aW9uXG4vLyBiZWZvcmUgYWxsIG5lc3RlZCBmaWxlcyBhcmUgY29uY2F0ZW5hdGVkIGJ5IEdydW50XG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4vLyBDb25maWdcbiAgYW5ndWxhci5tb2R1bGUoJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyLmNvbmZpZycsIFtdKVxuICAgIC52YWx1ZSgnYXBvbGxvQW5ndWxhclJlc3VtZUJ1aWxkZXIuY29uZmlnJywge1xuICAgICAgZGVidWc6IHRydWVcbiAgICAgICwgZWRpdG9yTGF5b3V0OiBmYWxzZVxuICAgIH0pO1xuXG5cbi8vIE1vZHVsZXNcbiAgYW5ndWxhci5tb2R1bGUoJ2Fwb2xsb0FuZ3VsYXJSZXN1bWVCdWlsZGVyJyxcbiAgICBbXG4gICAgICAnYXBvbGxvQW5ndWxhclJlc3VtZUJ1aWxkZXIuY29uZmlnJ1xuICAgICAgLCAnYXBvbGxvLXNhbXBsZS1yZXN1bWVzJ1xuICAgICAgLCAnYXBvbGxvLWNyZWF0ZS1yZXN1bWUnXG4gICAgICAsICdhcG9sbG8tbGlzdC1yZXN1bWVzJ1xuICAgICAgLCAnYXBvbGxvLXJlc3VtZS1lZGl0b3InXG4gICAgICAsICdhcG9sbG8tcHJldmlldy1yZXN1bWUnXG4gICAgICAsICdjZ0J1c3knXG4gICAgICAsICdyZXN1bWUtdXRpbHMnXG5cbiAgICBdKVxuICAgIC5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvcmIvdGVtcGxhdGVzL2R1cC1yZXN1bWUtY29uZmlybWF0aW9uLmh0bWwnLCAnJyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIHJlc3VtZS1idWlsZGVyLW1vZGFsXCIgaWQ9XCJkdXBsaWNhdGUtcmVzdW1lLW1vZGFsXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbGFiZWw9XCJOZXcgcmVzdW1lIHRpdGxlXCIgdGFiaW5kZXg9XCIwXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicm93XCI+JyArXG4gICAgICAgICc8Zm9ybSBjbGFzcz1cImNvbC1tZC0xMlwiIG5nLXN1Ym1pdD1cInN1Ym1pdChybGFiZWwpXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGxhYmVsIGZvcj1cInJlc3VtZS10aXRsZVwiIHRhYmluZGV4PVwiLTFcIj5QbGVhc2UgZW50ZXIgbmV3IHJlc3VtZSB0aXRsZTo8L2xhYmVsPicgK1xuICAgICAgICAnPGlucHV0IGlkPVwicmVzdW1lLXRpdGxlXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cImVudGVyIHRoZSByZXN1bWUgdGl0bGVcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5nLW1vZGVsPVwicmxhYmVsXCIgbWF4bGVuZ3RoPVwiNzVcIiBhdXRvZm9jdXM+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgcm9sZT1cImFsZXJ0XCIgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXG4gICAgICAgICc8c21hbGwgY2xhc3M9XCJjb2wtbWQtMTIgYWxlcnQgYWxlcnQtZGFuZ2VyXCIgbmctc2hvdz1cImluVmFsaWRcIj57e2Vycm9yfX08L3NtYWxsPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Zvcm0+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtbGVmdFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIicgK1xuICAgICAgICAnIG5nLWNsaWNrPVwic3VibWl0KHJsYWJlbClcIj5DcmVhdGU8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LXJpZ2h0XCI+IDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIiRjbG9zZSgpO1wiPkNhbmNlbDwvYT48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nKTtcblxuXG4gICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJy9yYi90ZW1wbGF0ZXMvZGVsZXRlLXJlc3VtZS1jb25maXJtLmh0bWwnLCAnJyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIHJlc3VtZS1idWlsZGVyLW1vZGFsXCIgaWQ9XCJkZWxldGUtcmVzdW1lLWNvbmZpcm1hdGlvblwiIHJvbGU9XCJhbGVydGRpYWxvZ1wiIHRhYmluZGV4PVwiMFwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC0xMiB0ZXh0LWNlbnRlclwiPicgK1xuICAgICAgICAnPHA+e3txdWVzdGlvbn19PC9wPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtY2VudGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGNsb3NlKHRydWUpO1wiPlllczwvYnV0dG9uPjwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02XCI+IDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIiRjbG9zZSgpO1wiPkNhbmNlbDwvYT48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+Jyk7XG5cbiAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnL3JiL3RlbXBsYXRlcy9uZXctcmVzdW1lLWNvbmZpcm1hdGlvbi5odG1sJywgJycgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZCByZXN1bWUtYnVpbGRlci1tb2RhbFwiIGlkPVwibmV3LXJlc3VtZS1tb2RhbFwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsPVwiTmV3IHJlc3VtZSB0aXRsZVwiIHRhYmluZGV4PVwiMFwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGZvcm0gY2xhc3M9XCJjb2wtbWQtMTJcIiBuZy1zdWJtaXQ9XCJzdWJtaXQoJGV2ZW50LCBybGFiZWwpXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAnPGxhYmVsIGZvcj1cInJlc3VtZS10aXRsZVwiIHRhYmluZGV4PVwiLTFcIj5QbGVhc2UgZW50ZXIgcmVzdW1lIHRpdGxlOjwvbGFiZWw+JyArXG4gICAgICAgICc8aW5wdXQgaWQ9XCJyZXN1bWUtdGl0bGVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiZW50ZXIgdGhlIHJlc3VtZSB0aXRsZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmctbW9kZWw9XCJybGFiZWxcIiBtYXhsZW5ndGg9XCI3NVwiIGF1dG9mb2N1cz4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPGRpdiByb2xlPVwiYWxlcnRcIiBjbGFzcz1cImZvcm0tZ3JvdXBcIj4nICtcbiAgICAgICAgJzxzbWFsbCBjbGFzcz1cImNvbC1tZC0xMiBhbGVydCBhbGVydC1kYW5nZXJcIiBuZy1zaG93PVwiaW5WYWxpZFwiPnt7ZXJyb3J9fTwvc21hbGw+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzwvZm9ybT4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLW1kLTYgdGV4dC1sZWZ0XCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiJyArXG4gICAgICAgICcgbmctY2xpY2s9XCJzdWJtaXQoJGV2ZW50LCBybGFiZWwpXCI+Q3JlYXRlPC9idXR0b24+PC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLW1kLTYgdGV4dC1yaWdodFwiPiA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCIkY2xvc2UoKTtcIj5DYW5jZWw8L2E+PC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+Jyk7XG5cblxuICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvcmIvdGVtcGxhdGVzL2NvbmZpcm0tbmF2aWdhdGlvbi1hd2F5Lmh0bWwnLCAnJyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIHJlc3VtZS1idWlsZGVyLW1vZGFsXCIgcm9sZT1cImFsZXJ0ZGlhbG9nXCIgdGFiaW5kZXg9XCIwXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicm93XCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtY2VudGVyXCI+JyArXG4gICAgICAgICc8cD5Zb3UgYXJlIGFib3V0IHRvIGxlYXZlIHJlc3VtZSBidWlsZGVyLCBtYWtlIHN1cmUgeW91IGhhdmUgc2F2ZWQgeW91ciB3b3JrLjwvcD4nICtcbiAgICAgICAgJzxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGlzIHBhZ2U/PC9wPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC02IHRleHQtcmlnaHRcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY2xvc2UodHJ1ZSk7XCI+U3RheSBvbiB0aGlzIFBhZ2U8L2J1dHRvbj48L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LWxlZnRcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY2xvc2UoZmFsc2UpO1wiPkxlYXZlIHRoaXMgUGFnZTwvYnV0dG9uPjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+PC9kaXY+Jyk7XG4gICAgICBcbiAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgnL3JiL3RlbXBsYXRlcy9yZXN1bWUtbGltaXQtZXJyb3IuaHRtbCcsICcnICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZCByZXN1bWUtYnVpbGRlci1tb2RhbFwiIGlkPVwicmVzdW1lLW1heGxpbWl0LWVycm9yXCIgcm9sZT1cImFsZXJ0ZGlhbG9nXCIgdGFiaW5kZXg9XCIwXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJyb3dcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPicgK1xuICAgICAgICAgICc8cD57e21lc3NhZ2V9fTwvcD4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cInJvdyBmbGF0dGVuXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjbG9zZSh0cnVlKTtcIj5Pa2F5PC9idXR0b24+PC9kaXY+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPjwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+Jyk7XG4gICAgfV0pO1xuXG59KShhbmd1bGFyKTtcbiJdLCJzb3VyY2VSb290IjoiLi9kaXN0In0=
